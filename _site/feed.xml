<?xml version="1.0" encoding="UTF-8"?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
  <channel>
    <title>cocoafei</title>
    <description>æ¬¢è¿æ¥åˆ°æˆ‘çš„Blog~</description>
    <link>http://localhost:4000/</link>
    <atom:link href="http://localhost:4000/feed.xml" rel="self" type="application/rss+xml"/>
    <pubDate>Thu, 03 Sep 2020 16:51:47 +0800</pubDate>
    <lastBuildDate>Thu, 03 Sep 2020 16:51:47 +0800</lastBuildDate>
    <generator>Jekyll v4.1.1</generator>
    
      <item>
        <title>å¼€å‘è€…å¿«é€Ÿé…ç½®ç¯å¢ƒæŒ‡å—</title>
        <description>&lt;h2 id=&quot;å‰è¨€&quot;&gt;å‰è¨€&lt;/h2&gt;

&lt;p&gt;å¼€å‘é…ç½®ç¯å¢ƒæˆ–æ›´æ–°æ—¶ï¼Œç»å¸¸è¢«ç½‘ç»œæå¾—ç²¾ç–²åŠ›ç«­ï¼Œ&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;403 Forbidden&lt;/code&gt;ã€&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;443 Timeout&lt;/code&gt;ï¼Œ&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;SSL_ERROR_SYSCALL&lt;/code&gt;ç­‰å„ç§é”™è¯¯ï¼Œä¸ç»å†å¦‚å°åª³å¦‡ç›¼å¤«å½’èˆ¬çš„ç­‰å¾…è¿›åº¦æ¡&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;########    9.1%&lt;/code&gt;æ…¢æ…¢çˆ¬è¡Œï¼Œ&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;clone&lt;/code&gt;è‡³ 99% æ—¶çªç„¶&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;error&lt;/code&gt;çš„ç»æœ›å¿ƒæƒ…ï¼Œæ˜¯ä¸ä¼šç†è§£è¿™ç§å¿ƒæƒ…çš„ ğŸ˜¤ ã€‚&lt;/p&gt;

&lt;p&gt;ç©¶å…¶åŸå› ï¼Œæ˜¯å›½å¤–ç½‘ç»œè¢«å±è”½ã€é€Ÿåº¦æ…¢ï¼Œæ‰çº¿ç­‰å„ç§å› ç´ é€ æˆçš„ï¼›æƒ³å­¦ä¹ æ—¶ï¼Œå¯èƒ½èŠ±äº†ä¸€å¤©é…ç½®ç¯å¢ƒï¼Œç¯å¢ƒé…ç½®å¥½æ—©å·²æ²¡äº†å¿ƒæƒ…ã€‚å¹¸è¿çš„æ˜¯å›½å†…é«˜æ ¡å’Œå¤§å…¬å¸éƒ½æä¾›äº†é•œåƒæºï¼Œé€Ÿåº¦å’Œç¨³å®šæ€§éƒ½å¤§å¹…åº¦æå‡ï¼Œå›½å†…ç›´è¿ï¼Œæ¯”ä»˜è´¹ VPN é€Ÿåº¦æ›´å¿«ï¼Œç¨³å®šæ€§æ›´é«˜ã€‚&lt;/p&gt;

&lt;p&gt;é•œåƒæºå¯ç®€å•ç†è§£ä¸ºâ€œå¤åˆ¶çš„ä¸‹è½½æºâ€ï¼Œä¾‹å¦‚ä¸‹è½½ä¸€éƒ¨ç”µå½±ï¼ŒåŸå§‹é“¾æ¥&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;https://movie.***.com&lt;/code&gt;æ˜¯å›½å¤–æœåŠ¡å™¨çš„ä¸‹è½½é“¾æ¥ï¼Œå›½å†…ç›´æ¥ä¸‹è½½å¯èƒ½é€Ÿåº¦åªæœ‰ 20KBï¼›è¿™æ—¶å¦‚æœå›½å†…æœ‰äººèŠ±è´¹ä¸€æ•´å¤©æŠŠç”µå½±ä¸‹è½½åï¼ŒæŠŠè¿™éƒ¨ç”µå½±æ”¾åˆ°å›½å†…æœåŠ¡å™¨ä¸Šï¼Œå¹¶å‘å¤–å¼€æ”¾ä¸‹è½½åœ°å€&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;https://movie.***.cn&lt;/code&gt;ï¼Œè¿™æ—¶å›½å†…æœ‰äººæƒ³ä¸‹è½½è¿™éƒ¨ç”µå½±ï¼Œä½¿ç”¨åé¢åˆ†äº«çš„è¿™ä¸ªé“¾æ¥ï¼Œä¸‹è½½é€Ÿåº¦å¯èƒ½å°±è¾¾åˆ° 2MB äº†ï¼›è¿™é‡Œçš„æ¯”å–»å¯èƒ½ä¸å¤ªæ°å½“ï¼Œä»…ç”¨äºç†è§£é•œåƒæºã€‚&lt;/p&gt;

&lt;p&gt;æœ¬æ–‡æä¾› brewã€pypiã€dockerï¼Œgithub ç­‰éƒ¨åˆ†è§£å†³æ–¹æ¡ˆï¼Œè¯¦ç»†è¯´æ˜å¯æŸ¥çœ‹é•œåƒæºçš„å¸®åŠ©æ–‡æ¡£ã€‚&lt;/p&gt;

&lt;h2 id=&quot;é•œåƒæº&quot;&gt;é•œåƒæº&lt;/h2&gt;

&lt;p&gt;å›½å†…é•œåƒæºåšçš„æ¯”è¾ƒå¥½çš„æ˜¯&lt;strong&gt;ä¸­ç§‘å¤§&lt;/strong&gt;å’Œæ¸…åï¼Œå…¶ä»–å¤§å…¬å¸ä¹Ÿæä¾›äº†é•œåƒæºï¼Œä¾‹å¦‚é˜¿é‡Œã€è…¾è®¯ï¼Œç½‘æ˜“ç­‰ï¼Œä¸€èˆ¬æƒ…å†µä¸‹ä¸­ç§‘å¤§å’Œæ¸…åé•œåƒæºå®Œå…¨èƒ½æ»¡è¶³å¼€å‘éœ€æ±‚ï¼Œä»¥&lt;strong&gt;ä¸­ç§‘å¤§&lt;/strong&gt;é•œåƒæºä¸¾ä¾‹ã€‚&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://mirrors.ustc.edu.cn/&quot;&gt;ä¸­ç§‘å¤§é•œåƒæºåœ°å€&lt;/a&gt; &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;https://mirrors.ustc.edu.cn/&lt;/code&gt;ï¼Œè¿™æ˜¯è‡ªåŠ¨è§£æçº¿è·¯ï¼Œè¿˜å¯ä»¥æ ¹æ®è‡ªå·±çš„ç½‘ç»œé€‰æ‹©å¦‚ä¸‹é€Ÿåº¦å¿«çš„çº¿è·¯ï¼š&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;&lt;a href=&quot;https://mirrors.ustc.edu.cn/&quot;&gt;è‡ªåŠ¨è§£æ https://mirrors.ustc.edu.cn/&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://ipv4.mirrors.ustc.edu.cn/&quot;&gt;IPv4 çº¿è·¯ https://ipv4.mirrors.ustc.edu.cn/&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://ipv6.mirrors.ustc.edu.cn/&quot;&gt;IPv6 çº¿è·¯ https://ipv6.mirrors.ustc.edu.cn/&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://cernet.mirrors.ustc.edu.cn/&quot;&gt;æ•™è‚²ç½‘çº¿è·¯ https://cernet.mirrors.ustc.edu.cn/&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://chinanet.mirrors.ustc.edu.cn/&quot;&gt;ç”µä¿¡çº¿è·¯ https://chinanet.mirrors.ustc.edu.cn/&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://unicom.mirrors.ustc.edu.cn/&quot;&gt;è”é€šçº¿è·¯ https://unicom.mirrors.ustc.edu.cn/&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://cmcc.mirrors.ustc.edu.cn/&quot;&gt;ç§»åŠ¨çº¿è·¯ https://cmcc.mirrors.ustc.edu.cn/&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://rsync.mirrors.ustc.edu.cn/&quot;&gt;Rsync çº¿è·¯ https://rsync.mirrors.ustc.edu.cn/&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;&lt;strong&gt;å¦‚ä½•è®¾ç½®é•œåƒæº&lt;/strong&gt;ï¼Œå¯æŸ¥çœ‹&lt;a href=&quot;https://mirrors.ustc.edu.cn/help/&quot;&gt;å¸®åŠ©æ–‡æ¡£&lt;/a&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;https://mirrors.ustc.edu.cn/help/&lt;/code&gt;ã€‚&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;å…¶ä»–é•œåƒæº&lt;/strong&gt;&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;&lt;a href=&quot;https://mirrors.tuna.tsinghua.edu.cn/&quot;&gt;æ¸…åé•œåƒæº https://mirrors.tuna.tsinghua.edu.cn/&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://developer.aliyun.com/mirror&quot;&gt;é˜¿é‡Œäº‘é•œåƒæº https://developer.aliyun.com/mirror&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://mirrors.cloud.tencent.com/&quot;&gt;è…¾è®¯é•œåƒæº https://ipv6.mirrors.ustc.edu.cn/&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;http://mirrors.163.com/&quot;&gt;ç½‘æ˜“é•œåƒæº http://mirrors.163.com/&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;h2 id=&quot;brew&quot;&gt;brew&lt;/h2&gt;

&lt;p&gt;&lt;strong&gt;æ›¿æ¢ brew æº&lt;/strong&gt;&lt;/p&gt;

&lt;div class=&quot;language-shell highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;c&quot;&gt;# æ›¿æ¢ brew.git:&lt;/span&gt;
&lt;span class=&quot;nb&quot;&gt;cd&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;si&quot;&gt;$(&lt;/span&gt;brew &lt;span class=&quot;nt&quot;&gt;--repo&lt;/span&gt;&lt;span class=&quot;si&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt;
git remote set-url origin https://mirrors.ustc.edu.cn/brew.git

&lt;span class=&quot;c&quot;&gt;# æ›¿æ¢ homebrew-core.git:&lt;/span&gt;
&lt;span class=&quot;nb&quot;&gt;cd&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;si&quot;&gt;$(&lt;/span&gt;brew &lt;span class=&quot;nt&quot;&gt;--repo&lt;/span&gt;&lt;span class=&quot;si&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;/Library/Taps/homebrew/homebrew-core&quot;&lt;/span&gt;
git remote set-url origin https://mirrors.ustc.edu.cn/homebrew-core.git

&lt;span class=&quot;c&quot;&gt;# æ›¿æ¢ Homebrew Cask&lt;/span&gt;
&lt;span class=&quot;nb&quot;&gt;cd&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;si&quot;&gt;$(&lt;/span&gt;brew &lt;span class=&quot;nt&quot;&gt;--repo&lt;/span&gt;&lt;span class=&quot;si&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt;/Library/Taps/homebrew/homebrew-cask
git remote set-url origin https://mirrors.ustc.edu.cn/homebrew-cask.git

&lt;span class=&quot;c&quot;&gt;# å¯¹äº bash ç”¨æˆ·ï¼Œæ›¿æ¢ Homebrew-bottles&lt;/span&gt;
&lt;span class=&quot;nb&quot;&gt;echo&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;'export HOMEBREW_BOTTLE_DOMAIN=https://mirrors.ustc.edu.cn/homebrew-bottles'&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;gt;&amp;gt;&lt;/span&gt; ~/.bash_profile
&lt;span class=&quot;nb&quot;&gt;source&lt;/span&gt; ~/.bash_profile

&lt;span class=&quot;c&quot;&gt;# å¯¹äº zsh ç”¨æˆ·ï¼Œæ›¿æ¢ Homebrew-bottles&lt;/span&gt;
&lt;span class=&quot;nb&quot;&gt;echo&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;'export HOMEBREW_BOTTLE_DOMAIN=https://mirrors.ustc.edu.cn/homebrew-bottles'&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;gt;&amp;gt;&lt;/span&gt; ~/.zshrc
&lt;span class=&quot;nb&quot;&gt;source&lt;/span&gt; ~/.zshrc
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;&lt;strong&gt;è¿˜åŸ brew ä¸ºå®˜æ–¹åœ°å€&lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Homebrew-bottles&lt;/code&gt;è¿˜åŸï¼Œæ‰“å¼€&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;.zshrc&lt;/code&gt;æˆ–&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;.bash_profile&lt;/code&gt;æ–‡ä»¶ï¼Œåˆ é™¤ä¸Šé¢æ·»åŠ çš„&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;HOMEBREW_BOTTLE_DOMAIN&lt;/code&gt;è¡Œå³å¯ã€‚&lt;/p&gt;

&lt;div class=&quot;language-sh highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;c&quot;&gt;# é‡ç½® brew.git ä¸ºå®˜æ–¹åœ°å€&lt;/span&gt;
&lt;span class=&quot;nb&quot;&gt;cd&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;si&quot;&gt;$(&lt;/span&gt;brew &lt;span class=&quot;nt&quot;&gt;--repo&lt;/span&gt;&lt;span class=&quot;si&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt;
git remote set-url origin https://github.com/Homebrew/brew.git

&lt;span class=&quot;c&quot;&gt;# é‡ç½® homebrew-core.git ä¸ºå®˜æ–¹åœ°å€&lt;/span&gt;
&lt;span class=&quot;nb&quot;&gt;cd&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;si&quot;&gt;$(&lt;/span&gt;brew &lt;span class=&quot;nt&quot;&gt;--repo&lt;/span&gt;&lt;span class=&quot;si&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;/Library/Taps/homebrew/homebrew-core&quot;&lt;/span&gt;
git remote set-url origin https://github.com/Homebrew/homebrew-core.git

&lt;span class=&quot;c&quot;&gt;# é‡ç½® homebrew-cask ä¸ºå®˜æ–¹åœ°å€&lt;/span&gt;
&lt;span class=&quot;nb&quot;&gt;cd&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;si&quot;&gt;$(&lt;/span&gt;brew &lt;span class=&quot;nt&quot;&gt;--repo&lt;/span&gt;&lt;span class=&quot;si&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt;/Library/Taps/homebrew/homebrew-cask
git remote set-url origin https://github.com/Homebrew/homebrew-cask
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;h2 id=&quot;pypipip&quot;&gt;pypi(pip)&lt;/h2&gt;

&lt;p&gt;pip æ˜¯ Python åŒ…ç®¡ç†å·¥å…·ï¼Œpip å‘½ä»¤é»˜è®¤ä½¿ç”¨çš„æ˜¯å›½å¤–çš„ pypi é•œåƒï¼ˆpypi.python.orgï¼‰ï¼Œé€Ÿåº¦æ…¢æ˜“æ‰çº¿ï¼Œåˆ‡æ¢ä¸ºå›½å†…é•œåƒæºã€‚&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;æ–¹æ³• 1ï¼š&lt;/strong&gt;&lt;/p&gt;

&lt;div class=&quot;language-shell highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;c&quot;&gt;# ä¸´æ—¶ä½¿ç”¨&lt;/span&gt;
pip &lt;span class=&quot;nb&quot;&gt;install&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-i&lt;/span&gt; https://mirrors.ustc.edu.cn/pypi/web/simple package
&lt;span class=&quot;c&quot;&gt;# è®¾ä¸ºé»˜è®¤ï¼Œå‡çº§ pip åˆ°æœ€æ–°çš„ç‰ˆæœ¬ (&amp;gt;=10.0.0) åè¿›è¡Œé…ç½®&lt;/span&gt;
pip &lt;span class=&quot;nb&quot;&gt;install&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-i&lt;/span&gt; https://mirrors.ustc.edu.cn/pypi/web/simple pip &lt;span class=&quot;nt&quot;&gt;-U&lt;/span&gt;
pip config &lt;span class=&quot;nb&quot;&gt;set &lt;/span&gt;global.index-url https://mirrors.ustc.edu.cn/pypi/web/simple
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;&lt;strong&gt;æ–¹æ³• 2ï¼š&lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;å½“æ–¹æ³• 1 ä¸èµ·ä½œç”¨æ—¶ï¼Œå¯å°è¯•æ­¤æ–¹æ³•ï¼Œåœ¨å½“å‰ç”¨æˆ·æ ¹ç›®å½•ä¸‹&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;~/.pip/pip.conf&lt;/code&gt;ï¼Œå†™å…¥å¦‚ä¸‹é…ç½®ï¼Œæ²¡æœ‰æ–‡ä»¶å¤¹å’Œæ–‡ä»¶åˆ›å»ºå³å¯ã€‚&lt;/p&gt;

&lt;div class=&quot;language-shell highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;o&quot;&gt;[[&lt;/span&gt;tool.poetry.source]]
name &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;tsinghua&quot;&lt;/span&gt;
url &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;https://pypi.tuna.tsinghua.edu.cn/simple&quot;&lt;/span&gt;
default &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;true&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;h2 id=&quot;docker&quot;&gt;Docker&lt;/h2&gt;

&lt;p&gt;å®‰è£…å®Œ Docker CE ä¹‹åï¼Œæ›¿æ¢æ‰å®˜æ–¹çš„ Docker Registry æœåŠ¡ï¼Œå¯åŠ å¿«æ‹‰å– Docker é•œåƒçš„é€Ÿåº¦ï¼Œä¸åŒç³»ç»Ÿçš„æ›´æ¢æ–¹æ³•ä¸ä¸€è‡´ï¼Œå‚è€ƒé•œåƒæºå¸®åŠ©æ–‡æ¡£å³å¯ã€‚&lt;/p&gt;

&lt;p&gt;ä»¥ macOS Catalina çš„ Docker ä¸ºä¾‹ï¼Œåœ¨ Preferences -&amp;gt; Docker Engine ä¸­æ·»åŠ ä»¥ä¸‹é…ç½®ï¼Œé‡å¯ Dockerï¼š&lt;/p&gt;

&lt;div class=&quot;language-shell highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;s2&quot;&gt;&quot;registry-mirrors&quot;&lt;/span&gt; : &lt;span class=&quot;o&quot;&gt;[&lt;/span&gt;
   &lt;span class=&quot;s2&quot;&gt;&quot;http://docker.mirrors.ustc.edu.cn&quot;&lt;/span&gt;,
   &lt;span class=&quot;s2&quot;&gt;&quot;http://hub-mirror.c.163.com&quot;&lt;/span&gt;,
   &lt;span class=&quot;s2&quot;&gt;&quot;https://mirror.ccs.tencentyun.com&quot;&lt;/span&gt;,
   &lt;span class=&quot;s2&quot;&gt;&quot;http://registry.docker-cn.com&quot;&lt;/span&gt;
 &lt;span class=&quot;o&quot;&gt;]&lt;/span&gt;,
 &lt;span class=&quot;s2&quot;&gt;&quot;insecure-registries&quot;&lt;/span&gt; : &lt;span class=&quot;o&quot;&gt;[&lt;/span&gt;
   &lt;span class=&quot;s2&quot;&gt;&quot;registry.docker-cn.com&quot;&lt;/span&gt;,
   &lt;span class=&quot;s2&quot;&gt;&quot;docker.mirrors.ustc.edu.cn&quot;&lt;/span&gt;
 &lt;span class=&quot;o&quot;&gt;]&lt;/span&gt;,
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;h2 id=&quot;cocoapods&quot;&gt;CocoaPods&lt;/h2&gt;

&lt;p&gt;CocoaPods çš„ trunk ä»“åº“å¤§éƒ¨åˆ†æ—¶å€™å°šå¯ï¼Œå½“é€Ÿåº¦æ…¢æˆ–è€…å¤±è´¥æ—¶ï¼Œå¯å°è¯•å¦‚ä¸‹é…ç½®ã€‚&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;å¯¹äºæ—§ç‰ˆçš„ CocoaPods å¯ä»¥ä½¿ç”¨å¦‚ä¸‹æ–¹æ³•ä½¿ç”¨ tuna çš„é•œåƒï¼š&lt;/strong&gt;&lt;/p&gt;

&lt;div class=&quot;language-shell highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;pod repo remove master
pod repo add master https://mirrors.tuna.tsinghua.edu.cn/git/CocoaPods/Specs.git
pod repo update
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;&lt;strong&gt;æ–°ç‰ˆçš„ CocoaPods ä¸å…è®¸ç”¨pod repo addç›´æ¥æ·»åŠ masteråº“äº†ï¼Œä½†æ˜¯ä¾ç„¶å¯ä»¥ï¼š&lt;/strong&gt;&lt;/p&gt;

&lt;div class=&quot;language-shell highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;nb&quot;&gt;cd&lt;/span&gt; ~/.cocoapods/repos 
pod repo remove master
git clone https://mirrors.tuna.tsinghua.edu.cn/git/CocoaPods/Specs.git master
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;&lt;strong&gt;æœ€åè¿›å…¥è‡ªå·±çš„å·¥ç¨‹ï¼Œåœ¨è‡ªå·±å·¥ç¨‹çš„podFileç¬¬ä¸€è¡ŒåŠ ä¸Šï¼š&lt;/strong&gt;&lt;/p&gt;

&lt;div class=&quot;language-shell highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;nb&quot;&gt;source&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;'https://mirrors.tuna.tsinghua.edu.cn/git/CocoaPods/Specs.git'&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;h2 id=&quot;github&quot;&gt;github&lt;/h2&gt;

&lt;p&gt;&lt;strong&gt;github åŸŸåæ±¡æŸ“&lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;éƒ¨åˆ†ç½‘ç»œå¯èƒ½ç”±äºåŸŸåæ±¡æŸ“ï¼Œgithub å‡ºç°è®¿é—®å¤±è´¥ã€å›¾ç‰‡åŠ è½½ä¸å‡ºæ¥çš„æƒ…å†µï¼Œè¿™æ—¶å€™å¯ä»¥å‚è€ƒä¿®æ”¹ hosts æ–‡ä»¶ï¼Œæ·»åŠ  IPä¸åŸŸåæ˜ å°„ï¼Œé€šè¿‡ç›´æ¥è®¿é—® IP åœ°å€çš„æ–¹å¼æ¥è®¿é—®ï¼Œç»“åˆ&lt;a href=&quot;https://github.com/oldj/SwitchHosts&quot;&gt;switchhosts&lt;/a&gt;ï¼Œå¯ä»¥å®ç°è‡ªåŠ¨ä¿®æ”¹æ›´æ–° hosts æ–‡ä»¶ã€‚&lt;/p&gt;

&lt;p&gt;github çš„ IP è‡ªåŠ¨æŒ‡å‘å¯å‚è€ƒ&lt;a href=&quot;https://github.com/521xueweihan/GitHub520&quot;&gt;GitHub520&lt;/a&gt;ï¼Œæ­¤æ–¹æ³•æœ‰æ•ˆä½†ä½œç”¨æœ‰é™ï¼Œgithub ç»å¸¸è®¿é—®å¤±è´¥çš„åŒå­¦å¯å°è¯•ä¸€ä¸‹ã€‚&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;github ä¸‹è½½é€Ÿåº¦æ…¢&lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;git clone&lt;/code&gt;è¾ƒå¤§é¡¹ç›®æ—¶ï¼Œé€Ÿåº¦æ…¢ã€æ€»æ˜¯å¤±è´¥çš„æƒ…å†µï¼Œå¯ä½¿ç”¨ VPN åŠ é€Ÿï¼Œæ•ˆæœæ˜æ˜¾ï¼Œæ­¤æ–¹æ³•åªé€‚åˆæœ‰ VPN æˆ–å…¶ä»–å·¥å…·çš„ç”¨æˆ·ã€‚&lt;/p&gt;

&lt;p&gt;ä¾‹å¦‚ VPN çš„ socks5 ç«¯å£æ˜¯ 49526ï¼Œå‚è€ƒä¸‹æ–¹&lt;strong&gt;socks5åè®®&lt;/strong&gt;é…ç½®ï¼š&lt;/p&gt;

&lt;div class=&quot;language-shell highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;c&quot;&gt;# socks5åè®®ï¼Œ49526 ç«¯å£ä¿®æ”¹æˆè‡ªå·±çš„æœ¬åœ°ä»£ç†ç«¯å£&lt;/span&gt;
git config &lt;span class=&quot;nt&quot;&gt;--global&lt;/span&gt; http.https://github.com.proxy socks5://127.0.0.1:49526
git config &lt;span class=&quot;nt&quot;&gt;--global&lt;/span&gt; https.https://github.com.proxy socks5://127.0.0.1:49526

&lt;span class=&quot;c&quot;&gt;# httpåè®®ï¼Œ49527 ç«¯å£ä¿®æ”¹æˆè‡ªå·±çš„æœ¬åœ°ä»£ç†ç«¯å£127.0.0.1:49527&lt;/span&gt;
git config &lt;span class=&quot;nt&quot;&gt;--global&lt;/span&gt; http.proxy http://127.0.0.1:49527
git config &lt;span class=&quot;nt&quot;&gt;--global&lt;/span&gt; https.proxy https://127.0.0.1:49527

&lt;span class=&quot;c&quot;&gt;# httpåè®®ï¼Œ49527 ç«¯å£ä¿®æ”¹æˆè‡ªå·±çš„æœ¬åœ°ä»£ç†ç«¯å£&lt;/span&gt;
git config &lt;span class=&quot;nt&quot;&gt;--global&lt;/span&gt; http.https://github.com.proxy https://127.0.0.1:49527
git config &lt;span class=&quot;nt&quot;&gt;--global&lt;/span&gt; https.https://github.com.proxy https://127.0.0.1:49527

&lt;span class=&quot;c&quot;&gt;# reset ä»£ç†è®¾ç½®&lt;/span&gt;
git config &lt;span class=&quot;nt&quot;&gt;--global&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;--unset&lt;/span&gt; http.https://github.com.proxy
git config &lt;span class=&quot;nt&quot;&gt;--global&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;--unset&lt;/span&gt; https.https://github.com.proxy
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

</description>
        <pubDate>Sat, 08 Aug 2020 00:00:00 +0800</pubDate>
        <link>http://localhost:4000/2020/08/%E5%BC%80%E5%8F%91%E8%80%85%E5%BF%AB%E9%80%9F%E9%85%8D%E7%BD%AE%E7%8E%AF%E5%A2%83%E6%8C%87%E5%8D%97/</link>
        <guid isPermaLink="true">http://localhost:4000/2020/08/%E5%BC%80%E5%8F%91%E8%80%85%E5%BF%AB%E9%80%9F%E9%85%8D%E7%BD%AE%E7%8E%AF%E5%A2%83%E6%8C%87%E5%8D%97/</guid>
        
        <category>é•œåƒæº</category>
        
        
      </item>
    
      <item>
        <title>SonarQube è‡ªåŠ¨åŒ–æ‰«æ iOS é¡¹ç›®</title>
        <description>&lt;h2 id=&quot;è‡ªåŠ¨æ‰«ææ¦‚è¿°&quot;&gt;è‡ªåŠ¨æ‰«ææ¦‚è¿°&lt;/h2&gt;

&lt;p&gt;SonarQube æ˜¯ä¸€æ¬¾ç”¨äºä»£ç è´¨é‡ç®¡ç†çš„å¼€æºå·¥å…·ï¼Œå®ƒä¸»è¦ç”¨äºç®¡ç†æºä»£ç çš„è´¨é‡ã€‚SonarQube å…¨è‡ªåŠ¨åŒ–æ‰«æï¼Œä¸»è¦åˆ©ç”¨ Jenkins æ£€æµ‹ Git ä»£ç æ›´æ–°ï¼Œå®šæ—¶æ‹‰å–ä»£ç ï¼Œç„¶åé…åˆ oclint åŠ SonarQube å®ç°è‡ªåŠ¨åŒ–æ‰«æå±•ç¤ºã€‚oclint è´Ÿè´£æ‰«æé¡¹ç›®ï¼ŒSonarQube è´Ÿè´£å°†æ‰«æç»“æœå­˜å‚¨åˆ°æ•°æ®åº“ï¼Œå¹¶æä¾›æ•°æ®å¯è§†åŒ–ã€‚&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/images/posts/sonar/sonar_swift.png&quot; alt=&quot;SonarQube&quot; /&gt;&lt;/p&gt;

&lt;h2 id=&quot;ä¸»è¦æ­¥éª¤&quot;&gt;ä¸»è¦æ­¥éª¤&lt;/h2&gt;

&lt;ol&gt;
  &lt;li&gt;Jenkins å®šæ—¶æ£€æµ‹ Git åˆ†æ”¯æ›´æ–°ï¼Œå¹¶æ‰§è¡Œè„šæœ¬ï¼ˆåªæœ‰æ­¤æ“ä½œä½¿ç”¨ Jenkinsï¼Œä»¥ä¸‹æ­¥éª¤ä½¿ç”¨è„šæœ¬ï¼‰ï¼›&lt;/li&gt;
  &lt;li&gt;è„šæœ¬æ£€æµ‹æœ¬åœ°æ˜¯å¦å·²å­˜åœ¨é¡¹ç›®ï¼Œä¸å­˜åœ¨&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;git clone&lt;/code&gt;æ‹‰å–ä»£ç ï¼Œå­˜åœ¨&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;git pull&lt;/code&gt;æ‹‰å–æ›´æ–°åˆ°æœ¬åœ°ï¼›&lt;/li&gt;
  &lt;li&gt;æŸ¥æ‰¾å®šä½åç¼€ä¸º&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;.xcodeproj&lt;/code&gt;çš„å·¥ç¨‹æ–‡ä»¶ï¼Œä½¿ç”¨&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;xcodebuild -list&lt;/code&gt;è·å– Schemes åˆ—è¡¨ï¼›&lt;/li&gt;
  &lt;li&gt;ä½¿ç”¨ xcodebuild æ¸…ç†å·¥ç¨‹ç¼“å­˜ï¼Œå¹¶ç”Ÿæˆæ–°çš„ç¼–è¯‘æ•°æ®ï¼Œä½¿ç”¨ xcpretty è½¬æˆ json æ ¼å¼ï¼›&lt;/li&gt;
  &lt;li&gt;ä½¿ç”¨ oclint è®¾ç½®ç›¸å…³å¿½ç•¥é¡¹ï¼Œå¹¶å¯¼å‡º oclint.xml æ ¼å¼åˆ†ææŠ¥å‘Šï¼›&lt;/li&gt;
  &lt;li&gt;è„šæœ¬åŠ¨æ€ç”Ÿæˆ sonar-project.properties æ–‡ä»¶ï¼Œå¹¶è°ƒç”¨ sonar-scanner å‚¨å­˜åˆ°æ•°æ®åº“ï¼›&lt;/li&gt;
  &lt;li&gt;å¯¼å‡º ~/.jenkins/jobs/ ç›®å½•ä¸‹çš„ config.xml æ¨¡æ¿æ–‡ä»¶ï¼Œè„šæœ¬æ‰¹é‡åˆ›å»ºæ·»åŠ ä»»åŠ¡ï¼›&lt;/li&gt;
  &lt;li&gt;æ‰‹åŠ¨æˆ– Jenkins è‡ªåŠ¨è§¦å‘æ‰«æï¼Œæœ¬æœºè®¿é—® &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;http://localhost:9000&lt;/code&gt; æŸ¥çœ‹ç»“æœã€‚&lt;/li&gt;
&lt;/ol&gt;

&lt;h2 id=&quot;å®‰è£…æµç¨‹&quot;&gt;å®‰è£…æµç¨‹&lt;/h2&gt;

&lt;ol&gt;
  &lt;li&gt;å®˜ç½‘ä¸‹è½½ dmg å®‰è£… Java 8ï¼ŒJenkins ä¾èµ– Java 8ï¼Œå¤šç‰ˆæœ¬å¯å…±å­˜ã€‚&lt;/li&gt;
  &lt;li&gt;å®‰è£… Jenkins å’Œç›¸å…³ Git ç»„ä»¶ï¼Œbrew å®‰è£…å¤±è´¥å¯è¿…é›·ä¸‹è½½æ›¿æ¢ï¼Œæ’ä»¶å®‰è£…å¤±è´¥å¯æ¢æºæ¢ç½‘ã€‚&lt;/li&gt;
  &lt;li&gt;brew å®‰è£… postgresqlï¼Œå¹¶åˆ›å»ºæ•°æ®åº“åã€è¡¨åã€ç”¨æˆ·åå’Œå¯†ç ä¸º sonar çš„æ•°æ®åº“ã€‚&lt;/li&gt;
  &lt;li&gt;ä¸‹è½½ sonarqube å®ç°å¯è§†åŒ–ï¼Œæ”¾åœ¨ /opt æˆ–å…¶ä»–ç›®å½•ä¸‹ï¼Œé…ç½® sonar.properties æ–‡ä»¶ã€‚&lt;/li&gt;
  &lt;li&gt;ä¸‹è½½ sonar-swift ä¸‰æ–¹æ’ä»¶ï¼Œå°†æ’ä»¶æ”¾åœ¨ sonarqube çš„ plugins ç›®å½•ä¸‹ã€‚&lt;/li&gt;
  &lt;li&gt;å®‰è£… sonar-scanner å¹¶é…ç½® sonar-scanner.properties æ–‡ä»¶çš„ URL å’Œç¼–ç ã€‚&lt;/li&gt;
  &lt;li&gt;é…ç½® Jenkins çš„ jobs ä»»åŠ¡å’Œ shell è¿è¡Œã€‚&lt;/li&gt;
&lt;/ol&gt;

&lt;h2 id=&quot;java-å®‰è£…&quot;&gt;Java å®‰è£…&lt;/h2&gt;

&lt;p&gt;è®¿é—® &lt;a href=&quot;https://www.oracle.com/technetwork/java/javase/downloads/index.html&quot;&gt;Javaå®˜ç½‘&lt;/a&gt;ï¼Œå¹¶ä¸‹è½½ Java 8 ç‰ˆæœ¬çš„ dmg å®‰è£…åŒ…ï¼ŒåŒå‡»å®‰è£…å³å¯ã€‚æ³¨æ„ï¼Œä¸è¦ä»…å®‰è£…æœ€æ–°ç‰ˆæœ¬ JDKï¼ŒJenkins è¦æ±‚ Java 8ï¼Œå¦‚æœéœ€è¦å¯ä»¥åŒæ—¶å®‰è£…å¤šç‰ˆæœ¬ Javaã€‚&lt;/p&gt;

&lt;p&gt;è‹¥éœ€è¦å®Œå…¨åˆ é™¤æ—§çš„ Java ç‰ˆæœ¬ï¼Œå¯æ‰§è¡Œä¸‹é¢çš„å‘½ä»¤å’Œæ“ä½œã€‚&lt;/p&gt;

&lt;div class=&quot;language-shell highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;nb&quot;&gt;sudo rm&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-fr&lt;/span&gt; /Library/Internet&lt;span class=&quot;se&quot;&gt;\ &lt;/span&gt;Plug-Ins/JavaAppletPlugin.plugin
&lt;span class=&quot;nb&quot;&gt;sudo rm&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-fr&lt;/span&gt; /Library/PreferencePanes/JavaControlPanel.prefPane
&lt;span class=&quot;nb&quot;&gt;sudo rm&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-fr&lt;/span&gt; ~/Library/Application&lt;span class=&quot;se&quot;&gt;\ &lt;/span&gt;Support/Oracle/Java
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;å¹¶åœ¨ /Library/Java/JavaVirtualMachines/ ç›®å½•ä¸‹åˆ é™¤å¯¹åº” Java ç‰ˆæœ¬ç¼“å­˜ã€‚&lt;/p&gt;

&lt;h2 id=&quot;jenkins-å®‰è£…&quot;&gt;Jenkins å®‰è£…&lt;/h2&gt;

&lt;p&gt;&lt;strong&gt;ç½‘ç»œä¸Šå®‰è£…æ•™ç¨‹å¾ˆå¤šï¼Œä¸å†è¯¦ç»†èµ˜è¿°ï¼Œä»…è¯´æ˜ç®€è¦æ­¥éª¤ã€‚&lt;/strong&gt;&lt;/p&gt;

&lt;ol&gt;
  &lt;li&gt;ä½¿ç”¨ brew å®‰è£…ç®€å•ï¼Œæ‰§è¡Œ&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;brew install jenkins&lt;/code&gt;å®‰è£…ï¼Œç»ˆç«¯æ‰§è¡Œ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;jenkins&lt;/code&gt; å¯åŠ¨ï¼›&lt;/li&gt;
  &lt;li&gt;å¯åŠ¨å®Œæˆï¼Œæµè§ˆå™¨è¾“å…¥&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;localhost:8080&lt;/code&gt;æµè§ˆï¼Œè¿›å…¥ Jenkins ç®¡ç†ç½‘é¡µï¼›&lt;/li&gt;
  &lt;li&gt;é¦–æ¬¡ä¼šæç¤ºè¾“å…¥åˆå§‹å¯†ç ï¼Œè‹¥æ— æç¤ºå¯åœ¨&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;~/.jenkins/secrets/initialAdminPassword&lt;/code&gt;è·¯å¾„æ‰¾åˆ°ï¼›&lt;/li&gt;
  &lt;li&gt;æ ¹æ®æç¤ºè¾“å…¥åˆå§‹å¯†ç ï¼Œå¹¶åˆ›å»ºç”¨æˆ·åå’Œå¯†ç ï¼Œä¾‹å¦‚é€‰æ‹©è´¦æˆ·åå’Œå¯†ç éƒ½æ˜¯ sonarï¼›&lt;/li&gt;
  &lt;li&gt;åœ¨ Jenkins ç³»ç»Ÿè®¾ç½®-æ’ä»¶ç®¡ç†ä¸­ï¼Œé€‰æ‹© Git å’Œ Xcode ç­‰ç›¸å…³æ’ä»¶ï¼›&lt;/li&gt;
  &lt;li&gt;é€‰æ‹© æ–°å»º-è‡ªç”±é£æ ¼é¡¹ç›®ï¼ŒæŒ‰ç…§æç¤ºé…ç½® Git å’Œ Shell è„šæœ¬å³å¯ã€‚&lt;/li&gt;
&lt;/ol&gt;

&lt;p&gt;&lt;strong&gt;ä½¿ç”¨ brew å®‰è£… Jenkins å¤±è´¥ï¼Œå¯æ‰‹åŠ¨å®‰è£…ï¼Œè¿…é›·ä¸‹è½½ï¼Œæ‰‹åŠ¨å¤åˆ¶åˆ°æŒ‡å®šç›®å½•ä¸‹ã€‚&lt;/strong&gt;&lt;/p&gt;

&lt;ol&gt;
  &lt;li&gt;brew install xxxx å¤±è´¥æ—¶è¿”å›å¯¹åº” xxxx.tar.gz çš„é“¾æ¥ï¼Œè¿…é›·ä¸‹è½½ï¼›&lt;/li&gt;
  &lt;li&gt;brew â€“cache æŸ¥çœ‹ç¼“å­˜(/Users/lif/Library/Caches/Homebrew);&lt;/li&gt;
  &lt;li&gt;ç‚¹å‡»ä»»æ„é“¾æ¥ï¼Œæ˜¾ç¤ºåŸèº«æ‰¾åˆ°ä¸‹è½½ç›®å½•&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;~/Library/Caches/Homebrew/downloads/&lt;/code&gt;;&lt;/li&gt;
  &lt;li&gt;å°†ä¸‹è½½çš„ xxxx.tar.gz æ‹·è´åˆ°ä¸‹è½½ç›®å½•ï¼Œåç§°å‘½åä¸ºå’Œ .tar.gz.incomplete åŒæ ·åç§°ï¼Œå»æ‰ .incomplete;&lt;/li&gt;
  &lt;li&gt;å†æ¬¡å®‰è£… brew install xxxxã€‚&lt;/li&gt;
&lt;/ol&gt;

&lt;p&gt;&lt;strong&gt;Jenkins å¦‚æœå®‰è£…æ’ä»¶å¤±è´¥ï¼Œå¯ä»¥æ›´æ¢å®‰è£…æºã€æ‰‹åŠ¨ä¸Šä¼ ã€ç§‘å­¦è®¿é—®å¤–ç½‘ï¼Œæ›´æ¢ç½‘ç»œã€‚&lt;/strong&gt;&lt;/p&gt;

&lt;ol&gt;
  &lt;li&gt;æ›´æ¢å®‰è£…æºè·¯å¾„åœ¨ Jenkins çš„ç®¡ç†ç½‘é¡µä¸­ï¼Œç³»ç»Ÿè®¾ç½®-æ’ä»¶ç®¡ç†-é«˜çº§-ä¿®æ”¹å‡çº§ç«™ç‚¹ã€‚
eg.å®‰è£…æºï¼šhttp://mirror.esuni.jp/jenkins/updates/update-center.json&lt;/li&gt;
  &lt;li&gt;å®˜ç½‘ä¸‹è½½åç¼€ .hpi æ’ä»¶æ–‡ä»¶ï¼Œåœ¨ç³»ç»Ÿè®¾ç½®-æ’ä»¶ç®¡ç†-é«˜çº§-ä¸Šä¼ æ’ä»¶ï¼Œé€‰æ‹©ä¸‹è½½çš„æ’ä»¶ä¸Šä¼ ã€‚
eg.Jenkins æ’ä»¶å®˜ç½‘ï¼šhttps://plugins.jenkins.io/&lt;/li&gt;
  &lt;li&gt;ç§‘å­¦è®¿é—®å¤–ç½‘ï¼Œå¯ä»¥é€‰æ‹©ç§‘å­¦è®¿é—®å¤–ç½‘ä¸‹è½½ã€‚&lt;/li&gt;
  &lt;li&gt;ä¸‹è½½å¤±è´¥ä¹Ÿå¯èƒ½æ˜¯è¿æ¥ç½‘ç»œçš„é—®é¢˜ï¼Œæˆ‘ä½¿ç”¨å…¬å¸ç½‘ç»œæ— è®ºå¦‚ä½•éƒ½æ˜¯å¤±è´¥ï¼Œä½¿ç”¨æ‰‹æœºåˆ†äº« WiFi ä¸‹è½½æˆåŠŸã€‚&lt;/li&gt;
&lt;/ol&gt;

&lt;p&gt;&lt;strong&gt;Jenkins å¯åŠ¨åœæ­¢&lt;/strong&gt;&lt;/p&gt;

&lt;div class=&quot;language-shell highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;c&quot;&gt;# å¯åŠ¨ jenkinsï¼ŒCtrl + C å¼ºåˆ¶ç»ˆæ­¢&lt;/span&gt;
jenkins
&lt;span class=&quot;c&quot;&gt;# brew å¯åŠ¨ jenkins æœåŠ¡çš„æ–¹å¼ï¼ˆæ³¨æ„æ­¤æ“ä½œå¯èƒ½ä¼šå¯¼è‡´æ‰§è¡Œ Shell å­˜åœ¨ç”¨æˆ·æƒé™é—®é¢˜ï¼‰&lt;/span&gt;
brew services restart jenkins
&lt;span class=&quot;c&quot;&gt;# brew åœæ­¢ jenkins æœåŠ¡çš„æ–¹å¼&lt;/span&gt;
brew services stop jenkins
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;æ³¨æ„ï¼šä½¿ç”¨æ­¤æ–¹å¼å¯åŠ¨å¯èƒ½å¯¼è‡´æ‰§è¡Œ Shell è„šæœ¬å¤±è´¥ï¼Œè‹¥å¤±è´¥å¯ä»¥åœ¨ç»ˆç«¯ä½¿ç”¨&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;jenkins&lt;/code&gt;å‘½ä»¤å¯åŠ¨ã€‚&lt;/p&gt;

&lt;p&gt;ç½‘é¡µå¯åŠ¨/åœæ­¢/é‡å¯æœåŠ¡ï¼š&lt;/p&gt;

&lt;div class=&quot;language-rb highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;http&lt;/span&gt;&lt;span class=&quot;ss&quot;&gt;:/&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;localhost&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;8080&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;exit&lt;/span&gt; &lt;span class=&quot;sr&quot;&gt;//&lt;/span&gt;&lt;span class=&quot;err&quot;&gt;åœæ­¢æœåŠ¡&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;http&lt;/span&gt;&lt;span class=&quot;ss&quot;&gt;:/&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;localhost&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;8080&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;restart&lt;/span&gt; &lt;span class=&quot;sr&quot;&gt;//&lt;/span&gt;&lt;span class=&quot;err&quot;&gt;é‡å¯æœåŠ¡&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;http&lt;/span&gt;&lt;span class=&quot;ss&quot;&gt;:/&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;localhost&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;8080&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;reload&lt;/span&gt; &lt;span class=&quot;sr&quot;&gt;//&lt;/span&gt; &lt;span class=&quot;err&quot;&gt;é‡æ–°è½½å…¥æœåŠ¡&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;h2 id=&quot;postgresql&quot;&gt;postgresql&lt;/h2&gt;

&lt;p&gt;sonarqube é»˜è®¤æ•°æ®åº“ä¸º h2ï¼Œç”¨äºæµ‹è¯•ï¼Œæˆ‘ä»¬å¯ä»¥åœ¨ sonarqube çš„å®‰è£…ç›®å½• conf/sonar.properties æ–‡ä»¶ä¸­æ‰¾åˆ°æ”¯æŒçš„æ•°æ®åº“çš„è¯´æ˜ï¼Œpostgresql å°±æ˜¯æ”¯æŒçš„ä¸€ç§ã€‚&lt;/p&gt;

&lt;blockquote&gt;
  &lt;p&gt;The embedded H2 database is used by default. It is recommended for tests but not for production use. Supported databases are Oracle, PostgreSQL and Microsoft SQLServer.&lt;/p&gt;
&lt;/blockquote&gt;

&lt;div class=&quot;language-shell highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;c&quot;&gt;# å®‰è£…&lt;/span&gt;
brew &lt;span class=&quot;nb&quot;&gt;install &lt;/span&gt;postgresql
&lt;span class=&quot;c&quot;&gt;# åˆå§‹åŒ–ï¼Œå¯çœç•¥&lt;/span&gt;
initdb /usr/local/var/postgres
&lt;span class=&quot;c&quot;&gt;# å¯åŠ¨æœåŠ¡&lt;/span&gt;
pg_ctl &lt;span class=&quot;nt&quot;&gt;-D&lt;/span&gt; /usr/local/var/postgres &lt;span class=&quot;nt&quot;&gt;-l&lt;/span&gt; /usr/local/var/postgres/server.log start
&lt;span class=&quot;c&quot;&gt;# è®¾ç½®å¼€æœºå¯åŠ¨ï¼ˆæ­¤æ“ä½œä¹Ÿå¯èƒ½ä¼šå¯¼è‡´ç”¨æˆ·æƒé™é—®é¢˜ï¼Œå¯¼è‡´ sonarqube å¯åŠ¨å¤±è´¥ï¼‰&lt;/span&gt;
&lt;span class=&quot;nb&quot;&gt;ln&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-sfv&lt;/span&gt; /usr/local/opt/postgresql/&lt;span class=&quot;k&quot;&gt;*&lt;/span&gt;.plist ~/Library/LaunchAgents
launchctl load ~/Library/LaunchAgents/homebrew.mxcl.postgresql.plist
&lt;span class=&quot;c&quot;&gt;# ç»™å½“å‰ç”¨æˆ·åˆ›å»ºæ•°æ®åº“ï¼Œpostgres ä¸ä¼šè‡ªåŠ¨åˆ›å»ºæ•°æ®åº“ï¼Œéœ€æ‰‹åŠ¨åˆ›å»º&lt;/span&gt;
createdb
&lt;span class=&quot;c&quot;&gt;# åˆ›å»ºç”¨æˆ·&lt;/span&gt;
CREATE USER sonar WITH PASSWORD &lt;span class=&quot;s1&quot;&gt;'sonar'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;c&quot;&gt;# åˆ›å»ºæ•°æ®åº“&lt;/span&gt;
CREATE DATABASE sonar WITH OWNER sonar ENCODING &lt;span class=&quot;s1&quot;&gt;'UTF8'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;c&quot;&gt;# ç»™ sonar ç”¨æˆ·æ·»åŠ åˆ›å»ºæ•°æ®åº“çš„å±æ€§&lt;/span&gt;
ALTER ROLE sonar CREATEDB&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;c&quot;&gt;# æµ‹è¯•å½“å‰ç”¨æˆ·&lt;/span&gt;
psql &lt;span class=&quot;nt&quot;&gt;-U&lt;/span&gt; sonar &lt;span class=&quot;nt&quot;&gt;-W&lt;/span&gt;
&lt;span class=&quot;c&quot;&gt;# ç™»å½•æ§åˆ¶å°&lt;/span&gt;
psql
&lt;span class=&quot;c&quot;&gt;# åˆ é™¤æ•°æ®åº“ï¼ˆå¤‡ç”¨ï¼‰&lt;/span&gt;
DROP DATABASE sonar&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;c&quot;&gt;# æ‰€æœ‰æƒåŠæ‰€æœ‰æƒè½¬æ¢ï¼ˆå¤‡ç”¨ï¼‰&lt;/span&gt;
CREATE DATABASE sonar OWNER sonar&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
GRANT ALL PRIVILEGES ON DATABASE sonar to sonar&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;h2 id=&quot;sonarqube&quot;&gt;sonarqube&lt;/h2&gt;

&lt;p&gt;ä¸‹è½½ &lt;a href=&quot;https://www.sonarqube.org/downloads/&quot;&gt;sonarqube&lt;/a&gt; æºç åˆ°æŒ‡å®šç›®å½•ï¼Œä¾‹å¦‚å¯æ”¾åœ¨ /opt æˆ–å…¶ä»–ç›®å½•ä¸‹ï¼Œåˆå§‹è´¦å·å¯†ç  adminã€‚é…ç½® conf/sonar.properties æ–‡ä»¶ä¸­çš„æ•°æ®åº“è´¦å·ã€å¯†ç å’Œ URLã€‚&lt;/p&gt;

&lt;div class=&quot;language-rb highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;sonar&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;jdbc&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;username&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;sonar&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;sonar&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;jdbc&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;password&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;sonar&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;sonar&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;jdbc&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;url&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;jdbc&lt;/span&gt;&lt;span class=&quot;ss&quot;&gt;:postgresql:/&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;localhost&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;sonar&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;å¯åŠ¨æ–¹å¼ä¸ºæ‰§è¡Œå®‰è£…ç›®å½•ä¸‹å¯¹åº”ç³»ç»Ÿçš„ shell æ–‡ä»¶ï¼Œä¾‹å¦‚æˆ‘çš„ç”µè„‘ä¸º Macï¼Œsonarqube æ”¾åœ¨ /opt ç›®å½•ä¸‹ï¼Œå¯ä»¥æ‰§è¡Œ bin ç›®å½•ä¸‹çš„ macosx-universal-64/sonar.sh è„šæœ¬å¯åŠ¨ã€‚æ³¨æ„ /opt ä¸º Mac ç³»ç»Ÿéšè—æ ¹ç›®å½•ï¼ŒåŒæ—¶æŒ‰ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;command shift = .&lt;/code&gt; å››ä¸ªæŒ‰é”®å¯ä»¥æ˜¾ç¤ºç³»ç»Ÿéšè—æ–‡ä»¶ï¼Œå†æŒ‰ä¸€æ¬¡éšè—ç³»ç»Ÿéšè—æ–‡ä»¶ã€‚&lt;/p&gt;

&lt;div class=&quot;language-shell highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;c&quot;&gt;# å¯åŠ¨ sonarqube&lt;/span&gt;
sh /opt/sonarqube/bin/macosx-universal-64/sonar.sh start
&lt;span class=&quot;c&quot;&gt;# å¦‚æœæ‰§è¡Œ shell å­˜åœ¨æƒé™é—®é¢˜ï¼Œå¯ä½¿ç”¨ chmod 777 è·å–å¯¹åº”æ–‡ä»¶æˆ–ç›®å½•ç³»ç»Ÿæƒé™&lt;/span&gt;
&lt;span class=&quot;nb&quot;&gt;chmod &lt;/span&gt;777 /opt/sonarqube/bin/macosx-universal-64/sonar.sh
&lt;span class=&quot;c&quot;&gt;# è·å–ç›®å½• /opt ç³»ç»Ÿæƒé™&lt;/span&gt;
&lt;span class=&quot;nb&quot;&gt;sudo chmod&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-R&lt;/span&gt; 777 /opt
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;h2 id=&quot;å®‰è£…-sonar-swift-æ’ä»¶&quot;&gt;å®‰è£… sonar-swift æ’ä»¶&lt;/h2&gt;

&lt;p&gt;ç”±äº sonarqube çš„ ObjectiveC æ’ä»¶æ”¶è´¹ï¼Œä½¿ç”¨ä¸‰æ–¹æ’ä»¶&lt;a href=&quot;https://github.com/Backelite/sonar-swift&quot;&gt;sonar-swift&lt;/a&gt;ï¼Œå¹¶æŒ‰ç…§å®˜æ–¹æ–‡æ¡£å®‰è£…ç›¸å…³æ’ä»¶ï¼Œå°†ä¸‹è½½çš„ .jar åŒ…æ”¾åœ¨ sonarqubeçš„ extensions/plugins ç›®å½•ä¸‹ã€‚æ—§ç‰ˆæ’ä»¶ sonar-objective-c å·²ä¸æ”¯æŒæœ€æ–°ç‰ˆ sonarqubeï¼Œè€Œ sonar-swift åŒæ—¶æ”¯æŒ swift å’Œ objective-cã€‚&lt;/p&gt;

&lt;p&gt;sonar-swift è¦æ±‚å®‰è£…çš„æ’ä»¶è¾ƒå¤šï¼Œå¯ä»¥é€‰æ‹©å®‰è£… sonar-scannerï¼Œoclint å’Œ xcprettyã€‚&lt;/p&gt;

&lt;div class=&quot;language-rb highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;brew&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;install&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;swiftlint&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;brew&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;install&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;tailor&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;brew&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;install&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;sonar&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;scanner&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;# å®‰è£… oclint&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;brew&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;tap&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;oclint&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;formulae&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;brew&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;install&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;oclint&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;# æ›´æ–° oclint&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;brew&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;update&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;brew&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;upgrade&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;oclint&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;sudo&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;gem&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;install&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;xcpretty&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;sudo&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;gem&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;install&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;slather&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;sudo&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;pip&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;install&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;lizard&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;sonar-scanner å®‰è£…å®Œæˆåéœ€è¦é…ç½®ä¸€ä¸‹ï¼Œç»ˆç«¯è¾“å…¥&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;where sonar-scanner&lt;/code&gt;ï¼Œæ‰¾åˆ°å®‰è£…è·¯å¾„ï¼ˆ/usr/local/Cellar/sonar-scanner/ï¼‰ï¼Œåœ¨ç›®å½•ä¸‹æ‰¾åˆ°é…ç½®æ–‡ä»¶ sonar-scanner.propertiesï¼Œé…ç½®æ‰«æç»“æœä¸Šä¼ åœ°å€å’Œç¼–ç ã€‚&lt;/p&gt;

&lt;div class=&quot;language-shell highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;c&quot;&gt;# sonar-scanner æ‰«æç»“æœä¸Šä¼ åœ°å€ï¼ˆsonarqube åœ°å€ä¸º http://localhost:9000ï¼‰&lt;/span&gt;
sonar.host.url&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;http://localhost:9000
&lt;span class=&quot;c&quot;&gt;# ç¼–ç æ ¼å¼&lt;/span&gt;
sonar.sourceEncoding&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;UTF-8
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;h2 id=&quot;å¯åŠ¨æ‰«æ&quot;&gt;å¯åŠ¨æ‰«æ&lt;/h2&gt;

&lt;p&gt;æ‰€æœ‰æ’ä»¶å·²å®‰è£…å®Œæ¯•ï¼Œå¯ä»¥æ‰§è¡Œ sonar-scan è¿›è¡Œ&lt;/p&gt;

&lt;div class=&quot;language-shell highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;c&quot;&gt;# å¯åŠ¨postgresæœåŠ¡&lt;/span&gt;
pg_ctl &lt;span class=&quot;nt&quot;&gt;-D&lt;/span&gt; /usr/local/var/postgres &lt;span class=&quot;nt&quot;&gt;-l&lt;/span&gt; /usr/local/var/postgres/server.log start
&lt;span class=&quot;c&quot;&gt;# å¯åŠ¨ Jenkins&lt;/span&gt;
brew services start jenkins
&lt;span class=&quot;c&quot;&gt;# å¯åŠ¨ sonar&lt;/span&gt;
&lt;span class=&quot;nb&quot;&gt;chmod &lt;/span&gt;777 /opt/sonarqube/bin/macosx-universal-64/sonar.sh
sh /opt/sonarqube/bin/macosx-universal-64/sonar.sh start
&lt;span class=&quot;c&quot;&gt;# Jenkins æ‰§è¡Œçš„è„šæœ¬ï¼Œè‡ªåŠ¨æ‹‰å–åˆ†æ”¯ä»£ç ï¼Œåˆ†æï¼Œä¸Šä¼  sonarï¼Œä¼ å…¥æœ¬åœ°ä»“åº“åœ°å€å’Œ Git åœ°å€å³å¯&lt;/span&gt;
/usr/bin/python /Users/lf/Documents/auto-scanner/auto-sonar.py publicplugingoup/gbcheckup.git
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;åŸç†å¾ˆç®€å•ï¼Œåˆ›å»ºä¸€ä¸ª jenkins ä»»åŠ¡ï¼Œå®šæ—¶æ£€æŸ¥æ›´æ–°ï¼Œå¦‚æœæœ‰æ›´æ–°ï¼Œå°±æ‰§è¡Œè„šæœ¬å»æ‹‰å–ä»£ç ï¼Œå¹¶æ‰«æä¸Šä¼ ç»“æœã€‚
ä¾‹å¦‚éœ€è¦å°†æ‰€æœ‰åˆ†æ”¯ä¿å­˜åˆ°å½“å‰ç”¨æˆ·æ¡Œé¢çš„ Git æ–‡ä»¶å¤¹ä¸‹ï¼Œé‚£ä»“åº“è·¯å¾„å°±æ˜¯&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;~/Desktop/Git&lt;/code&gt;ï¼Œåˆ†æ”¯çš„ Git åœ°å€ä¸º http://192.168.1.88/app/mybranch.gitï¼Œå¯æ‰‹åŠ¨æ‰§è¡Œè„šæœ¬ä¸‹è½½æ‰«æã€‚&lt;/p&gt;

&lt;div class=&quot;language-shell highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;/usr/bin/python /Users/lf/Documents/auto-scanner/auto-sonar.py publicplugingoup/gbcheckup.git
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;h4 id=&quot;è‡ªåŠ¨åŒ–æ‰«æ&quot;&gt;è‡ªåŠ¨åŒ–æ‰«æ&lt;/h4&gt;

&lt;p&gt;å®Œæˆä¸Šé¢æˆ‘ä»¬å¯ä»¥æ‰‹åŠ¨æ‰§è¡Œä¸ºæ¯ä¸ªä»“åº“è¿›è¡Œæ‰«æï¼Œé‚£å¦‚ä½•åšåˆ°å¦‚ä¸‹è‡ªåŠ¨åŒ–è¦æ±‚ï¼š&lt;/p&gt;

&lt;ol&gt;
  &lt;li&gt;æ‰¹é‡ä¸ºæ¯ä¸ªç»„ä»¶åˆ›å»º Jenkins ä»»åŠ¡ï¼Œå¹¶å®šæ—¶æ£€æµ‹ Git æ›´æ–°ï¼Œè‹¥æ›´æ–°åˆ™è‡ªåŠ¨æ‰«æï¼›&lt;/li&gt;
  &lt;li&gt;ä½¿ç”¨è„šæœ¬è‡ªåŠ¨ä» Git æ‹‰å–ç»„ä»¶æºç ï¼Œè‹¥å·²æ‹‰å–åˆ™æ£€æŸ¥æ›´æ–°ç»„ä»¶ä»£ç ï¼›&lt;/li&gt;
  &lt;li&gt;è‡ªåŠ¨æŸ¥æ‰¾å®šä½é¡¹ç›® project æ–‡ä»¶åŠé¡¹ç›® schemeï¼Œè‡ªåŠ¨è¿›è¡Œé€ä¸ªæ‰«æï¼›&lt;/li&gt;
  &lt;li&gt;è‡ªåŠ¨åˆ›å»º Sonar é…ç½®æ–‡ä»¶ï¼Œæ‰«æç»“æœè‡ªåŠ¨å‚¨å­˜åˆ°æ•°æ®åº“ï¼Œé€šè¿‡ç½‘é¡µæŸ¥çœ‹ç»“æœã€‚&lt;/li&gt;
&lt;/ol&gt;

&lt;p&gt;æ‰¹é‡åˆ›å»º Jenkins ä»»åŠ¡ï¼Œæˆ‘ä»¬é€šè¿‡è„šæœ¬ä¸€æ¬¡æ€§æ‰¹é‡åˆ›å»ºå³å¯ï¼›æ£€æµ‹æ›´æ–°æˆ‘ä»¬å¯ä»¥é€šè¿‡ Jenkins å®šæ—¶ä»»åŠ¡å»æ‰§è¡Œï¼›è‡ªåŠ¨æ‹‰å–æœ€æ–°ä»£ç å’ŒæŸ¥æ‰¾ scheme è¿›è¡Œæ‰«æï¼Œæˆ‘ä»¬åœ¨å®šæ—¶ä»»åŠ¡çš„è„šæœ¬ä¸­æ‰§è¡Œå³å¯ã€‚&lt;/p&gt;

&lt;h2 id=&quot;jenkins-æ‰¹é‡åˆ›å»ºä»»åŠ¡&quot;&gt;Jenkins æ‰¹é‡åˆ›å»ºä»»åŠ¡&lt;/h2&gt;

&lt;p&gt;è‹¥ç»„ä»¶å¾ˆå¤šï¼Œé€ä¸ªæ‰‹åŠ¨åˆ›å»º Jenkins ä»»åŠ¡ï¼Œæ˜¾ç„¶ä¸ç¬¦åˆç¨‹åºå‘˜çš„é£æ ¼ï¼Œæˆ‘ä»¬éœ€è¦æ‰¹é‡è‡ªåŠ¨åˆ›å»ºã€‚å‡è®¾æˆ‘ä»¬çš„ç»„ä»¶ Git åœ°å€éƒ½æ˜¯è¿™æ ·çš„&lt;/p&gt;

&lt;div class=&quot;language-xml highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;http://192.168.1.44/publicrepos/demo1.git
http://192.168.1.44/publicrepos/demo2.git
http://192.168.1.44/publicrepos/demo3.git
http://192.168.1.44/publicrepos/demo3.git
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;æˆ‘ä»¬ä¸ºåˆ†æ”¯ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;http://192.168.1.44/publicrepos/demo1.git&lt;/code&gt; åˆ›å»ºä¸€ä¸ª Jenkins çš„ä»»åŠ¡ï¼Œè¿™æ—¶æˆ‘ä»¬ä¼šå‘ç° &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;~/.jenkins/jobs/&lt;/code&gt; ç›®å½•ä¸‹å¤šäº† demo1 æ–‡ä»¶å¤¹ï¼Œé‡Œé¢ config.xml æ–‡ä»¶ï¼Œè¿™å°±æ˜¯ Jenkins ä»»åŠ¡çš„é…ç½®ã€‚&lt;/p&gt;

&lt;p&gt;é€šè¿‡å¯¹æ¯”æˆ‘ä»¬å‘ç°ï¼Œåªè¦ä¿®æ”¹ä¸€ä¸‹ Git åœ°å€å’Œä¼ å…¥è„šæœ¬çš„åˆ†æ”¯åç§°å°±å¯ä»¥äº†ã€‚æˆ‘ä»¬å¯ä»¥ä¸ºæ¯ä¸€ä¸ªç»„ä»¶å¤åˆ¶ä¸€ä»½ xml æ–‡æ¡£ï¼Œå¹¶ä¿®æ”¹ Git åœ°å€å’Œä¼ å…¥è„šæœ¬çš„å‚æ•°ï¼Œå¤åˆ¶åˆ° Mac ç«¯ Jenkins çš„ä»»åŠ¡ jobs è·¯å¾„ ~/.jenkins/jobs/ ä¸‹æ—¢å¯ã€‚&lt;/p&gt;

&lt;div class=&quot;language-xml highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;cp&quot;&gt;&amp;lt;?xml version='1.1' encoding='UTF-8'?&amp;gt;&lt;/span&gt;
&lt;span class=&quot;nt&quot;&gt;&amp;lt;project&amp;gt;&lt;/span&gt;
  &lt;span class=&quot;c&quot;&gt;&amp;lt;!-- ......... çœç•¥éƒ¨åˆ† ........ --&amp;gt;&lt;/span&gt;
  &lt;span class=&quot;nt&quot;&gt;&amp;lt;scm&lt;/span&gt; &lt;span class=&quot;na&quot;&gt;class=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;hudson.plugins.git.GitSCM&quot;&lt;/span&gt; &lt;span class=&quot;na&quot;&gt;plugin=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;git@4.0.0&quot;&lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;&amp;gt;&lt;/span&gt;
    &lt;span class=&quot;nt&quot;&gt;&amp;lt;configVersion&amp;gt;&lt;/span&gt;2&lt;span class=&quot;nt&quot;&gt;&amp;lt;/configVersion&amp;gt;&lt;/span&gt;
    &lt;span class=&quot;nt&quot;&gt;&amp;lt;userRemoteConfigs&amp;gt;&lt;/span&gt;
      &lt;span class=&quot;nt&quot;&gt;&amp;lt;hudson.plugins.git.UserRemoteConfig&amp;gt;&lt;/span&gt;
        &lt;span class=&quot;c&quot;&gt;&amp;lt;!-- ç»„ä»¶çš„ Git åœ°å€ --&amp;gt;&lt;/span&gt;
        &lt;span class=&quot;nt&quot;&gt;&amp;lt;url&amp;gt;&lt;/span&gt;http://192.168.1.44/publicrepos/demo1.git&lt;span class=&quot;nt&quot;&gt;&amp;lt;/url&amp;gt;&lt;/span&gt;
        &lt;span class=&quot;nt&quot;&gt;&amp;lt;credentialsId&amp;gt;&lt;/span&gt;31be0ffe-2c75-4183-9ab9-fd997a0942ea&lt;span class=&quot;nt&quot;&gt;&amp;lt;/credentialsId&amp;gt;&lt;/span&gt;
      &lt;span class=&quot;nt&quot;&gt;&amp;lt;/hudson.plugins.git.UserRemoteConfig&amp;gt;&lt;/span&gt;
    &lt;span class=&quot;nt&quot;&gt;&amp;lt;/userRemoteConfigs&amp;gt;&lt;/span&gt;
  &lt;span class=&quot;nt&quot;&gt;&amp;lt;/scm&amp;gt;&lt;/span&gt;
  &lt;span class=&quot;nt&quot;&gt;&amp;lt;builders&amp;gt;&lt;/span&gt;
    &lt;span class=&quot;nt&quot;&gt;&amp;lt;hudson.tasks.Shell&amp;gt;&lt;/span&gt;
      &lt;span class=&quot;c&quot;&gt;&amp;lt;!-- æˆ‘ä»¬é…ç½®çš„æ‰§è¡Œ Shell è„šæœ¬å‘½ä»¤ --&amp;gt;&lt;/span&gt;
      &lt;span class=&quot;nt&quot;&gt;&amp;lt;command&amp;gt;&lt;/span&gt;/usr/bin/python /Users/pk/Documents/auto-scanner/auto-sonar.py publicplugingoup/basemapcomponent.git&lt;span class=&quot;nt&quot;&gt;&amp;lt;/command&amp;gt;&lt;/span&gt;
    &lt;span class=&quot;nt&quot;&gt;&amp;lt;/hudson.tasks.Shell&amp;gt;&lt;/span&gt;
  &lt;span class=&quot;nt&quot;&gt;&amp;lt;/builders&amp;gt;&lt;/span&gt;
&lt;span class=&quot;nt&quot;&gt;&amp;lt;/project&amp;gt;&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;æ‰¹é‡ä¸ºæ¯ä¸ªç»„ä»¶åˆ›å»º Jenkins ä»»åŠ¡è„šæœ¬&lt;/p&gt;

&lt;div class=&quot;language-python highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;c1&quot;&gt;#!/usr/bin/env python
# coding=UTF-8
&lt;/span&gt;
&lt;span class=&quot;s&quot;&gt;'''
g_old_branch åˆ›å»ºçš„æ¨¡æ¿æ–‡ä»¶ config.xml ä¸­éœ€è¦æ›¿æ¢çš„åˆ†æ”¯åç§°
g_old_time åˆ›å»ºçš„æ¨¡æ¿æ–‡ä»¶ config.xml ä¸­éœ€è¦æ›¿æ¢çš„è§¦å‘æ—¶é—´
git_links.txt ç»„ä»¶çš„ Git åœ°å€ï¼Œé€è¡Œåˆ†å¼€
config.xml æ‰‹åŠ¨åˆ›å»ºçš„ä¸€ä¸ª Jenkins ä»»åŠ¡å½“åšæ¨¡æ¿
æ‰¹é‡åˆ›å»ºå®Œæˆç»“æœåœ¨å½“å‰è„šæœ¬çš„ xmls æ–‡ä»¶å¤¹ä¸‹
'''&lt;/span&gt;

&lt;span class=&quot;n&quot;&gt;g_old_branch&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&quot;publicplugingoup/basemapcomponent&quot;&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;g_old_time&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&quot;H(0-29)/19 * * * *&quot;&lt;/span&gt;

&lt;span class=&quot;kn&quot;&gt;import&lt;/span&gt; &lt;span class=&quot;nn&quot;&gt;os&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;re&lt;/span&gt;

&lt;span class=&quot;c1&quot;&gt;# ä»URLè·å–åˆ†æ”¯åç§°ï¼Œeg. [publicplugingoup, basemapcomponent]
&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;def&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;get_branch&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;link&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;):&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;link_list&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;link&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;split&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;'/'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;len&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;link_list&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;
        &lt;span class=&quot;k&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;[]&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;branch_name_git&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;link_list&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;branch_group&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;link_list&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;branch_name&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;branch_name_git&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;split&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;'.'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)[&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;branch_group&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;branch_name&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt;

&lt;span class=&quot;c1&quot;&gt;# é€è¡Œè¯»å–æ–‡ä»¶ä¸­çš„é“¾æ¥
&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;def&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;read_txt&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;txt_path&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;):&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;links_list&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;[]&lt;/span&gt; &lt;span class=&quot;c1&quot;&gt;# å‚¨å­˜è¡Œ
&lt;/span&gt;    &lt;span class=&quot;k&quot;&gt;for&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;line&lt;/span&gt; &lt;span class=&quot;ow&quot;&gt;in&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;open&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;txt_path&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;):&lt;/span&gt;
        &lt;span class=&quot;n&quot;&gt;line&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;line&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;strip&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;'&lt;/span&gt;&lt;span class=&quot;se&quot;&gt;\n&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
        &lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;line&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;!=&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&quot;&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;
            &lt;span class=&quot;n&quot;&gt;links_list&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;append&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;line&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;links_list&lt;/span&gt;

&lt;span class=&quot;c1&quot;&gt;# æ ¹æ®å½“å‰ç´¢å¼•é¡ºåºç®—å‡ºä¸‹ä¸€ä¸ªæ—¶é—´ï¼Œç´¢å¼•ã€æ—¶é—´æ­¥é•¿ã€èµ·å§‹å°æ—¶ï¼Œèµ·å§‹åˆ†é’Ÿ
&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;def&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;get_scm_time&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;index&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;step&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;start_hour&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;start_minute&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;):&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;next_hour&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;((&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;start_hour&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;*&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;60&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;start_minute&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;step&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;*&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;index&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;%&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;1440&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;60&lt;/span&gt; &lt;span class=&quot;c1&quot;&gt;# å°æ—¶
&lt;/span&gt;    &lt;span class=&quot;n&quot;&gt;begin_minute&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;step&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;*&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;index&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;%&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;60&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;next_minute&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;begin_minute&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;step&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;next_minute&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;gt;&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;59&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;
        &lt;span class=&quot;n&quot;&gt;begin_minute&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;
        &lt;span class=&quot;n&quot;&gt;next_minute&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;step&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;next_time&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&quot;H(&quot;&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;str&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;begin_minute&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&quot;-&quot;&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;str&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;next_minute&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&quot;) &quot;&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;str&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;next_hour&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&quot; * * *&quot;&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;next_time&lt;/span&gt;

 &lt;span class=&quot;c1&quot;&gt;# åˆ›å»º config.xml æ–‡ä»¶ï¼Œä¼ å…¥é“¾æ¥åˆ—è¡¨ï¼Œåˆ›å»ºæ–‡ä»¶çš„ä¿å­˜è·¯å¾„, config.xml æ–‡ä»¶è·¯å¾„
&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;def&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;create_xml&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;links_list&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;xmls_folder&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;config_path&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;):&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;config_lines&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;[]&lt;/span&gt; &lt;span class=&quot;c1&quot;&gt;# å‚¨å­˜è¡Œ
&lt;/span&gt;    &lt;span class=&quot;k&quot;&gt;for&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;line&lt;/span&gt; &lt;span class=&quot;ow&quot;&gt;in&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;open&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;config_path&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;):&lt;/span&gt;
        &lt;span class=&quot;n&quot;&gt;config_lines&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;append&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;line&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;c1&quot;&gt;# éå†é“¾æ¥åˆ—è¡¨
&lt;/span&gt;    &lt;span class=&quot;k&quot;&gt;for&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;index&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;link&lt;/span&gt; &lt;span class=&quot;ow&quot;&gt;in&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;enumerate&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;links_list&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;):&lt;/span&gt;
        &lt;span class=&quot;n&quot;&gt;branch_group_name&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;get_branch&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;link&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
        &lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;len&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;branch_group_name&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;
            &lt;span class=&quot;k&quot;&gt;print&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;é“¾æ¥æ— æ•ˆï¼š&quot;&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;link&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
            &lt;span class=&quot;k&quot;&gt;continue&lt;/span&gt;
        &lt;span class=&quot;n&quot;&gt;branch_group&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;branch_group_name&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;c1&quot;&gt;# åˆ†ç»„å
&lt;/span&gt;        &lt;span class=&quot;n&quot;&gt;branch_name&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;branch_group_name&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;c1&quot;&gt;# åˆ†æ”¯åç§°
&lt;/span&gt;        &lt;span class=&quot;c1&quot;&gt;# åˆ›å»ºæ–‡ä»¶ä¿å­˜åˆ°ä»¥åˆ†æ”¯åå‘½åçš„æ–‡ä»¶å¤¹ä¸­
&lt;/span&gt;        &lt;span class=&quot;n&quot;&gt;branch_folder&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;xmls_folder&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&quot;/&quot;&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;branch_name&lt;/span&gt;
        &lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;ow&quot;&gt;not&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;os&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;path&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;exists&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;branch_folder&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;):&lt;/span&gt;
            &lt;span class=&quot;n&quot;&gt;os&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;system&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;'mkdir '&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;branch_folder&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
        &lt;span class=&quot;k&quot;&gt;else&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;
            &lt;span class=&quot;n&quot;&gt;os&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;system&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;'rm -rf '&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;branch_folder&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
        &lt;span class=&quot;n&quot;&gt;config_xml_path&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;branch_folder&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&quot;/config.xml&quot;&lt;/span&gt;
        &lt;span class=&quot;c1&quot;&gt;# è·å–ä¸‹ä¸€ä¸ªè¿è¡Œçš„æ—¶é—´, æ—¶é—´ä»0ç‚¹0åˆ†å¼€å§‹ï¼Œæ¯10åˆ†é’Ÿè¿è¡Œä¸€ä¸ªç»„ä»¶
&lt;/span&gt;        &lt;span class=&quot;n&quot;&gt;new_time&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;get_scm_time&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;index&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;10&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
        &lt;span class=&quot;n&quot;&gt;config_copy&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;[]&lt;/span&gt;
        &lt;span class=&quot;k&quot;&gt;for&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;cg_line&lt;/span&gt; &lt;span class=&quot;ow&quot;&gt;in&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;config_lines&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;
            &lt;span class=&quot;n&quot;&gt;temp_line&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;cg_line&lt;/span&gt;
            &lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;g_old_branch&lt;/span&gt; &lt;span class=&quot;ow&quot;&gt;in&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;temp_line&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;
                &lt;span class=&quot;n&quot;&gt;temp_line&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;temp_line&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;replace&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;g_old_branch&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;branch_group&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&quot;/&quot;&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;branch_name&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
            &lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;g_old_time&lt;/span&gt; &lt;span class=&quot;ow&quot;&gt;in&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;temp_line&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;
                &lt;span class=&quot;n&quot;&gt;temp_line&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;temp_line&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;replace&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;g_old_time&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;new_time&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
            &lt;span class=&quot;n&quot;&gt;config_copy&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;append&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;temp_line&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
        &lt;span class=&quot;n&quot;&gt;xml_str&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&quot;&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;join&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;config_copy&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
        &lt;span class=&quot;k&quot;&gt;with&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;open&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;config_xml_path&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;'w+'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;as&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;f&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;
            &lt;span class=&quot;n&quot;&gt;f&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;write&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;xml_str&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
        &lt;span class=&quot;k&quot;&gt;print&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;å·²åˆ›å»º&quot;&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;str&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;index&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&quot;ï¼š&quot;&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;branch_group&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&quot;/&quot;&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;branch_name&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;new_time&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;

&lt;span class=&quot;c1&quot;&gt;# main
&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;__name__&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;==&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&quot;__main__&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;xmls_folder&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;os&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;path&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;dirname&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;os&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;path&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;abspath&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;__file__&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;))&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&quot;/xmls&quot;&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;os&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;path&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;exists&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;xmls_folder&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;):&lt;/span&gt;
        &lt;span class=&quot;n&quot;&gt;os&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;system&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;'rm -rf '&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;xmls_folder&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;os&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;system&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;'mkdir '&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;xmls_folder&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;links_path&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;os&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;path&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;dirname&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;os&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;path&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;abspath&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;__file__&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;))&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&quot;/git_links.txt&quot;&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;links_list&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;read_txt&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;links_path&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;config_path&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;os&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;path&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;dirname&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;os&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;path&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;abspath&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;__file__&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;))&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&quot;/config.xml&quot;&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;create_xml&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;links_list&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;xmls_folder&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;config_path&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;h2 id=&quot;æŸ¥æ‰¾-xcodeproj-å’Œ-scheme-è„šæœ¬&quot;&gt;æŸ¥æ‰¾ xcodeproj å’Œ Scheme è„šæœ¬&lt;/h2&gt;

&lt;p&gt;å®šæ—¶æ£€æµ‹ Git æ›´æ–°ï¼Œä½¿ç”¨è„šæœ¬è‡ªåŠ¨ä» Git æ‹‰å–ç»„ä»¶æºç ï¼›è‡ªåŠ¨æŸ¥æ‰¾å®šä½é¡¹ç›® project æ–‡ä»¶åŠé¡¹ç›® schemeï¼Œè‡ªåŠ¨è¿›è¡Œé€ä¸ªæ‰«æã€‚&lt;/p&gt;

&lt;div class=&quot;language-python highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;c1&quot;&gt;#!/usr/bin/env python
# coding=UTF-8
&lt;/span&gt;
&lt;span class=&quot;s&quot;&gt;'''
g_repos_folder ä¸‹æ‹‰ä»£ç ï¼Œå­˜æ”¾ç»„ä»¶ä»£ç çš„è·¯å¾„
'''&lt;/span&gt;

&lt;span class=&quot;n&quot;&gt;g_repos_folder&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&quot;/Desktop/GitJH&quot;&lt;/span&gt;

&lt;span class=&quot;kn&quot;&gt;import&lt;/span&gt; &lt;span class=&quot;nn&quot;&gt;sys&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;os&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;platform&lt;/span&gt;

&lt;span class=&quot;c1&quot;&gt;# æ‰¾åˆ° xcodeproj å·¥ç¨‹æ–‡ä»¶
&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;def&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;find_project&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;branch_dir&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;):&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;proj_path&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&quot;&quot;&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;for&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;home&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;dirs&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;files&lt;/span&gt; &lt;span class=&quot;ow&quot;&gt;in&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;os&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;walk&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;branch_dir&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;):&lt;/span&gt;
        &lt;span class=&quot;k&quot;&gt;for&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;temp_dir&lt;/span&gt; &lt;span class=&quot;ow&quot;&gt;in&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;dirs&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;
            &lt;span class=&quot;n&quot;&gt;name_array&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;os&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;path&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;splitext&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;temp_dir&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
            &lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;len&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;name_array&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;
                &lt;span class=&quot;k&quot;&gt;continue&lt;/span&gt;
            &lt;span class=&quot;n&quot;&gt;file_suffix&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;name_array&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;c1&quot;&gt;# è·å–åç¼€
&lt;/span&gt;            &lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;file_suffix&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;lower&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;==&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&quot;.xcodeproj&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;
                &lt;span class=&quot;n&quot;&gt;proj_path&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;os&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;path&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;join&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;home&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;temp_dir&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
                &lt;span class=&quot;k&quot;&gt;break&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;proj_path&lt;/span&gt;

&lt;span class=&quot;c1&quot;&gt;# è·å–æ‰€æœ‰scheme
&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;def&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;get_schemes&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;proj_path&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;):&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;proj_folder&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;os&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;path&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;dirname&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;proj_path&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;xcodebuild_list&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;os&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;popen&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;'cd '&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;proj_folder&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;' &amp;amp;&amp;amp; xcodebuild -list'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;scheme_list&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;[]&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;sch_flag&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;bp&quot;&gt;False&lt;/span&gt; &lt;span class=&quot;c1&quot;&gt;# æ ‡è®°æ‰¾åˆ°Scheme
&lt;/span&gt;    &lt;span class=&quot;k&quot;&gt;for&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;line&lt;/span&gt; &lt;span class=&quot;ow&quot;&gt;in&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;xcodebuild_list&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;
        &lt;span class=&quot;n&quot;&gt;temp_line&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;line&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;strip&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt;
        &lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&quot;Schemes:&quot;&lt;/span&gt; &lt;span class=&quot;ow&quot;&gt;in&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;temp_line&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;
            &lt;span class=&quot;n&quot;&gt;sch_flag&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;bp&quot;&gt;True&lt;/span&gt;
            &lt;span class=&quot;k&quot;&gt;continue&lt;/span&gt;
        &lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;sch_flag&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;==&lt;/span&gt; &lt;span class=&quot;bp&quot;&gt;True&lt;/span&gt; &lt;span class=&quot;ow&quot;&gt;and&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;temp_line&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;!=&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&quot;&quot;&lt;/span&gt; &lt;span class=&quot;ow&quot;&gt;and&lt;/span&gt; &lt;span class=&quot;ow&quot;&gt;not&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;temp_line&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;lower&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;().&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;endswith&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;bundle&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;ow&quot;&gt;and&lt;/span&gt; &lt;span class=&quot;ow&quot;&gt;not&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&quot; &quot;&lt;/span&gt; &lt;span class=&quot;ow&quot;&gt;in&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;temp_line&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;
            &lt;span class=&quot;n&quot;&gt;scheme_list&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;append&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;temp_line&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
        &lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;temp_line&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;==&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&quot;&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;
            &lt;span class=&quot;n&quot;&gt;sch_flag&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;bp&quot;&gt;False&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;scheme_list&lt;/span&gt;

&lt;span class=&quot;c1&quot;&gt;# è‡ªåŠ¨æ‹‰å–åˆ†æ”¯
&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;def&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;git_clone&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;argv_list&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;branch_dir&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;):&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;branch_group&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;argv_list&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;c1&quot;&gt;# å‚æ•°1 åˆ†ç»„åç§°
&lt;/span&gt;    &lt;span class=&quot;n&quot;&gt;branch_name&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;argv_list&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;c1&quot;&gt;# å‚æ•°2 åˆ†æ”¯åç§°
&lt;/span&gt;    &lt;span class=&quot;n&quot;&gt;branch_path&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;branch_dir&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&quot;/&quot;&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;branch_name&lt;/span&gt;
    &lt;span class=&quot;c1&quot;&gt;# http://192.168.1.44/publicrepos/demo1.git
&lt;/span&gt;    &lt;span class=&quot;n&quot;&gt;branch_link&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&quot;http://192.168.1.44/&quot;&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;branch_group&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&quot;/&quot;&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;branch_name&lt;/span&gt;  &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&quot;.git&quot;&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;git_pwd&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&quot;cd &quot;&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;branch_dir&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot; &amp;amp;&amp;amp; git clone &quot;&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;branch_link&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;os&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;path&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;exists&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;branch_path&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;):&lt;/span&gt;
        &lt;span class=&quot;n&quot;&gt;git_pwd&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&quot;cd &quot;&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;branch_path&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot; &amp;amp;&amp;amp; git pull origin master&quot;&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;os&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;system&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;git_pwd&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;print&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;æ‹‰å–ï¼š&quot;&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;branch_name&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;

&lt;span class=&quot;c1&quot;&gt;# è‡ªåŠ¨åŒ– sonar æ‰«æ
&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;def&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;auto_sonar&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;argvs&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;):&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;argv_list&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;argvs&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[:&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;4&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;].&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;split&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;/&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;len&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;argv_list&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;
        &lt;span class=&quot;k&quot;&gt;print&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;Python å‚æ•°é”™è¯¯&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
        &lt;span class=&quot;k&quot;&gt;return&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;branch_name&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;argv_list&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt;
    &lt;span class=&quot;c1&quot;&gt;# åˆ†æ”¯ç»å¯¹è·¯å¾„
&lt;/span&gt;    &lt;span class=&quot;n&quot;&gt;branch_dir&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;os&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;path&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;expanduser&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;'~'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;g_repos_folder&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;branch_path&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;branch_dir&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&quot;/&quot;&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;branch_name&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;print&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;åˆ†æ”¯è·¯å¾„ï¼š&quot;&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;branch_path&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;c1&quot;&gt;# æ‹‰å–æˆ–è€…cloneåˆ†æ”¯
&lt;/span&gt;    &lt;span class=&quot;n&quot;&gt;git_clone&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;argv_list&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;branch_dir&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;c1&quot;&gt;# æ‰¾åˆ°å·¥ç¨‹æ–‡ä»¶
&lt;/span&gt;    &lt;span class=&quot;n&quot;&gt;proj_path&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;find_project&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;branch_path&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;print&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;å·¥ç¨‹è·¯å¾„ï¼š&quot;&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;proj_path&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;c1&quot;&gt;# æ‰¾åˆ°æ‰€æœ‰scheme
&lt;/span&gt;    &lt;span class=&quot;n&quot;&gt;scheme_list&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;get_schemes&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;proj_path&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;print&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;scheme åˆ—è¡¨ï¼š&quot;&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;str&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;scheme_list&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;))&lt;/span&gt;
    &lt;span class=&quot;c1&quot;&gt;# shell å‚æ•°ï¼Œå‚æ•°1ï¼šåˆ†æ”¯åç§°ï¼›å‚æ•°2ï¼šxcodeproj æ–‡ä»¶å…¨è·¯å¾„ï¼›å‚æ•°3ï¼šscheme
&lt;/span&gt;    &lt;span class=&quot;k&quot;&gt;for&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;scheme&lt;/span&gt; &lt;span class=&quot;ow&quot;&gt;in&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;scheme_list&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;
        &lt;span class=&quot;n&quot;&gt;sh_path&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;os&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;path&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;dirname&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;os&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;path&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;abspath&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;__file__&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;))&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;'/run-sonar.sh'&lt;/span&gt;
        &lt;span class=&quot;n&quot;&gt;os&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;system&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;chmod 777 &quot;&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;sh_path&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
        &lt;span class=&quot;n&quot;&gt;sonar_pwd&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;'sh '&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;sh_path&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;' '&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;branch_name&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;' '&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;proj_path&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;' '&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;scheme&lt;/span&gt;
        &lt;span class=&quot;n&quot;&gt;os&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;system&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;sonar_pwd&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;

&lt;span class=&quot;c1&quot;&gt;# ä¸»ç¨‹åº
&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;__name__&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;==&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&quot;__main__&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;len&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;sys&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;argv&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;
        &lt;span class=&quot;k&quot;&gt;print&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;python å‚æ•°å¿…é¡»å¸¦ä¸Š åˆ†ç»„/åˆ†æ”¯åç§°&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
        &lt;span class=&quot;n&quot;&gt;sys&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;exit&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;else&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;
        &lt;span class=&quot;n&quot;&gt;auto_sonar&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;str&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;sys&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;argv&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]))&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;h2 id=&quot;oclint-æ‰«æä¸Šä¼ -sonarqube-è„šæœ¬&quot;&gt;OCLint æ‰«æä¸Šä¼  SonarQube è„šæœ¬&lt;/h2&gt;

&lt;p&gt;è‡ªåŠ¨åˆ›å»º Sonar é…ç½®æ–‡ä»¶ï¼Œæ‰«æç»“æœè‡ªåŠ¨å‚¨å­˜åˆ°æ•°æ®åº“ï¼Œé€šè¿‡ç½‘é¡µæŸ¥çœ‹ç»“æœã€‚&lt;/p&gt;

&lt;div class=&quot;language-shell highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;c&quot;&gt;#!/bin/sh&lt;/span&gt;

&lt;span class=&quot;c&quot;&gt;# æ£€æµ‹å‚æ•°&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;[&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-z&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;$1&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;then
    &lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;echo&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;å‚æ•°1ï¼šåˆ†æ”¯åç§°ä¸èƒ½ä¸ºç©º&quot;&lt;/span&gt;
    &lt;span class=&quot;nb&quot;&gt;exit &lt;/span&gt;0
&lt;span class=&quot;k&quot;&gt;fi
&lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;echo&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;å‚æ•°1ï¼š&quot;&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;$1&lt;/span&gt;

&lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;[&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-z&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;$2&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;then
    &lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;echo&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;å‚æ•°2ï¼šxcodeproj æ–‡ä»¶è·¯å¾„ä¸èƒ½ä¸ºç©º&quot;&lt;/span&gt;
    &lt;span class=&quot;nb&quot;&gt;exit &lt;/span&gt;0
&lt;span class=&quot;k&quot;&gt;fi
&lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;echo&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;å‚æ•°2ï¼š&quot;&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;$2&lt;/span&gt;

&lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;[&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-z&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;$3&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;then
    &lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;echo&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;å‚æ•°3ï¼šscheme åç§°ä¸èƒ½ä¸ºç©º&quot;&lt;/span&gt;
    &lt;span class=&quot;nb&quot;&gt;exit &lt;/span&gt;0
&lt;span class=&quot;k&quot;&gt;fi
&lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;echo&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;å‚æ•°3ï¼š&quot;&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;$3&lt;/span&gt;

&lt;span class=&quot;c&quot;&gt;# æ£€æµ‹ç¯å¢ƒ&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;if &lt;/span&gt;which xcodebuild 2&amp;gt;/dev/null&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;then
    &lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;echo&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;'xcodebuild exist'&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;else
    &lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;echo&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;'xcodebuild æœªå®‰è£…'&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;fi

if &lt;/span&gt;which oclint 2&amp;gt;/dev/null&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;then
    &lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;echo&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;'oclint exist'&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;else
    &lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;echo&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;'oclint æœªå®‰è£…'&lt;/span&gt;
    &lt;span class=&quot;nb&quot;&gt;exit &lt;/span&gt;0
&lt;span class=&quot;k&quot;&gt;fi

if &lt;/span&gt;which xcpretty 2&amp;gt;/dev/null&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;then
    &lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;echo&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;'xcpretty exist'&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;else
    &lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;echo&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;'xcpretty æœªå®‰è£…ï¼Œæ‰§è¡Œ gem install xcpretty å®‰è£…'&lt;/span&gt;
    &lt;span class=&quot;nb&quot;&gt;exit &lt;/span&gt;0
&lt;span class=&quot;k&quot;&gt;fi&lt;/span&gt;

&lt;span class=&quot;c&quot;&gt;# è·å–è·¯å¾„å’Œscheme&lt;/span&gt;
&lt;span class=&quot;nv&quot;&gt;proj_dir&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;si&quot;&gt;$(&lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;dirname&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;$2&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;si&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;nb&quot;&gt;cd&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;$proj_dir&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;||&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;exit &lt;/span&gt;0
&lt;span class=&quot;nb&quot;&gt;echo&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;å·¥ç¨‹è·¯å¾„ï¼š&quot;&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;$proj_dir&lt;/span&gt;

&lt;span class=&quot;c&quot;&gt;# æ¸…é™¤ä¸Šæ¬¡çš„ç¼“å­˜&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;[&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-d&lt;/span&gt; ./derivedData &lt;span class=&quot;o&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;then
    &lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;echo&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;æ¸…ç†ç¼“å­˜...&quot;&lt;/span&gt;
    &lt;span class=&quot;nb&quot;&gt;rm&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-rf&lt;/span&gt; ./derivedData
&lt;span class=&quot;k&quot;&gt;fi

&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;myworkspace&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;si&quot;&gt;$(&lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;basename&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;$2&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;si&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;nv&quot;&gt;myscheme&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;$3&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt;

&lt;span class=&quot;c&quot;&gt;# xcodebuild clean&lt;/span&gt;
xcodebuild clean &lt;span class=&quot;nt&quot;&gt;-project&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;$myworkspace&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-scheme&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;$myscheme&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-sdk&lt;/span&gt; iphoneos &lt;span class=&quot;nt&quot;&gt;-configuration&lt;/span&gt; Debug

&lt;span class=&quot;c&quot;&gt;# ç”Ÿæˆç¼–è¯‘æ•°æ®&lt;/span&gt;
xcodebuild &lt;span class=&quot;nt&quot;&gt;-project&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;$myworkspace&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-scheme&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;$myscheme&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-sdk&lt;/span&gt; iphoneos &lt;span class=&quot;nt&quot;&gt;-configuration&lt;/span&gt; Debug &lt;span class=&quot;se&quot;&gt;\&lt;/span&gt;
&lt;span class=&quot;nb&quot;&gt;arch&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;arm64 &lt;span class=&quot;nv&quot;&gt;COMPILER_INDEX_STORE_ENABLE&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;NO | xcpretty &lt;span class=&quot;nt&quot;&gt;-r&lt;/span&gt; json-compilation-database &lt;span class=&quot;nt&quot;&gt;-o&lt;/span&gt; compile_commands.json

&lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;[&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-f&lt;/span&gt; ./compile_commands.json &lt;span class=&quot;o&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;then
    &lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;echo&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;ç¼–è¯‘æ•°æ®ç”Ÿæˆå®Œæ¯•&quot;&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;else
    &lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;echo&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;ç¼–è¯‘æ•°æ®ç”Ÿæˆå¤±è´¥&quot;&lt;/span&gt;
    &lt;span class=&quot;nb&quot;&gt;exit &lt;/span&gt;0
&lt;span class=&quot;k&quot;&gt;fi&lt;/span&gt;

&lt;span class=&quot;c&quot;&gt;# ç”ŸæˆæŠ¥å‘Šç›®å½•&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;[&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;!&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-d&lt;/span&gt; ./sonar-reports &lt;span class=&quot;o&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;then
    &lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;mkdir &lt;/span&gt;sonar-reports
&lt;span class=&quot;k&quot;&gt;fi&lt;/span&gt;

&lt;span class=&quot;c&quot;&gt;# åˆ é™¤æ—§æŠ¥å‘Š&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;[&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-f&lt;/span&gt; sonar-reports/&lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;$myscheme&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt;_oclint.xml &lt;span class=&quot;o&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;then
    &lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;rm&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-f&lt;/span&gt; sonar-reports/&lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;$myscheme&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt;_oclint.xml
&lt;span class=&quot;k&quot;&gt;fi&lt;/span&gt;

&lt;span class=&quot;c&quot;&gt;# åˆ†æç¼–è¯‘æ•°æ®&lt;/span&gt;
&lt;span class=&quot;nv&quot;&gt;maxPriority&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;15000
&lt;span class=&quot;c&quot;&gt;# Disable rules&lt;/span&gt;
&lt;span class=&quot;nv&quot;&gt;LINT_DISABLE_RULES&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;-disable-rule=LongClass &lt;/span&gt;&lt;span class=&quot;se&quot;&gt;\&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;
-disable-rule=LongLine &lt;/span&gt;&lt;span class=&quot;se&quot;&gt;\&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;
-disable-rule=LongMethod &lt;/span&gt;&lt;span class=&quot;se&quot;&gt;\&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;
-disable-rule=LongVariableName &lt;/span&gt;&lt;span class=&quot;se&quot;&gt;\&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;
-disable-rule=ShortVariableName &lt;/span&gt;&lt;span class=&quot;se&quot;&gt;\&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;
-disable-rule=HighNcssMethod &lt;/span&gt;&lt;span class=&quot;se&quot;&gt;\&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;
-disable-rule=DeepNestedBlock &lt;/span&gt;&lt;span class=&quot;se&quot;&gt;\&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;
-disable-rule=TooManyFields &lt;/span&gt;&lt;span class=&quot;se&quot;&gt;\&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;
-disable-rule=TooManyMethods &lt;/span&gt;&lt;span class=&quot;se&quot;&gt;\&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;
-disable-rule=TooManyParameters &lt;/span&gt;&lt;span class=&quot;se&quot;&gt;\&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;
-disable-rule=IvarAssignmentOutsideAccessorsOrInit&quot;&lt;/span&gt;

oclint-json-compilation-database &lt;span class=&quot;nt&quot;&gt;--&lt;/span&gt; &lt;span class=&quot;se&quot;&gt;\&lt;/span&gt;
&lt;span class=&quot;nt&quot;&gt;-report-type&lt;/span&gt; pmd &lt;span class=&quot;nt&quot;&gt;-o&lt;/span&gt; sonar-reports/&lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;$myscheme&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt;_oclint.xml &lt;span class=&quot;se&quot;&gt;\&lt;/span&gt;
&lt;span class=&quot;nt&quot;&gt;-max-priority-1&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;$maxPriority&lt;/span&gt; &lt;span class=&quot;se&quot;&gt;\&lt;/span&gt;
&lt;span class=&quot;nt&quot;&gt;-max-priority-2&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;$maxPriority&lt;/span&gt; &lt;span class=&quot;se&quot;&gt;\&lt;/span&gt;
&lt;span class=&quot;nt&quot;&gt;-max-priority-3&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;$maxPriority&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;$LINT_DISABLE_RULES&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt;

&lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;[&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-f&lt;/span&gt; sonar-reports/&lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;$myscheme&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt;_oclint.xml &lt;span class=&quot;o&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;then
    &lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;echo&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;åˆ†æå®Œæˆ&quot;&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;else
    &lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;echo&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;åˆ†æå¤±è´¥&quot;&lt;/span&gt;
    &lt;span class=&quot;nb&quot;&gt;exit &lt;/span&gt;0
&lt;span class=&quot;k&quot;&gt;fi

&lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;sed&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-i&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;''&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;'s/\&amp;amp;/\&amp;amp;amp;/g'&lt;/span&gt; sonar-reports/&lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;$myscheme&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt;_oclint.xml

&lt;span class=&quot;c&quot;&gt;# ç”Ÿäº§é…ç½®æ–‡ä»¶&lt;/span&gt;
&lt;span class=&quot;nb&quot;&gt;rm&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-f&lt;/span&gt; sonar-project.properties
&lt;span class=&quot;nb&quot;&gt;cat&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;gt;&lt;/span&gt; sonar-project.properties &lt;span class=&quot;o&quot;&gt;&amp;lt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;no&quot;&gt;EOF&lt;/span&gt;&lt;span class=&quot;sh&quot;&gt;
sonar.projectKey=&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;$1&lt;/span&gt;&lt;span class=&quot;sh&quot;&gt;
sonar.projectName=&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;$1&lt;/span&gt;&lt;span class=&quot;sh&quot;&gt;
sonar.projectVersion=1.0
sonar.language=swift
sonar.sources=.
sonar.swift.simulator=platform=iphoneos,OS=latest
sonar.swift.project=&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;$myworkspace&lt;/span&gt;&lt;span class=&quot;sh&quot;&gt;
sonar.swift.appScheme=&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;$myscheme&lt;/span&gt;&lt;span class=&quot;sh&quot;&gt;
sonar.swift.appConfiguration=Debug
sonar.sourceEncoding=UTF-8
sonar.swift.excludedPathsFromCoverage=.*Tests.*
sonar.swift.tailor.config=--no-color --max-line-length=100 --max-file-length=500 --max-name-length=40 --max-name-length=40 --min-name-length=4
&lt;/span&gt;&lt;span class=&quot;no&quot;&gt;EOF

&lt;/span&gt;&lt;span class=&quot;c&quot;&gt;# å‚¨å­˜åˆ° sonar æ•°æ®åº“&lt;/span&gt;
/bin/sh sonar-scanner &lt;span class=&quot;nt&quot;&gt;-X&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;h2 id=&quot;è„šæœ¬æºç &quot;&gt;è„šæœ¬æºç &lt;/h2&gt;

&lt;p&gt;è„šæœ¬æºç å·²æ”¾åœ¨ Github ä»“åº“ &lt;a href=&quot;https://github.com/muzipiao/dev-shell&quot;&gt;https://github.com/muzipiao/dev-shell&lt;/a&gt; çš„ sonar-scan æ–‡ä»¶å¤¹ä¸‹ï¼Œç»„ä»¶ Git è·¯å¾„å’Œæ‹‰å–åˆ°æœ¬åœ°çš„è·¯å¾„æœ‰æ‰€ä¸åŒï¼Œéœ€è¦ç®€å•ä¿®æ”¹ï¼Œè¿™äº›è„šæœ¬ä¾›å­¦ä¹ å‚è€ƒã€‚&lt;/p&gt;

&lt;p&gt;å¦‚æœæ‚¨è§‰å¾—æœ‰æ‰€å¸®åŠ©ï¼Œè¯·åœ¨&lt;a href=&quot;https://github.com/muzipiao/dev-shell&quot;&gt;GitHub Shell&lt;/a&gt;ä¸Šèµä¸ªStar â­ï¸ï¼Œæ‚¨çš„é¼“åŠ±æ˜¯æˆ‘å‰è¿›çš„åŠ¨åŠ›ã€‚&lt;/p&gt;

&lt;h2 id=&quot;å‚è€ƒ&quot;&gt;å‚è€ƒ&lt;/h2&gt;

&lt;ul&gt;
  &lt;li&gt;https://blog.csdn.net/weixin_43901866/article/details/86578648&lt;/li&gt;
  &lt;li&gt;https://www.jianshu.com/p/3b70aa6af07b&lt;/li&gt;
&lt;/ul&gt;
</description>
        <pubDate>Sun, 01 Dec 2019 00:00:00 +0800</pubDate>
        <link>http://localhost:4000/2019/12/SonarQube-%E8%87%AA%E5%8A%A8%E5%8C%96%E6%89%AB%E6%8F%8F/</link>
        <guid isPermaLink="true">http://localhost:4000/2019/12/SonarQube-%E8%87%AA%E5%8A%A8%E5%8C%96%E6%89%AB%E6%8F%8F/</guid>
        
        <category>SonarQube</category>
        
        
      </item>
    
      <item>
        <title>iOS ä½¿ç”¨ SM2 SM4 åŠ è§£å¯† SM2 ç­¾åéªŒç­¾åŠ SM3 æ‘˜è¦</title>
        <description>&lt;ul&gt;
  &lt;li&gt;&lt;a href=&quot;#1_0&quot;&gt;å‰è¨€&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;#2_0&quot;&gt;å›½å¯†å…¨å®¶æ¡¶&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;#3_0&quot;&gt;SM2 ç®—æ³•åŸç†&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;#4_0&quot;&gt;é›†æˆ OpenSSL&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;#5_0&quot;&gt;å›½å¯†çš„ Objective-C å°è£…&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;#6_0&quot;&gt;å‚è€ƒ&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;h2 id=&quot;å‰è¨€&quot;&gt;&lt;a id=&quot;1_0&quot;&gt;&lt;/a&gt;å‰è¨€&lt;/h2&gt;

&lt;p&gt;å¯¹äºå¼€å‘äººå‘˜ï¼Œå¼€å‘ä¸­åŠ è§£å¯†æ˜¯ç»å¸¸ç”¨åˆ°çš„ï¼Œå¸¸è§çš„å¯†ç ç®—æ³• MD5ã€SHAã€AESã€DESï¼ŒRSA ç­‰ç­‰ï¼Œè¿™äº›æ— ä¸€ä¾‹å¤–éƒ½æ˜¯å›½å¤–çš„åŠ å¯†ç®—æ³•ã€‚åŸºäºå®‰å…¨å’Œå®è§‚æˆ˜ç•¥è€ƒè™‘ï¼Œæˆ‘å›½ä» 2010 å¹´å…ˆåæ¨å‡ºäº† SM1ï¼ˆSCB2ï¼‰ã€SM2ã€SM3ã€SM4ã€SM7ã€SM9ã€ZUCï¼ˆç¥–å†²ä¹‹å¯†ç ç®—æ³•ï¼‰ç­‰å¯†ç ç®—æ³•ï¼Œæœ¬æ–‡ä¸»è¦è®¨è®º SM2 ç®—æ³•åŸç†ï¼ŒiOS ç«¯å¦‚ä½•ä½¿ç”¨ SM2ã€SM4 åŠ è§£å¯†ã€SM2 ç­¾åéªŒç­¾åŠä½¿ç”¨ SM3 ç”Ÿæˆæ‘˜è¦å€¼ã€‚&lt;/p&gt;

&lt;h2 id=&quot;å›½å¯†å…¨å®¶æ¡¶&quot;&gt;&lt;a id=&quot;2_0&quot;&gt;&lt;/a&gt;å›½å¯†å…¨å®¶æ¡¶&lt;/h2&gt;

&lt;p&gt;å›½å¯†ç®—æ³•ä¸­ï¼ŒSM1ã€SM4ã€SM7ã€ZUC æ˜¯å¯¹ç§°ç®—æ³•ï¼›SM2ã€SM9æ˜¯éå¯¹ç§°ç®—æ³•ï¼›SM3æ˜¯å“ˆå¸Œç®—æ³•ã€‚å…¶ä¸­ SM1 å’Œ SM7 åˆ†ç»„å¯†ç ç®—æ³•ä¸å…¬å¼€ï¼ŒSM1 ä¸»è¦ç”¨äºåŠ å¯†èŠ¯ç‰‡ç­‰é‡è¦é¢†åŸŸï¼Œä¾‹å¦‚ æ™ºèƒ½ IC å¡ï¼ŒåŠ å¯†æœºç­‰ï¼›SM7 ä¸»è¦ç”¨äºå¸¸è§„éæ¥è§¦å¼ IC å¡ï¼Œä¾‹å¦‚é—¨ç¦å¡ï¼Œå·¥ä½œè¯ç­‰ã€‚&lt;/p&gt;

&lt;table&gt;
  &lt;thead&gt;
    &lt;tr&gt;
      &lt;th style=&quot;text-align: center&quot;&gt;ç®—æ³•&lt;/th&gt;
      &lt;th style=&quot;text-align: center&quot;&gt;å…¬å¼€&lt;/th&gt;
      &lt;th style=&quot;text-align: center&quot;&gt;ç±»ä¼¼&lt;/th&gt;
      &lt;th&gt;ä¸»è¦ç”¨é€”&lt;/th&gt;
    &lt;/tr&gt;
  &lt;/thead&gt;
  &lt;tbody&gt;
    &lt;tr&gt;
      &lt;td style=&quot;text-align: center&quot;&gt;SM1&lt;/td&gt;
      &lt;td style=&quot;text-align: center&quot;&gt;å¦&lt;/td&gt;
      &lt;td style=&quot;text-align: center&quot;&gt;AES&lt;/td&gt;
      &lt;td&gt;æ™ºèƒ½ICå¡ã€åŠ å¯†å¡ï¼ŒåŠ å¯†æœºç­‰ã€‚&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td style=&quot;text-align: center&quot;&gt;SM2&lt;/td&gt;
      &lt;td style=&quot;text-align: center&quot;&gt;æ˜¯&lt;/td&gt;
      &lt;td style=&quot;text-align: center&quot;&gt;RSA&lt;/td&gt;
      &lt;td&gt;é‡è¦ä¿¡æ¯çš„åŠ è§£å¯†ï¼Œç­¾åï¼Œå¦‚å¯†ç ã€‚&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td style=&quot;text-align: center&quot;&gt;SM3&lt;/td&gt;
      &lt;td style=&quot;text-align: center&quot;&gt;æ˜¯&lt;/td&gt;
      &lt;td style=&quot;text-align: center&quot;&gt;SHA&lt;/td&gt;
      &lt;td&gt;å¯†ç åº”ç”¨ä¸­çš„æ•°å­—ç­¾åå’ŒéªŒè¯ï¼Œæ‘˜è¦ç­‰ã€‚&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td style=&quot;text-align: center&quot;&gt;SM4&lt;/td&gt;
      &lt;td style=&quot;text-align: center&quot;&gt;æ˜¯&lt;/td&gt;
      &lt;td style=&quot;text-align: center&quot;&gt;AES&lt;/td&gt;
      &lt;td&gt;åˆ†ç»„ç®—æ³•ç”¨äºæ— çº¿å±€åŸŸç½‘äº§å“ã€‚&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td style=&quot;text-align: center&quot;&gt;SM7&lt;/td&gt;
      &lt;td style=&quot;text-align: center&quot;&gt;å¦&lt;/td&gt;
      &lt;td style=&quot;text-align: center&quot;&gt;AES&lt;/td&gt;
      &lt;td&gt;æ ¡å›­ä¸€å¡é€šï¼Œé—¨ç¦å¡ï¼Œå·¥ä½œè¯ç­‰ã€‚&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td style=&quot;text-align: center&quot;&gt;SM9&lt;/td&gt;
      &lt;td style=&quot;text-align: center&quot;&gt;æ˜¯&lt;/td&gt;
      &lt;td style=&quot;text-align: center&quot;&gt;SSL&lt;/td&gt;
      &lt;td&gt;åŸºäºèº«ä»½çš„å¯†ç ï¼Œç”¨äºéªŒè¯èº«ä»½ã€‚&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td style=&quot;text-align: center&quot;&gt;ZUC&lt;/td&gt;
      &lt;td style=&quot;text-align: center&quot;&gt;æ˜¯&lt;/td&gt;
      &lt;td style=&quot;text-align: center&quot;&gt;AES&lt;/td&gt;
      &lt;td&gt;4G ç½‘ç»œä¸­çš„å›½é™…æ ‡å‡†å¯†ç ç®—æ³•ã€‚&lt;/td&gt;
    &lt;/tr&gt;
  &lt;/tbody&gt;
&lt;/table&gt;

&lt;h2 id=&quot;sm2-ç®—æ³•åŸç†&quot;&gt;&lt;a id=&quot;3_0&quot;&gt;&lt;/a&gt;SM2 ç®—æ³•åŸç†&lt;/h2&gt;

&lt;p&gt;SM2 ç®—æ³•æ˜¯å›½å¯†æ ‡å‡†çš„éå¯¹ç§°ç®—æ³•æ ‡å‡†ï¼ŒåŸºäºeccï¼ˆElliptic Curves Cryptographyï¼Œæ¤­åœ†æ›²çº¿å¯†ç ç¼–ç å­¦ï¼‰çš„æ‰©å±•ã€‚æèµ·éå¯¹ç§°åŠ å¯†ï¼Œè‡ªç„¶æƒ³åˆ°äº† RSAï¼Œå¯¹æå¤§æ•´æ•°åšå› æ•°åˆ†è§£çš„éš¾åº¦å†³å®šäº†RSAç®—æ³•çš„å¯é æ€§ï¼ˆ&lt;a href=&quot;http://cocoafei.top/2016/12/iOS-%E7%AB%AF-RSA-%E5%8A%A0%E5%AF%86/&quot;&gt;RSA ç®—æ³•ç†è§£&lt;/a&gt;ï¼‰ï¼Œè¿™æ˜¯ RSA å®‰å…¨çš„åŸºç¡€ã€‚é‚£å›½å¯†åŠ è§£å¯†çš„ç®—æ³•åŸºç¡€æ˜¯ä»€ä¹ˆï¼Ÿé¦–å…ˆæˆ‘ä»¬å…ˆç†è§£ä¸€ä¸‹æ¤­åœ†æ›²çº¿ã€‚&lt;/p&gt;

&lt;h3 id=&quot;sm2-æ¤­åœ†æ›²çº¿&quot;&gt;SM2 æ¤­åœ†æ›²çº¿&lt;/h3&gt;

&lt;p&gt;å›½å¯† SM2 çš„ç®—æ³•åŸºç¡€æ˜¯æ¤­åœ†æ›²çº¿ï¼Œå…¬å¼ï¼š&lt;/p&gt;

&lt;pre&gt;&lt;code class=&quot;language-math&quot;&gt;y^2 = x^3 + ax + b(4a^3 + 27b^2 â‰  0)
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;é‚£æ¤­åœ†æ›²çº¿é•¿ä»€ä¹ˆæ ·å­å‘¢ï¼Œç™¾é—»ä¸å¦‚ä¸€è§ï¼Œå›¾ç‰‡èƒ½ç›´è§‚æ„Ÿå—ã€‚&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/images/posts/gmobjc/gmobjc01.png&quot; alt=&quot;æ¤­åœ†æ›²çº¿&quot; /&gt;&lt;/p&gt;

&lt;p&gt;ä¸ºä»€ä¹ˆéœ€è¦æ»¡è¶³å‘¢ï¼Ÿ&lt;/p&gt;
&lt;pre&gt;&lt;code class=&quot;language-math&quot;&gt;4a^3 + 27b^2 â‰  0
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;å› ä¸ºå½“è¿™ä¸ªå…¬å¼ç­‰äº 0 æ—¶ï¼Œå®ƒä¸æ˜¯æ¤­åœ†æ›²çº¿ã€‚&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/images/posts/gmobjc/gmobjc02.png&quot; alt=&quot;abå–å€¼æ¡ä»¶&quot; /&gt;&lt;/p&gt;

&lt;h3 id=&quot;sm2-ç®—æ³•ç†è§£&quot;&gt;SM2 ç®—æ³•ç†è§£&lt;/h3&gt;

&lt;p&gt;&lt;img src=&quot;/images/posts/gmobjc/gmobjc03.png&quot; alt=&quot;å€ç‚¹è¿ç®—&quot; /&gt;&lt;/p&gt;

&lt;p&gt;ç»“åˆä¸Šé¢è¿™å¼ å›¾ï¼Œæˆ‘ä»¬äº†è§£ä¸€ä¸‹ SM2 çš„å‡ ä½•æ„ä¹‰ã€‚&lt;/p&gt;

&lt;h3 id=&quot;sm2-å…¬ç§é’¥&quot;&gt;SM2 å…¬ç§é’¥&lt;/h3&gt;

&lt;p&gt;ç®—æ³•æ˜¯åŸºäºæ•°å­¦çš„ï¼ŒSM2 å®šä¹‰æ›²çº¿ä¸Šçš„ç¾¤è¿ç®—åŠ å‡ä¹˜ï¼Œé€šè¿‡å…¬ç§é’¥çš„ç”Ÿæˆç†è§£ã€‚&lt;/p&gt;

&lt;ol&gt;
  &lt;li&gt;é¦–é€‰ä¸€æ¡æ¤­åœ†æ›²çº¿ï¼Œå³å›ºå®š aã€b çš„å€¼ï¼Œå‡è®¾é€‰æ‹©çš„æ˜¯ä¸Šå›¾æ‰€ç¤ºæ›²çº¿ã€‚&lt;/li&gt;
  &lt;li&gt;éšæœºé€‰æ‹©ä¸€ä¸ªç‚¹ P ä¸ºåŸºç‚¹ï¼Œæ›²çº¿åšåˆ‡çº¿ï¼Œç»è¿‡ Q ç‚¹ï¼Œåˆ‡ç‚¹ R1ã€‚&lt;/li&gt;
  &lt;li&gt;åŸºäº x è½´åš R1 çš„å¯¹ç§°ç‚¹ Rï¼Œåˆ™ SM2 å®šä¹‰åŠ æ³•ä¸º P + Q = Rï¼Œè¿™å°±æ˜¯æ¤­åœ†æ›²çº¿åŠ æ³•ã€‚&lt;/li&gt;
  &lt;li&gt;æ±‚ 2 å€ç‚¹ï¼Œå½“ P = Q æ—¶ï¼Œå³ P + P = R = 2Pï¼Œåˆ™ R æ˜¯ P çš„ 2 å€ç‚¹ã€‚&lt;/li&gt;
  &lt;li&gt;æ±‚ 3 å€ç‚¹ï¼Œ3P = P + 2P = P + Rï¼Œç»è¿‡ Pã€R åšç›´çº¿ï¼Œäº¤äºæ¤­åœ†æ›²çº¿ç‚¹ M1, åŸºäº x è½´å¯¹ç§°ç‚¹ M åˆ™æ˜¯ 3 å€ç‚¹ï¼Œä¾æ¬¡ç±»æ¨ã€‚&lt;/li&gt;
  &lt;li&gt;æ±‚ d å€ç‚¹ï¼Œå‡è®¾æˆ‘ä»¬åŒæ ·æ¬¡æ•°ä¸º dï¼Œè¿ç®—å€ç‚¹ä¸º Qã€‚&lt;/li&gt;
  &lt;li&gt;d ä¸ºç§é’¥ï¼ŒQ ä¸ºå…¬é’¥ã€‚æ‰€ä»¥ç§é’¥æ˜¯ä¸€ä¸ªå¤§æ•´æ•°ï¼Œå…¬é’¥æ˜¯ä¸€ä¸ªç‚¹åæ ‡ã€‚&lt;/li&gt;
&lt;/ol&gt;

&lt;p&gt;ä¸Šé¢çš„å‡ ä½•æ¨ç†æ˜¯ä¸ºäº†æ–¹ä¾¿ç†è§£ï¼Œå®é™…å–å€¼éƒ½æ˜¯åœ¨è´¨æ•°æœ‰é™åŸŸä¸Šã€‚å¯†ç ä¸“å®¶ä»¬ç»è¿‡æ¨ç†å’Œè¿ç®—ï¼Œå·²ç»ä¸ºæˆ‘ä»¬é€‰æ‹©äº†è´¨æ•°æœ‰é™åŸŸä¸Šçš„æœ€ä¼˜æ¤­åœ†æ›²çº¿ï¼Œé™¤éæœ‰ç‰¹æ®Šéœ€è¦ï¼Œå¦åˆ™ä¸éœ€è¦è‡ªå®šä¹‰æ›²çº¿ã€‚&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/images/posts/gmobjc/gmobjc04.png&quot; alt=&quot;æ¨èæ›²çº¿&quot; /&gt;&lt;/p&gt;

&lt;p&gt;pï¼šæ¤­åœ†æ›²çº¿åœ¨è´¨æ•° p çš„æœ‰é™åŸŸ Fp ä¸Šçš„ç‚¹é›†åˆï¼›&lt;/p&gt;

&lt;p&gt;aï¼šæ¤­åœ†æ›²çº¿å‚æ•° a çš„å€¼ï¼›&lt;/p&gt;

&lt;p&gt;bï¼šæ¤­åœ†æ›²çº¿å‚æ•° b çš„å€¼;&lt;/p&gt;

&lt;p&gt;nï¼šå–å€¼èŒƒå›´ï¼Œéšæœºæ•´æ•° d çš„å–å€¼èŒƒå›´ [1,n-2]ï¼›&lt;/p&gt;

&lt;p&gt;Gxï¼šåŸºç‚¹çš„ x åæ ‡å€¼ï¼Œç±»ä¼¼äºç‚¹ P çš„ x åæ ‡å€¼ï¼›&lt;/p&gt;

&lt;p&gt;Gyï¼šåŸºç‚¹çš„ y åæ ‡å€¼ï¼Œç±»ä¼¼äºç‚¹ P çš„ y åæ ‡å€¼ã€‚&lt;/p&gt;

&lt;h3 id=&quot;sm2-åŠ å¯†&quot;&gt;SM2 åŠ å¯†&lt;/h3&gt;

&lt;p&gt;SM2 åŠ å¯†ç»“æœé•¿åº¦æ˜¯å›ºå®šçš„ï¼Œä¾‹å¦‚å¯†ç ä¸º 123456 çš„ 6 ä½æ•°å­—ï¼ŒåŠ å¯†ç»“æœé•¿åº¦ = 64 + 32 + 6 = 102 å­—èŠ‚ï¼Œè½¬ä¸º 16 è¿›åˆ¶å­—ç¬¦ä¸²ç»“æœä¸º 204 ä¸ªå­—ç¬¦ã€‚åŸæ–‡é•¿åº¦ä¸º nï¼Œåˆ™åŠ å¯†ç»“æœé•¿åº¦ r  = 96 + nã€‚&lt;/p&gt;

&lt;p&gt;åŠ å¯†è¿‡ç¨‹ï¼š&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/images/posts/gmobjc/gmobjc05.png&quot; alt=&quot;sm2åŠ å¯†&quot; /&gt;&lt;/p&gt;

&lt;p&gt;è®¾æ¤­åœ†æ›²çº¿ä¸ºæ¨èæ›²çº¿ï¼Œå…¬é’¥ Qï¼ŒåŸæ–‡æ¯”ç‰¹ä¸² Mï¼Œklen ä¸º M çš„æ¯”ç‰¹é•¿åº¦ï¼›&lt;/p&gt;

&lt;ol&gt;
  &lt;li&gt;è®¡ç®—éšæœºæ¤­åœ†æ›²çº¿ç‚¹ C1 = [k]G=(x1, y1)ï¼Œk æ˜¯éšæœºæ•°ï¼ŒGä¸ºåŸºç‚¹ï¼Œè®¡ç®—å‡ºçš„å€ç‚¹ C1 ä¸º 64 å­—èŠ‚ï¼›&lt;/li&gt;
  &lt;li&gt;æ ¡éªŒå…¬é’¥ Qï¼Œè®¡ç®—æ¤­åœ†æ›²çº¿ç‚¹ S=[h]Qï¼Œhä¸ºä½™å› å­ï¼Œè‹¥S ä¸ºæ— ç©·ç‚¹ï¼Œé€€å‡ºï¼›&lt;/li&gt;
  &lt;li&gt;è®¡ç®—æ¤­åœ†æ›²çº¿ç‚¹ [k]PB=(x2, y2)ï¼Œè·å– x2ï¼Œy2ï¼›&lt;/li&gt;
  &lt;li&gt;è®¡ç®— t = KDF(x2||y2ï¼Œklen)ï¼Œè‹¥ t ä¸ºå…¨ 0 æ¯”ç‰¹ä¸²ï¼Œåˆ™è¿”å›æ­¥éª¤ 1ï¼ŒKDFæ˜¯ SM2 çš„å¯†é’¥æ´¾ç”Ÿå‡½æ•°;&lt;/li&gt;
  &lt;li&gt;è®¡ç®— C2= MâŠ•tï¼Œå¯¹æ˜æ–‡åŠ å¯†ï¼ŒC2 æ˜¯çœŸæ­£çš„å¯†æ–‡ï¼Œé•¿åº¦å’ŒåŸæ–‡ç›¸åŒï¼›&lt;/li&gt;
  &lt;li&gt;è®¡ç®— C3= Hash (x2||M|| y2)ï¼Œç”Ÿæˆæ‚å‡‘å€¼ï¼Œç”¨æ¥æ•ˆéªŒæ•°æ®ï¼Œé•¿åº¦ 32 å­—èŠ‚ï¼›&lt;/li&gt;
  &lt;li&gt;è¾“å‡ºå¯†æ–‡ C=C1||C3||C2ï¼ŒC ä¸ºå¯†æ–‡ç»“æœã€‚&lt;/li&gt;
&lt;/ol&gt;

&lt;p&gt;æ³¨æ„ï¼šOpenSSL åŠ å¯†ç»“æœæ˜¯ç»è¿‡ ASN1 æ ¼å¼åŒ–ç¼–ç çš„ï¼ŒåŠ å¯†ç»“æœé•¿åº¦ä¼šä¸å›ºå®šã€‚åŠ è¿‡è¿‡ç¨‹ä¸­ä½¿ç”¨äº†éšæœºæ•°ï¼Œæ‰€ä»¥æ¯æ¬¡åŠ å¯†ç»“æœéƒ½ä¸ä¸€æ ·ã€‚&lt;/p&gt;

&lt;h3 id=&quot;sm2-è§£å¯†&quot;&gt;SM2 è§£å¯†&lt;/h3&gt;

&lt;p&gt;&lt;img src=&quot;/images/posts/gmobjc/gmobjc06.png&quot; alt=&quot;sm2è§£å¯†&quot; /&gt;&lt;/p&gt;

&lt;p&gt;SM2 è§£å¯†å°±æ˜¯é€†æµç¨‹èµ°ä¸€éï¼Œæ³¨æ„ OpenSSL è§£å¯†è¦æ±‚ä¼ å…¥çš„å¯†æ–‡æ˜¯ ASN1 ç¼–ç çš„ã€‚&lt;/p&gt;

&lt;p&gt;è®¾æ¤­åœ†æ›²çº¿ä¸ºæ¨èæ›²çº¿ ç§é’¥ dï¼Œå¯†æ–‡ Cï¼ˆC=C1||C3||C2ï¼‰ï¼Œklen ä¸ºå¯†æ–‡ä¸­ C2 çš„æ¯”ç‰¹é•¿åº¦ã€‚&lt;/p&gt;

&lt;ol&gt;
  &lt;li&gt;ä» C ä¸­å–å‡ºæ¯”ç‰¹ä¸² C1ï¼ˆå¯†æ–‡ C çš„å‰ 64 å­—èŠ‚ï¼‰ï¼Œå°† C1 çš„æ•°æ®ç±»å‹è½¬æ¢ä¸ºæ¤­åœ†æ›²çº¿ä¸Šçš„ç‚¹ï¼ŒéªŒè¯ C1 æ˜¯å¦æ»¡è¶³æ¤­åœ†æ›²çº¿æ–¹ç¨‹ï¼Œè‹¥ä¸æ»¡è¶³åˆ™æŠ¥é”™å¹¶é€€å‡º;&lt;/li&gt;
  &lt;li&gt;è®¡ç®—æ¤­åœ†æ›²çº¿ç‚¹ S= [h]C1ï¼Œè‹¥ S æ˜¯æ— ç©·è¿œç‚¹ï¼Œåˆ™æŠ¥é”™å¹¶é€€å‡ºï¼›&lt;/li&gt;
  &lt;li&gt;è®¡ç®—[d]C1=(x2, y2)ï¼Œå°†åæ ‡ x2ã€y2 çš„æ•°æ®ç±»å‹è½¬æ¢ä¸ºæ¯”ç‰¹ä¸²ï¼›&lt;/li&gt;
  &lt;li&gt;è®¡ç®— t = KDF(x2||y2ï¼Œklen)ï¼Œè‹¥ t ä¸ºå…¨ 0 æ¯”ç‰¹ä¸²ï¼Œåˆ™æŠ¥é”™å¹¶é€€å‡ºï¼›&lt;/li&gt;
  &lt;li&gt;ä» C ä¸­å–å‡ºæ¯”ç‰¹ä¸² C2ï¼Œè®¡ç®— Mâ€™=C2âŠ•tï¼›&lt;/li&gt;
  &lt;li&gt;è®¡ç®— u = Hash (x2||Mâ€™|| y2)ï¼Œä» C ä¸­å–å‡ºæ¯”ç‰¹ä¸² C3ï¼ˆå¯†æ–‡ C çš„å 32 å­—èŠ‚ï¼‰ï¼Œè‹¥ uâ‰ C3ï¼Œåˆ™æŠ¥é”™å¹¶é€€å‡ºï¼›&lt;/li&gt;
  &lt;li&gt;è¾“å‡ºæ˜æ–‡ Mâ€™ï¼ŒMâ€™ å°±æ˜¯è§£å¯†åçš„æ˜æ–‡ã€‚&lt;/li&gt;
&lt;/ol&gt;

&lt;h2 id=&quot;é›†æˆ-openssl&quot;&gt;&lt;a id=&quot;4_0&quot;&gt;&lt;/a&gt;é›†æˆ OpenSSL&lt;/h2&gt;

&lt;p&gt;OpenSSL 1.1.1 ä»¥ä¸Šç‰ˆæœ¬å¢åŠ äº†å¯¹ SM2/SM3/SM4 å¯†ç ç®—æ³•çš„æ”¯æŒï¼Œæˆ‘ä»¬å¯ä»¥ç›´æ¥ä½¿ç”¨ OpenSSL å®ç°å›½å¯†åŠ è§£å¯†ã€‚éœ€è¦æ³¨æ„çš„æ˜¯ï¼ŒOpenSSL æ²¡æœ‰å®˜æ–¹ç‰ˆæœ¬çš„ cocoapods ç‰ˆæœ¬ï¼Œæˆ‘ä»¬éœ€è¦è‡ªè¡Œå°† OpenSSL ç¼–è¯‘ä¸º frameworkã€‚ç„¶è€Œï¼Œå½“æ£€æŸ¥æ‰“åŒ…å®Œæˆçš„é™æ€åº“æ—¶ï¼Œå‘ç°å¹¶æœªæš´éœ²å›½å¯†çš„å¤´æ–‡ä»¶ï¼Œè§£å†³åŠæ³•å¾ˆç®€å•ï¼Œæ‰“å¼€ä¸‹è½½çš„ OpenSSL æºç ï¼Œå°† crypto/include/internal è·¯å¾„ä¸‹çš„ sm2.hã€sm3.hï¼Œsm4.h éƒ½æ‹–åˆ° openssl.framework/Headers æ–‡ä»¶å¤¹ä¸‹å³å¯ã€‚&lt;/p&gt;

&lt;p&gt;å¦‚æœæƒ³é€šè¿‡ cocoapods é›†æˆ OpenSSLï¼Œæˆ–è€…ä¸ä¼šç¼–è¯‘ï¼Œæˆ‘å·²ç»å°†ç¼–è¯‘å®Œæˆçš„ OpenSSL.framework ä¸Šä¼ è‡³ cocoapodsï¼Œç¼–è¾‘ Podfile æ–‡ä»¶ï¼Œæ·»åŠ  &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;pod 'GMObjC'&lt;/code&gt;ï¼Œä¿å­˜æ‰§è¡Œ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;pod install&lt;/code&gt; å³å¯ã€‚&lt;/p&gt;

&lt;p&gt;è‹¥æƒ³è‡ªè¡Œç¼–è¯‘ï¼Œåœ¨ GitHub æœ‰å¼€æºçš„ç¼–è¯‘è„šæœ¬ &lt;a href=&quot;https://github.com/muzipiao/GMOpenSSL&quot;&gt;https://github.com/muzipiao/GMOpenSSL&lt;/a&gt;ï¼Œä¸‹è½½æ ¹æ®è¯´æ˜ç¼–è¯‘å³å¯ã€‚&lt;/p&gt;

&lt;h2 id=&quot;å›½å¯†çš„-objective-c-å°è£…&quot;&gt;&lt;a id=&quot;5_0&quot;&gt;&lt;/a&gt;å›½å¯†çš„ Objective-C å°è£…&lt;/h2&gt;

&lt;p&gt;OpenSSL å®ç°äº† SM2/SM3/SM4 å¯†ç ç®—æ³•ï¼Œä½†æ²¡æœ‰æ³¨é‡Šè¯´æ˜ï¼Œä¸”çº¯ C çš„ API ç”¨èµ·æ¥ä¸æ–¹ä¾¿ã€‚æ‰€ä»¥ï¼Œå¯¹ SM2/SM3/SM4 è¿›è¡Œäº† Objective-C å°è£…ï¼Œæ–¹ä¾¿åœ¨ iOS ç«¯ä½¿ç”¨ã€‚&lt;/p&gt;

&lt;p&gt;å…·ä½“å°è£…è¿‡ç¨‹ä¸å†è¯¦è§£ï¼Œå¼€æºé¡¹ç›®ï¼Œå¯è‡ªè¡ŒæŸ¥çœ‹æºç ã€‚å®ç°è¿‡ç¨‹æœ‰ç‚¹åå·ï¼Œå°¤å…¶ SM2 åŠ è§£å¯†ï¼Œåå°æ˜¯å¯¹ C1||C3||C2 æ‹¼æ¥çš„åŸå§‹å¯†æ–‡è¿›è¡Œæ“ä½œï¼Œè€Œ OpenSSL åŠ è§£å¯†éƒ½æ˜¯ ASN1 ç¼–ç æ ¼å¼ï¼Œè¿˜å¥½ OpenSSL æ˜¯å¼€æºé¡¹ç›®ï¼ŒæŸ¥çœ‹æºç æ‰¾åˆ°äº†åŸå› ã€‚&lt;/p&gt;

&lt;p&gt;æŸ¥çœ‹å…·ä½“å®ç°è¿‡ç¨‹ï¼Œè¯·è‡³å¼€æºé¡¹ç›®åœ°å€&lt;a href=&quot;https://github.com/muzipiao/GMObjC&quot;&gt;https://github.com/muzipiao/GMObjC&lt;/a&gt;ã€‚&lt;/p&gt;

&lt;h3 id=&quot;sm2-åŠ è§£å¯†&quot;&gt;sm2 åŠ è§£å¯†&lt;/h3&gt;

&lt;p&gt;sm2 åŠ è§£å¯†ï¼ŒåŠ å¯†ä¼ å…¥å¾…åŠ å¯†å­—ç¬¦ä¸²å’Œå…¬é’¥ï¼Œè§£å¯†ä¼ å…¥å¯†æ–‡å’Œç§é’¥å³å¯ï¼Œä»£ç ï¼š&lt;/p&gt;

&lt;div class=&quot;language-objc highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;c1&quot;&gt;// å…¬é’¥&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;NSString&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;gPubkey&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;@&quot;0408E3FFF9505BCFAF9307E665E9229F4E1B3936437A870407EA3D97886BAFBC9C624537215DE9507BC0E2DD276CF74695C99DF42424F28E9004CDE4678F63D698&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;// ç§é’¥&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;NSString&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;gPrikey&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;@&quot;90F3A42B9FE24AB196305FD92EC82E647616C3A3694441FB3422E7838E24DEAE&quot;&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;// å¾…åŠ å¯†çš„å­—ç¬¦ä¸²&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;NSString&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;pwd&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;@&quot;123456&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;// åŠ å¯†&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;NSString&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;ctext&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;GMSm2Utils&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;encrypt&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;pwd&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;PublicKey&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;gPubkey&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;];&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;// è§£å¯†&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;NSString&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;plainText&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;GMSm2Utils&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;decrypt&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;encodeCtext&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;PrivateKey&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;gPrikey&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;];&lt;/span&gt;

&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;æ³¨æ„ï¼š&lt;/p&gt;

&lt;ol&gt;
  &lt;li&gt;OpenSSL æ‰€ç”¨å…¬é’¥æ˜¯ 04 å¼€å¤´çš„ï¼Œåå°è¿”å›å…¬é’¥å¯èƒ½æ˜¯ä¸å¸¦ 04 çš„ï¼Œéœ€è¦æ‰‹åŠ¨æ‹¼æ¥ã€‚&lt;/li&gt;
  &lt;li&gt;åå°è¿”å›çš„è§£å¯†ç»“æœå¯èƒ½æ˜¯æ²¡æœ‰æ ‡å‡†ç¼–ç çš„åŸå§‹å¯†æ–‡ï¼Œè€Œ OpenSSL çš„åŠ è§£å¯†éƒ½æ˜¯éœ€è¦ ASN1 ç¼–ç æ ¼å¼ï¼Œæ‰€ä»¥ä¸åå°äº¤äº’è¿‡ç¨‹ä¸­ï¼Œå¯èƒ½éœ€è¦ ASN1 ç¼–ç è§£ç ã€‚&lt;/li&gt;
&lt;/ol&gt;

&lt;h3 id=&quot;sm2-ç­¾åéªŒç­¾&quot;&gt;sm2 ç­¾åéªŒç­¾&lt;/h3&gt;

&lt;p&gt;sm2 ç§é’¥ç­¾åï¼Œå…¬é’¥éªŒç­¾ï¼Œå¯é˜²ç¯¡æ”¹æˆ–éªŒè¯èº«ä»½ã€‚ç­¾åæ—¶ä¼ å…¥æ˜æ–‡ã€ç§é’¥å’Œç”¨æˆ· IDï¼›éªŒç­¾æ—¶ä¼ å…¥æ˜æ–‡ã€ç­¾åã€å…¬é’¥å’Œç”¨æˆ· IDï¼Œä»£ç ï¼š&lt;/p&gt;

&lt;div class=&quot;language-objc highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;c1&quot;&gt;// å…¬é’¥&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;NSString&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;gPubkey&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;@&quot;0408E3FFF9505BCFAF9307E665E9229F4E1B3936437A870407EA3D97886BAFBC9C624537215DE9507BC0E2DD276CF74695C99DF42424F28E9004CDE4678F63D698&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;// ç§é’¥&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;NSString&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;gPrikey&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;@&quot;90F3A42B9FE24AB196305FD92EC82E647616C3A3694441FB3422E7838E24DEAE&quot;&lt;/span&gt;

&lt;span class=&quot;c1&quot;&gt;// å¾…ç­¾åçš„åŸæ–‡&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;NSString&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;pwd&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;@&quot;123456&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;// è¿™é‡Œä¼ å…¥è‡ªå®šä¹‰ IDï¼Œå’ŒæœåŠ¡å™¨ä¿æŒä¸¤ç«¯ä¸€è‡´å³å¯ã€‚&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;NSString&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;userID&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;@&quot;lifei_zdjl@126.com&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;// ç­¾åç»“æœ(r+s)æ‹¼æ¥çš„ 16 è¿›åˆ¶å­—ç¬¦&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;NSString&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;signStr&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;GMSm2Utils&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;sign&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;pwd&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;PrivateKey&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;gPrikey&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;UserID&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;userID&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;];&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;// éªŒç­¾ï¼ŒisOK ä¸º YES éªŒç­¾é€šè¿‡ï¼ŒNO ä¸ºæœªé€šè¿‡&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;BOOL&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;isOK&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;GMSm2Utils&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;verify&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;pwd&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;Sign&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;signStr&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;PublicKey&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;self&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;gPubkey&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;UserID&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;userID&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;];&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;// å¯¹ç­¾åç»“æœ Der ç¼–ç &lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;NSString&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;derSign&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;GMSm2Utils&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;encodeWithDer&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;signStr&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;];&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;// å¯¹ Der ç¼–ç è§£ç &lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;NSString&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;originStr&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;GMSm2Utils&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;decodeWithDer&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;derSign&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;];&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;æ³¨æ„ï¼š&lt;/p&gt;

&lt;ol&gt;
  &lt;li&gt;ç”¨æˆ· ID å¯ä¼ ç©ºå€¼ï¼Œå½“ä¼ ç©ºå€¼æ—¶ä½¿ç”¨ OpenSSL é»˜è®¤ç”¨æˆ· IDï¼ŒOpenSSL ä¸­é»˜è®¤ç”¨æˆ·å®šä¹‰ä¸º&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;#define SM2_DEFAULT_USERID &quot;1234567812345678&quot;&lt;/code&gt; ï¼Œå®¢æˆ·ç«¯å’ŒæœåŠ¡ç«¯ç”¨æˆ· ID è¦ä¿æŒä¸€è‡´ã€‚&lt;/li&gt;
  &lt;li&gt;å®¢æˆ·ç«¯å’Œåå°äº¤äº’çš„è¿‡ç¨‹ä¸­ï¼Œå‡è®¾åå°ç­¾åï¼Œå®¢æˆ·ç«¯éªŒç­¾ï¼Œåå°è¿”å›çš„ç­¾åæ˜¯ DER ç¼–ç æ ¼å¼ï¼Œå°±éœ€è¦å…ˆå¯¹ç­¾åè¿›è¡Œ DER è§£ç ï¼Œç„¶åå†è¿›è¡ŒéªŒç­¾ã€‚åŒç†ï¼Œè‹¥å®¢æˆ·ç«¯ç­¾åï¼Œåå°éªŒç­¾ï¼Œæ ¹æ®åå°æ˜¯éœ€è¦ (r, s) æ‹¼æ¥æ ¼å¼ç­¾åï¼Œè¿˜æ˜¯ DER æ ¼å¼ï¼Œè¿›è¡Œç¼–ç è§£ç ã€‚&lt;/li&gt;
&lt;/ol&gt;

&lt;h3 id=&quot;sm4-åŠ è§£å¯†&quot;&gt;sm4 åŠ è§£å¯†&lt;/h3&gt;

&lt;p&gt;sm4 åŠ è§£å¯†éƒ½å¾ˆç®€å•ï¼ŒåŠ å¯†ä¼ å…¥å¾…åŠ å¯†å­—ç¬¦ä¸²å’Œå¯†é’¥ï¼Œè§£å¯†ä¼ å…¥å¯†æ–‡å’Œå¯†é’¥å³å¯ï¼Œä»£ç ï¼š&lt;/p&gt;

&lt;div class=&quot;language-objc highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;c1&quot;&gt;// å¾…åŠ å¯†å­—ç¬¦ä¸²&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;NSString&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;pwd&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;@&quot;123456&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;// ç”Ÿäº§ sm4 å¯†é’¥ï¼Œæ³¨æ„ä¸º 16 å­—èŠ‚å­—æ¯æ•°å­—ç¬¦å·æ··åˆçš„å­—ç¬¦ä¸²&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;NSString&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;sm4Key&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;GMSm4Utils&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;createSm4Key&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;];&lt;/span&gt; &lt;span class=&quot;c1&quot;&gt;// ç”Ÿæˆ16ä½å¯†é’¥&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;// sm4 åŠ å¯†&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;NSString&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;sm4Ctext&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;GMSm4Utils&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;encrypt&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;pwd&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;Key&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;sm4Key&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;];&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;// sm4 è§£å¯†&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;NSString&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;sm4Ptext&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;GMSm4Utils&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;decrypt&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;sm4Ctext&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;Key&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;sm4Key&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;];&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;h3 id=&quot;sm3-æ‘˜è¦&quot;&gt;sm3 æ‘˜è¦&lt;/h3&gt;

&lt;p&gt;ç±»ä¼¼äº hashã€md5ï¼Œsm3 æ‘˜è¦ç®—æ³•å¯å¯¹æ–‡æœ¬æ–‡ä»¶è¿›è¡Œæ‘˜è¦è®¡ç®—ï¼Œæ‘˜è¦é•¿åº¦ä¸º 64 ä¸ªå­—ç¬¦çš„å­—ç¬¦ä¸²æ ¼å¼ã€‚&lt;/p&gt;

&lt;div class=&quot;language-objc highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;c1&quot;&gt;// å¾…æå–æ‘˜è¦çš„å­—ç¬¦ä¸²&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;NSString&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;pwd&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;@&quot;123456&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;// å­—ç¬¦ä¸²çš„æ‘˜è¦&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;NSString&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;pwdDigest&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;GMSm3Utils&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;hashWithString&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;plainText&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;];&lt;/span&gt;

&lt;span class=&quot;c1&quot;&gt;// å¯¹æ–‡ä»¶è¿›è¡Œæ‘˜è¦è®¡ç®—ï¼Œä¼ å…¥ NSData å³å¯&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;NSString&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;txtPath&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;[[&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;NSBundle&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;mainBundle&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;pathForResource&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;@&quot;sm4TestFile.txt&quot;&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;ofType&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;nil&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;];&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;NSData&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;fileData&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;NSData&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;dataWithContentsOfFile&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;txtPath&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;];&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;// æ–‡ä»¶çš„æ‘˜è¦å€¼&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;NSString&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;fileDigest&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;GMSm3Utils&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;hashWithData&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;self&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;fileData&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;];&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;h3 id=&quot;asn1-ç¼–ç è§£ç &quot;&gt;ASN1 ç¼–ç è§£ç &lt;/h3&gt;

&lt;p&gt;OpenSSL å¯¹ sm2 åŠ å¯†ç»“æœè¿›è¡Œäº† ASN1 ç¼–ç ï¼Œè§£å¯†æ—¶ä¹Ÿæ˜¯è¦æ±‚å¯†æ–‡ç¼–ç æ ¼å¼ä¸º ASN1 æ ¼å¼ï¼Œå…¶ä»–å¹³å°åŠ è§£å¯†å¯èƒ½éœ€è¦ C1C3C2 æ‹¼æ¥çš„åŸå§‹å¯†æ–‡ï¼Œæ‰€ä»¥éœ€è¦ç¼–ç è§£ç ï¼Œä»£ç ï¼š&lt;/p&gt;

&lt;div class=&quot;language-objc highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;c1&quot;&gt;// ASN1 ç¼–ç çš„å¯†æ–‡&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;NSString&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;ctext&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;@&quot;30:6F:02:21:00:D4:F1:B3:2E:29:50:1E:94:44:46:7F:9E:2E:51:36:1E:91:F5:EC:0B:96:F3:34:94:E5:50:82:9F:00:CC:B5:B7:02:20:04:42:83:DF:76:21:B2:9C:EB:7F:64:8B:B4:7A:3C:BF:FE:97:47:E4:D2:BD:47:44:C9:DA:1D:68:12:23:43:D6:04:20:45:F6:AB:54:22:71:63:93:95:3B:58:E3:8D:90:32:B7:A1:D8:76:2B:B8:16:F2:6A:83:51:77:44:2D:28:2C:D2:04:06:62:9F:38:6A:77:76&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;// å¯¹ ASN1 ç¼–ç çš„å¯†æ–‡è§£ç &lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;NSString&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;decodeStr&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;GMSm2Utils&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;decodeWithASN1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;ctext&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;];&lt;/span&gt;

&lt;span class=&quot;c1&quot;&gt;// åŸå§‹å¯†æ–‡(C1C3C2 ç›´æ¥æ‹¼æ¥)&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;NSString&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;dCtext&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;@&quot;D4F1B32E29501E9444467F9E2E51361E91F5EC0B96F33494E550829F00CCB5B7044283DF7621B29CEB7F648BB47A3CBFFE9747E4D2BD4744C9DA1D68122343D645F6AB5422716393953B58E38D9032B7A1D8762BB816F26A835177442D282CD2629F386A7776&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;// å¯¹ C1C3C2 ç›´æ¥æ‹¼æ¥çš„åŸå§‹å¯†æ–‡ ASN1 ç¼–ç &lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;NSString&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;encodeStr&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;GMSm2Utils&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;encodeWithASN1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;dCtext&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;];&lt;/span&gt;

&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;h3 id=&quot;ç”Ÿæˆå…¬ç§é’¥&quot;&gt;ç”Ÿæˆå…¬ç§é’¥&lt;/h3&gt;

&lt;p&gt;åŸºäº sm2 æ¨èæ›²çº¿ï¼ˆç´ æ•°åŸŸ 256 ä½æ¤­åœ†æ›²çº¿ï¼‰ï¼Œç”Ÿæˆå…¬ç§é’¥ã€‚&lt;/p&gt;

&lt;div class=&quot;language-objc highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;c1&quot;&gt;// ç”Ÿæˆå…¬ç§é’¥å¯¹ï¼Œæ•°ç»„å…ƒç´  1 ä¸ºå…¬é’¥ï¼Œ2 ä¸ºç§é’¥&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;NSArray&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;newKey&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;GMSm2Utils&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;createPublicAndPrivateKey&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;];&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;// å…¬é’¥&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;NSString&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;pubKey&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;newKey&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;];&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;// ç§é’¥&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;NSString&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;priKey&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;newKey&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;];&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;h2 id=&quot;å‚è€ƒ&quot;&gt;&lt;a id=&quot;6_0&quot;&gt;&lt;/a&gt;å‚è€ƒ&lt;/h2&gt;

&lt;p&gt;&lt;a href=&quot;http://www.sca.gov.cn/sca/xwdt/2010-12/17/1002386/files/b791a9f908bb4803875ab6aeeb7b4e03.pdf&quot;&gt;SM2æ¤­åœ†æ›²çº¿å…¬é’¥å¯†ç ç®—æ³•&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;http://www.sca.gov.cn/sca/xwdt/2010-12/17/1002386/files/b965ce832cc34bc191cb1cde446b860d.pdf&quot;&gt;SM2æ¤­åœ†æ›²çº¿å…¬é’¥å¯†ç ç®—æ³•æ¨èæ›²çº¿å‚æ•°&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://blog.wandoer.com/note/eccelliptic-curves-cryptography-%E6%A4%AD%E5%9C%86%E6%9B%B2%E7%BA%BF%E5%8A%A0%E5%AF%86%E5%8E%9F%E7%90%86.htm&quot;&gt;æ¤­åœ†æ›²çº¿åŠ å¯†åŸç†&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://zh.wikipedia.org/wiki/%E6%A4%AD%E5%9C%86%E6%9B%B2%E7%BA%BF%E5%AF%86%E7%A0%81%E5%AD%A6&quot;&gt;æ¤­åœ†æ›²çº¿å¯†ç å­¦&lt;/a&gt;&lt;/p&gt;

&lt;h2 id=&quot;å…¶ä»–&quot;&gt;å…¶ä»–&lt;/h2&gt;

&lt;p&gt;å¦‚æœæ‚¨è§‰å¾—æœ‰æ‰€å¸®åŠ©ï¼Œè¯·åœ¨ &lt;a href=&quot;https://github.com/muzipiao/GMObjC&quot;&gt;GitHub GMObjC&lt;/a&gt; ä¸Šèµä¸ªStar â­ï¸ï¼Œæ‚¨çš„é¼“åŠ±æ˜¯æˆ‘å‰è¿›çš„åŠ¨åŠ›ã€‚&lt;/p&gt;
</description>
        <pubDate>Thu, 08 Aug 2019 00:00:00 +0800</pubDate>
        <link>http://localhost:4000/2019/08/iOS-%E4%BD%BF%E7%94%A8-SM2-SM4-%E5%8A%A0%E8%A7%A3%E5%AF%86-SM2-%E7%AD%BE%E5%90%8D%E9%AA%8C%E7%AD%BE%E5%8F%8A-SM3-%E6%91%98%E8%A6%81/</link>
        <guid isPermaLink="true">http://localhost:4000/2019/08/iOS-%E4%BD%BF%E7%94%A8-SM2-SM4-%E5%8A%A0%E8%A7%A3%E5%AF%86-SM2-%E7%AD%BE%E5%90%8D%E9%AA%8C%E7%AD%BE%E5%8F%8A-SM3-%E6%91%98%E8%A6%81/</guid>
        
        <category>iOS</category>
        
        
      </item>
    
      <item>
        <title>iOS å¦‚ä½•å‡†ç¡®æ˜¾ç¤ºè§’æ ‡</title>
        <description>&lt;h2 id=&quot;æœ¬åœ°è®¾ç½®è§’æ ‡&quot;&gt;æœ¬åœ°è®¾ç½®è§’æ ‡&lt;/h2&gt;

&lt;p&gt;iOS æ˜¾ç¤ºè§’æ ‡å¾ˆå®¹æ˜“ï¼Œåœ¨ App ä¸­ä»»æ„åœ°æ–¹è°ƒç”¨å¦‚ä¸‹æ–¹æ³•éƒ½å¯è®¾ç½®ï¼Œæ ¹æ®è‡ªå·±çš„éœ€è¦è®¾å®šå³å¯ã€‚&lt;/p&gt;

&lt;div class=&quot;language-objc highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;c1&quot;&gt;// æ˜¾ç¤ºè§’æ ‡ï¼Œä¼ å…¥å¾…æ˜¾ç¤ºè§’æ ‡çš„æ•°å­—&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;[[&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;UIApplication&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;sharedApplication&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;setApplicationIconBadgeNumber&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:(&lt;/span&gt;&lt;span class=&quot;kt&quot;&gt;int&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;value&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;];&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;// æ¸…é™¤è§’æ ‡ï¼Œä¼ å…¥ 0 å³å¯&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;[[&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;UIApplication&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;sharedApplication&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;setApplicationIconBadgeNumber&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;];&lt;/span&gt; 
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;h2 id=&quot;ä¸ç²¾ç¡®æ˜¾ç¤ºè§’æ ‡&quot;&gt;ä¸ç²¾ç¡®æ˜¾ç¤ºè§’æ ‡&lt;/h2&gt;

&lt;p&gt;æ™®é€š App å¯¹è§’æ ‡æ•°å­—è¦æ±‚æ²¡é‚£ä¹ˆé«˜ï¼ŒæœåŠ¡ç«¯æˆ–æ§åˆ¶å°æ¨é€æ—¶ï¼Œæ€»æ˜¯å°†æ¨é€ä¸ªæ•°è®¾ç½®ä¸º 1ï¼Œç”¨æˆ·ç‚¹å‡»è¿›å…¥ App æ—¶æ¸…é™¤è§’æ ‡ã€‚è¿™æ ·ç®€å•çš„åšæ³•ï¼Œèƒ½æ»¡è¶³å¤§éƒ¨åˆ† App çš„éœ€æ±‚ã€‚&lt;/p&gt;

&lt;div class=&quot;language-objc highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;c1&quot;&gt;// è¿›å…¥ App æ—¶æ¸…é™¤è§’æ ‡&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;BOOL&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;application&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;UIApplication&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;application&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;didFinishLaunchingWithOptions&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;NSDictionary&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;launchOptions&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;application&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;applicationIconBadgeNumber&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;// ä»åå°è¿›å…¥å‰å°æ—¶æ¸…é™¤è§’æ ‡&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;kt&quot;&gt;void&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;applicationWillEnterForeground&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;UIApplication&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;application&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;application&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;applicationIconBadgeNumber&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;è¿™æ ·åšçš„ç¼ºç‚¹ä¹Ÿå¾ˆæ˜æ˜¾ï¼Œæ”¶åˆ°å¤šæ¡æ¨é€è§’æ ‡æ•°é‡æ—¶è§’æ ‡æ°¸è¿œæ˜¾ç¤º 1ï¼Œç”¨æˆ·è¿›å…¥ App ä¸ç®¡æ˜¯å¦ç‚¹å‡»æ¨é€çš„æ¶ˆæ¯ï¼Œéƒ½æ¶ˆé™¤è§’æ ‡ã€‚å¦‚æœè¦æ±‚è¾ƒé«˜ï¼Œå¦‚ä½•åšåˆ°ç²¾ç¡®æ˜¾ç¤ºè§’æ ‡å‘¢ï¼Ÿ&lt;/p&gt;

&lt;h2 id=&quot;ç²¾ç¡®æ˜¾ç¤ºè§’æ ‡&quot;&gt;ç²¾ç¡®æ˜¾ç¤ºè§’æ ‡&lt;/h2&gt;

&lt;p&gt;é¦–å…ˆæˆ‘ä»¬è¦äº†è§£ä¸€ä¸‹ï¼Œæ‰‹æœºæ”¶åˆ°æ¨é€æ¶ˆæ¯æ˜¯å¦‚ä½•æ˜¾ç¤ºè§’æ ‡æ•°é‡çš„ã€‚å¦‚ä¸‹æ‰€ç¤ºAPNS æŒ‰ç…§æ­¤æ ¼å¼æ¨é€åˆ°æ‰‹æœºï¼Œå®¢æˆ·ç«¯æ˜¾ç¤ºçš„è§’æ ‡æ•°é‡ä¸ºæ¨é€çš„ badge æ•°å€¼ã€‚æ‰‹æœºæ”¶åˆ°æ¨é€æ¶ˆæ¯ï¼Œbadge çš„å€¼æ˜¯å¤šå°‘ï¼Œè§’æ ‡æ˜¾ç¤ºçš„ä¸ªæ•°å°±æ˜¯å¤šå°‘ï¼ˆæœ€å¤§ 99999ï¼‰ã€‚&lt;/p&gt;

&lt;div class=&quot;language-json highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
    &lt;/span&gt;&lt;span class=&quot;nl&quot;&gt;&quot;aps&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:{&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
        &lt;/span&gt;&lt;span class=&quot;nl&quot;&gt;&quot;alert&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;è¿™é‡Œæ˜¯æ¨é€æ˜¾ç¤ºçš„æ¶ˆæ¯ä¸²&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
        &lt;/span&gt;&lt;span class=&quot;nl&quot;&gt;&quot;badge&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;6&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
        &lt;/span&gt;&lt;span class=&quot;nl&quot;&gt;&quot;sound&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;default&quot;&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
    &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;},&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
    &lt;/span&gt;&lt;span class=&quot;nl&quot;&gt;&quot;custom&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;http://www.baidu.com&quot;&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;æ‰€ä»¥ï¼Œæˆ‘ä»¬æƒ³è¦ç²¾å‡†æ˜¾ç¤ºè§’æ ‡æ•°é‡ï¼Œå¿…é¡»åœ¨å®¢æˆ·ç«¯è¯»å–æ¶ˆæ¯åï¼Œå®¢æˆ·ç«¯ä¸ŠæŠ¥ç”¨æˆ·å·²è¯»æ¶ˆæ¯ï¼Œå°†æ¨é€æ¶ˆæ¯é˜…è¯»æƒ…å†µåŒæ­¥åˆ°æœåŠ¡å™¨ï¼Œå¦‚æå…‰æˆ–è€…ä¸ªæ¨ã€‚&lt;/p&gt;

&lt;div class=&quot;language-objc highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;c1&quot;&gt;// æå…‰å’Œä¸ªæ¨åŒæ­¥åˆ°æœåŠ¡å™¨çš„ API ç›¸åŒï¼Œè°ƒç”¨å¯åŒæ­¥åˆ°æœåŠ¡å™¨&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;BOOL&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;setBadge&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:(&lt;/span&gt;&lt;span class=&quot;kt&quot;&gt;int&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;value&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;  &lt;span class=&quot;c1&quot;&gt;// value å–å€¼èŒƒå›´ï¼š[0,99999]&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;kt&quot;&gt;void&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;resetBadge&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;          &lt;span class=&quot;c1&quot;&gt;// ç›¸å½“äº [setBadge:0]ï¼Œæ¸…ç©ºè§’æ ‡&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;å‡è®¾æœåŠ¡å™¨æ¨é€äº† 6 æ¡æ¶ˆæ¯ï¼Œå®¢æˆ·ç‚¹å‡»é˜…è¯»äº† 2 æ¡ï¼Œé‚£æˆ‘ä»¬åœ¨è®¾ç½® App è§’æ ‡çš„åŒæ—¶ï¼Œå°†æœªè¯»ä¸ªæ•°åŒæ­¥åˆ°æœåŠ¡å™¨&lt;/p&gt;

&lt;div class=&quot;language-objc highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;c1&quot;&gt;// è°ƒç”¨ç³»ç»Ÿæ–¹æ³•è®¾ç½® App æ˜¾ç¤ºçš„è§’æ ‡ä¸ªæ•° 4&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;[[&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;UIApplication&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;sharedApplication&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;setApplicationIconBadgeNumber&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;4&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;];&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;// ä¸ªæ¨ SDK åŒæ­¥åˆ°æœåŠ¡å™¨&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;GeTuiSdk&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;setBadge&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;4&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;];&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;// æå…‰ SDK åŒæ­¥åˆ°æœåŠ¡å™¨&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;JPush&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;setBadge&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;4&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;];&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;h2 id=&quot;å‚è€ƒæ–‡æ¡£&quot;&gt;å‚è€ƒæ–‡æ¡£&lt;/h2&gt;

&lt;p&gt;&lt;a href=&quot;https://community.jiguang.cn/t/topic/13924&quot;&gt;æå…‰æ–‡æ¡£ - è§’æ ‡æ§åˆ¶&lt;/a&gt;
&lt;a href=&quot;http://docs.getui.com/getui/mobile/ios/api/&quot;&gt;ä¸ªæ¨æ–‡æ¡£ - è§’æ ‡æ§åˆ¶&lt;/a&gt;&lt;/p&gt;
</description>
        <pubDate>Tue, 25 Jun 2019 00:00:00 +0800</pubDate>
        <link>http://localhost:4000/2019/06/iOS-%E5%A6%82%E4%BD%95%E5%87%86%E7%A1%AE%E6%98%BE%E7%A4%BA%E8%A7%92%E6%A0%87/</link>
        <guid isPermaLink="true">http://localhost:4000/2019/06/iOS-%E5%A6%82%E4%BD%95%E5%87%86%E7%A1%AE%E6%98%BE%E7%A4%BA%E8%A7%92%E6%A0%87/</guid>
        
        <category>iOS</category>
        
        
      </item>
    
      <item>
        <title>è‡ªå»ºå±€åŸŸç½‘ OTA æœåŠ¡å™¨</title>
        <description>&lt;ul&gt;
  &lt;li&gt;&lt;a href=&quot;#1_0&quot;&gt;ç¬¬ä¸€æ­¥ ç¼–è¾‘å‰çš„å‡†å¤‡&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;#2_0&quot;&gt;ç¬¬äºŒæ­¥ é…ç½®HttpæœåŠ¡&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;#3_0&quot;&gt;ç¬¬ä¸‰æ­¥ ç”Ÿæˆè‡ªç­¾åè¯ä¹¦&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;#4_0&quot;&gt;ç¬¬å››æ­¥ é…ç½®HTTPSæœåŠ¡&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;#5_0&quot;&gt;ç¬¬äº”æ­¥ æ”¾ç½®èµ„æºæ–‡ä»¶&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;#6_0&quot;&gt;å‚è€ƒé“¾æ¥&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;h2 id=&quot;ç¬¬ä¸€æ­¥-ç¼–è¾‘å‰çš„å‡†å¤‡&quot;&gt;&lt;a id=&quot;1_0&quot;&gt;&lt;/a&gt;ç¬¬ä¸€æ­¥ ç¼–è¾‘å‰çš„å‡†å¤‡&lt;/h2&gt;

&lt;h4 id=&quot;11-macè‡ªå¸¦-apache-æœåŠ¡å™¨&quot;&gt;1.1 Macè‡ªå¸¦ Apache æœåŠ¡å™¨&lt;/h4&gt;

&lt;p&gt;Mac è‡ªå¸¦ Apache æœåŠ¡å™¨ï¼Œæˆ‘ä»¬åœ¨ç»ˆç«¯è¾“å…¥&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt; sudo apachectl -k start &lt;/code&gt;æ‰“å¼€ç½‘é¡µè¾“å…¥&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt; localhost&lt;/code&gt;ï¼Œå‘ç°ç½‘é¡µä¼šæ˜¾ç¤ºå¦‚ä¸‹ï¼š&lt;/p&gt;

&lt;h5 id=&quot;it-works&quot;&gt;It works!&lt;/h5&gt;

&lt;p&gt;Apache æœåŠ¡å™¨å¯åŠ¨æˆåŠŸã€‚&lt;/p&gt;

&lt;h4 id=&quot;12-ä¿®æ”¹ç³»ç»Ÿæ–‡ä»¶å‰å…ˆå¤‡ä»½&quot;&gt;1.2 ä¿®æ”¹ç³»ç»Ÿæ–‡ä»¶å‰å…ˆå¤‡ä»½&lt;/h4&gt;

&lt;p&gt;ä¾‹å¦‚éœ€è¦ä¿®æ”¹&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt; /etc/apache2 &lt;/code&gt;æ–‡ä»¶å¤¹ä¸‹ http.conf æ–‡ä»¶&lt;/p&gt;

&lt;ol&gt;
  &lt;li&gt;åˆ‡æ¢å·¥ä½œç›®å½•ä¸‹ï¼š&lt;/li&gt;
&lt;/ol&gt;

&lt;p&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt; cd /etc/apache2 &lt;/code&gt;&lt;/p&gt;

&lt;ol&gt;
  &lt;li&gt;å¤‡ä»½æ–‡ä»¶ï¼Œåªéœ€è¦æ‰§è¡Œä¸€æ¬¡ï¼š&lt;/li&gt;
&lt;/ol&gt;

&lt;p&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt; sudo cp httpd.conf httpd.conf.bak &lt;/code&gt;&lt;/p&gt;

&lt;ol&gt;
  &lt;li&gt;å¦‚æœæ“ä½œå‡ºç°é”™è¯¯ï¼å¯ä»¥ä½¿ç”¨å‘½ä»¤ï¼Œæ¢å¤å¤‡ä»½çš„ httpd.conf æ–‡ä»¶ï¼š&lt;/li&gt;
&lt;/ol&gt;

&lt;p&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt; sudo cp httpd.conf.bak httpd.conf &lt;/code&gt;&lt;/p&gt;

&lt;h4 id=&quot;13-é€šè¿‡-xcode-æˆ–è€…-vim-ä¿®æ”¹ç³»ç»Ÿæ–‡ä»¶&quot;&gt;1.3 é€šè¿‡ Xcode æˆ–è€… vim ä¿®æ”¹ç³»ç»Ÿæ–‡ä»¶&lt;/h4&gt;

&lt;p&gt;é€šè¿‡ Xcode ä¿®æ”¹æ¯”è¾ƒç®€å•ï¼Œå°†æ–‡ä»¶è„±å‡ºåˆ°æ¡Œé¢ä¸€ä»½ï¼Œä¿®æ”¹åæ‹–å›åŸæ¥çš„æ–‡ä»¶å¤¹è¦†ç›–å³å¯ã€‚&lt;/p&gt;

&lt;p&gt;æ³¨æ„çš„æ˜¯ï¼Œåœ¨&lt;strong&gt;ç³»ç»Ÿç›®å½•ä¸‹æ˜¯ä¸å¯ä»¥ç›´æ¥ç”¨ Xcode ä¿®æ”¹&lt;/strong&gt;çš„ï¼Œå¯å°†æ–‡ä»¶å¤åˆ¶åˆ°æ¡Œé¢ä¸Šï¼Œç”¨ Xcode æ‰“å¼€ä¿®æ”¹ï¼Œç„¶åæ‹–å…¥ç³»ç»Ÿç›®å½•ä¸‹è¦†ç›–å³å¯ã€‚&lt;/p&gt;

&lt;p&gt;é€šè¿‡ vim ä¿®æ”¹æ–‡ä»¶ï¼Œå¯ç›´æ¥ä¿®æ”¹ç³»ç»Ÿæ–‡ä»¶ï¼Œä¿®æ”¹æ¯”è¾ƒæ–¹ä¾¿ã€‚ä»¥ä¸‹ä¿®æ”¹ç³»ç»Ÿé…ç½®æ–‡ä»¶ç”¨åˆ°vimï¼Œå¦‚æœä¸ä¹ æƒ¯ä½¿ç”¨vimä¿®æ”¹ï¼Œå¯ä½¿ç”¨ Xcode ç¼–è¾‘ä¿®æ”¹ã€‚&lt;/p&gt;

&lt;h4 id=&quot;14-vim-ç®€å•æ“ä½œ&quot;&gt;1.4 vim ç®€å•æ“ä½œ&lt;/h4&gt;

&lt;ol&gt;
  &lt;li&gt;ä¾‹å¦‚å½“å‰ç›®å½•ä¸‹æœ‰ä¸€ä¸ª httpd.conf æ–‡ä»¶ï¼Œéœ€è¦ä¿®æ”¹ç¬¬ 100 è¡Œä¸º abcdefã€‚&lt;/li&gt;
  &lt;li&gt;è¾“å…¥å‘½ä»¤&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt; sudo vim httpd.conf &lt;/code&gt;ã€‚&lt;/li&gt;
  &lt;li&gt;é¼ æ ‡æ»šåŠ¨æˆ–è€…æŒ‰ä¸Šä¸‹é”®å…‰æ ‡ç§»åŠ¨åˆ°ç¬¬ 100 è¡Œï¼ŒæŒ‰ i é”®è¿›å…¥ç¼–è¾‘æ¨¡å¼
å°†ç¬¬ 100 è¡Œå†…å®¹åˆ é™¤å¹¶æ›¿æ¢ä¸º abcdef ã€‚&lt;/li&gt;
  &lt;li&gt;æŒ‰&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt; esc &lt;/code&gt;é”®é€€å‡ºç¼–è¾‘ã€‚&lt;/li&gt;
  &lt;li&gt;è¾“å…¥&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt; :wq &lt;/code&gt;é€€å‡ºå¹¶ä¿å­˜ï¼›å¦‚æœç¼–è¾‘é”™è¯¯è¾“å…¥&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;:q! &lt;/code&gt;ä¸ä¿å­˜æ–‡ä»¶ï¼Œå¼ºåˆ¶é€€å‡ºviã€‚&lt;/li&gt;
&lt;/ol&gt;

&lt;h2 id=&quot;ç¬¬äºŒæ­¥-é…ç½®httpæœåŠ¡&quot;&gt;&lt;a id=&quot;2_0&quot;&gt;&lt;/a&gt;ç¬¬äºŒæ­¥ é…ç½®HttpæœåŠ¡&lt;/h2&gt;

&lt;h4 id=&quot;21-åˆ›å»º-web-æ–‡ä»¶å¤¹&quot;&gt;2.1 åˆ›å»º web æ–‡ä»¶å¤¹&lt;/h4&gt;

&lt;p&gt;æˆ‘ä»¬åœ¨å½“å‰ç”¨æˆ·æ ¹ç›®å½•ä¸‹æ–°å»ºä¸€ä¸ªwebæ–‡ä»¶å¤¹ï¼Œç„¶åæ”¾å…¥ä¸€äº›æ–‡ä»¶ï¼Œå¦‚å›¾æ‰€ç¤ºï¼š&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/images/posts/ota/ota2.1.png&quot; alt=&quot;web æ–‡ä»¶å¤¹&quot; /&gt;&lt;/p&gt;

&lt;h4 id=&quot;22-ç¼–è¾‘-httpconf-æ–‡ä»¶&quot;&gt;2.2 ç¼–è¾‘ http.conf æ–‡ä»¶&lt;/h4&gt;

&lt;ol&gt;
  &lt;li&gt;åˆ‡æ¢å·¥ä½œç›®å½•ä¸‹ï¼š&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt; cd /etc/apache2 &lt;/code&gt;&lt;/li&gt;
  &lt;li&gt;å¤‡ä»½æ–‡ä»¶ï¼š&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt; sudo cp httpd.conf httpd.conf.bak &lt;/code&gt;&lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;ç”¨vimç¼–è¾‘httpd.confæ–‡ä»¶ï¼š&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt; sudo vim httpd.conf &lt;/code&gt;&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;å°†ä¸‹é¢è·¯å¾„æ›´æ”¹ä¸ºä½ è‡ªå·±webç½‘é¡µè·¯å¾„ï¼ˆçº¦245è¡Œï¼‰&lt;/li&gt;
&lt;/ol&gt;

&lt;div class=&quot;language-shell highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;DocumentRoot &lt;span class=&quot;s2&quot;&gt;&quot;/Library/WebServer/Documents&quot;&lt;/span&gt;
&amp;lt;Directory &lt;span class=&quot;s2&quot;&gt;&quot;/Library/WebServer/Documentsâ€&amp;gt;

ä¿®æ”¹ä¸ºæˆ‘å½“å‰ç”¨æˆ·ç›®å½•ä¸‹å»ºç«‹çš„ä¸€ä¸ª web æ–‡ä»¶å¤¹

DocumentRoot &quot;&lt;/span&gt;/Users/lf/web&lt;span class=&quot;s2&quot;&gt;&quot;
&amp;lt;Directory &quot;&lt;/span&gt;/Users/lf/webâ€&amp;gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;ol&gt;
  &lt;li&gt;ä¸ºäº†ä¾¿äºæµè§ˆ web æ–‡ä»¶å¤¹ï¼Œæ·»åŠ  Indexes å­—æ®µ&lt;/li&gt;
&lt;/ol&gt;

&lt;div class=&quot;language-shell highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;Options FollowSymLinks Multiviews

ä¿®æ”¹ä¸º

Options Indexes FollowSymLinks Multiviews
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;&lt;img src=&quot;/images/posts/ota/ota2.2.5.png&quot; alt=&quot;ä¿®æ”¹httpd&quot; /&gt;&lt;/p&gt;

&lt;ol&gt;
  &lt;li&gt;å°†ä¸‹é¢çš„#å·æ³¨é‡Šå»æ‰ï¼Œå¼€å¯PHPï¼ˆçº¦177è¡Œï¼‰&lt;/li&gt;
&lt;/ol&gt;

&lt;div class=&quot;language-shell highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;c&quot;&gt;#LoadModule php7_module libexec/apache2/libphp7.so&lt;/span&gt;

ä¿®æ”¹ä¸º

LoadModule php7_module libexec/apache2/libphp7.so

è¾ƒæ—§çš„ç³»ç»Ÿä¸ºï¼ˆ#LoadModule php5_module libexec/apache2/libphp5.soï¼‰
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;&lt;img src=&quot;/images/posts/ota/ota2.2.6.png&quot; alt=&quot;å¼€å¯PHP&quot; /&gt;&lt;/p&gt;

&lt;ol&gt;
  &lt;li&gt;
    &lt;p&gt;ç„¶åæŒ‰ ESC é”®é€€å‡ºç¼–è¾‘ï¼Œè¾“å…¥&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt; :wq &lt;/code&gt;ä¿å­˜é€€å‡ºã€‚&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;ç»ˆç«¯ä¸­è¾“å…¥&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt; sudo apachectl -k restart &lt;/code&gt;é‡å¯ Apache æœåŠ¡å™¨ã€‚&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;å¼€å¯ apache æœåŠ¡å™¨.æ‰“å¼€æµè§ˆå™¨,æœç´¢æ¡†ä¸­è¾“å…¥&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt; 127.0.0.1 &lt;/code&gt;æˆ–è€…&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt; localhost &lt;/code&gt;å°±å¯ä»¥çœ‹åˆ°æˆ‘ä»¬ä¹‹å‰æ·»åŠ çš„ç½‘ç»œèµ„æºã€‚&lt;/p&gt;
  &lt;/li&gt;
&lt;/ol&gt;

&lt;p&gt;&lt;img src=&quot;/images/posts/ota/ota2.2.9.png&quot; alt=&quot;å¼€å¯HTTPæœåŠ¡æˆåŠŸ&quot; /&gt;&lt;/p&gt;

&lt;h4 id=&quot;23-apache-å¸¸ç”¨æ“ä½œå‘½ä»¤&quot;&gt;2.3 Apache å¸¸ç”¨æ“ä½œå‘½ä»¤&lt;/h4&gt;

&lt;div class=&quot;language-shell highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;c&quot;&gt;# å¯åŠ¨ apache æœåŠ¡å™¨&lt;/span&gt;
&lt;span class=&quot;nb&quot;&gt;sudo &lt;/span&gt;apachectl &lt;span class=&quot;nt&quot;&gt;-k&lt;/span&gt; start

&lt;span class=&quot;c&quot;&gt;# é‡æ–°å¯åŠ¨ apache æœåŠ¡å™¨&lt;/span&gt;
&lt;span class=&quot;nb&quot;&gt;sudo &lt;/span&gt;apachectl &lt;span class=&quot;nt&quot;&gt;-k&lt;/span&gt; restart

&lt;span class=&quot;c&quot;&gt;# å…³é—­ apache æœåŠ¡å™¨&lt;/span&gt;
&lt;span class=&quot;nb&quot;&gt;sudo &lt;/span&gt;apachectl &lt;span class=&quot;nt&quot;&gt;-k&lt;/span&gt; stop
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;h4 id=&quot;24-é‡å¯æ—¶æŠ¥é”™&quot;&gt;2.4 é‡å¯æ—¶æŠ¥é”™&lt;/h4&gt;

&lt;p&gt;é‡å¯çš„æ—¶å€™å‘ç°æŠ¥é”™ï¼Œä½†ä¸å½±å“ä½¿ç”¨&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/images/posts/ota/ota2.4.png&quot; alt=&quot;ServerNameé”™è¯¯&quot; /&gt;&lt;/p&gt;

&lt;div class=&quot;language-text highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;AH00558: httpd: Could not reliably determine the server's fully

qualified domain name, using LFdeMacBook-Pro.local. Set the

'ServerName' directive globally to suppress this message
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;å¦‚æœæƒ³è§£å†³æ­¤æŠ¥é”™ï¼Œå¯å†æ¬¡ç¼–è¾‘ httpd.conf æ–‡ä»¶&lt;/p&gt;

&lt;p&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt; sudo vim httpd.conf &lt;/code&gt;&lt;/p&gt;

&lt;p&gt;å°†ä¸‹é¢çš„#å·æ³¨é‡Šå»æ‰ï¼Œå¹¶ä¿®æ”¹ï¼ˆçº¦221è¡Œï¼‰&lt;/p&gt;

&lt;div class=&quot;language-shell highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;c&quot;&gt;#ServerName www.example.com:80&lt;/span&gt;

ä¿®æ”¹ä¸º

ServerName localhost:80
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;ç„¶åç»ˆç«¯è¾“å…¥ä¸‹é¢æŒ‡ä»¤é‡å¯å³å¯ã€‚&lt;/p&gt;

&lt;div class=&quot;language-shell highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;nb&quot;&gt;sudo &lt;/span&gt;apachectl &lt;span class=&quot;nt&quot;&gt;-k&lt;/span&gt; restart
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;h2 id=&quot;ç¬¬ä¸‰æ­¥-ç”Ÿæˆè‡ªç­¾åè¯ä¹¦&quot;&gt;&lt;a id=&quot;3_0&quot;&gt;&lt;/a&gt;ç¬¬ä¸‰æ­¥ ç”Ÿæˆè‡ªç­¾åè¯ä¹¦&lt;/h2&gt;

&lt;blockquote&gt;
  &lt;p&gt;iOS7.1 ä»¥åï¼Œ Apple ä¸å†æ”¯æŒ HTTP æ–¹å¼çš„ OTA ï¼Œæ‰€ä»¥éœ€è¦ä¸º Apache å¼€å¯ HTTPS æœåŠ¡ï¼Œå¹¶åˆ©ç”¨ OpenSSL åˆ¶ä½œè‡ªç­¾åè¯ä¹¦ã€‚&lt;/p&gt;
&lt;/blockquote&gt;

&lt;h4 id=&quot;31-ç”ŸæˆæœåŠ¡å™¨ç§é’¥-serverkey&quot;&gt;3.1 ç”ŸæˆæœåŠ¡å™¨ç§é’¥ server.key&lt;/h4&gt;

&lt;div class=&quot;language-shell highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;nb&quot;&gt;sudo mkdir&lt;/span&gt; /private/etc/apache2/ssl 

&lt;span class=&quot;nb&quot;&gt;cd&lt;/span&gt; /private/etc/apache2/ssl

&lt;span class=&quot;nb&quot;&gt;sudo &lt;/span&gt;openssl genrsa &lt;span class=&quot;nt&quot;&gt;-out&lt;/span&gt; server.key 1024
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;ç”Ÿæˆå¦‚ä¸‹æ‰€ç¤ºæ–‡ä»¶&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/images/posts/ota/ota3.1.png&quot; alt=&quot;æœåŠ¡å™¨ç§é’¥&quot; /&gt;&lt;/p&gt;

&lt;h4 id=&quot;32-ç”Ÿæˆç­¾ç½²ç”³è¯·&quot;&gt;3.2 ç”Ÿæˆç­¾ç½²ç”³è¯·&lt;/h4&gt;

&lt;div class=&quot;language-shell highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;nb&quot;&gt;sudo &lt;/span&gt;openssl req &lt;span class=&quot;nt&quot;&gt;-new&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-key&lt;/span&gt; server.key &lt;span class=&quot;nt&quot;&gt;-out&lt;/span&gt; server.csr
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;æ³¨æ„ï¼šéœ€è¦å®Œæ•´å¡«å†™å„é¡¹ä¿¡æ¯ï¼Œæ³¨æ„&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt; Common Name &lt;/code&gt;å¿…é¡»æ˜¯æœåŠ¡å™¨ ip æˆ–åŸŸåï¼Œå…¶ä»–ä¿¡æ¯å¯ä»¥éšæ„å¡«å†™ã€‚ä¾‹å¦‚æˆ‘éœ€è¦æŠŠ ipa å®‰è£…åŒ…æ”¾åœ¨ 192.168.1.188 çš„å†…ç½‘æœåŠ¡å™¨ä¸Šï¼Œåˆ™&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt; Common Name &lt;/code&gt;å°±å¡«å†™ 192.168.1.188 ã€‚å¦‚æœè¿™ä¸€æ­¥æ¼å¡«ä¿¡æ¯ï¼Œå¯èƒ½ä¼šå¯¼è‡´æœ€åç”Ÿæˆçš„ ca æ–‡ä»¶æ˜¯ç©ºçš„ã€‚&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/images/posts/ota/ota3.2.png&quot; alt=&quot;ç”Ÿæˆserver.csr&quot; /&gt;&lt;/p&gt;

&lt;h4 id=&quot;33-ç”Ÿæˆ-ca-ç§é’¥cacrt&quot;&gt;3.3 ç”Ÿæˆ CA ç§é’¥ca.crt&lt;/h4&gt;

&lt;div class=&quot;language-shell highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;nb&quot;&gt;sudo &lt;/span&gt;openssl req  &lt;span class=&quot;nt&quot;&gt;-new&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-x509&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-days&lt;/span&gt; 365 &lt;span class=&quot;nt&quot;&gt;-key&lt;/span&gt; server.key &lt;span class=&quot;nt&quot;&gt;-out&lt;/span&gt; ca.crt
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;å¡«å†™ä¿¡æ¯å’Œä¸Šé¢çš„å¡«å†™çš„ä¸€æ ·å³å¯ï¼Œæ³¨æ„&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt; Common Name &lt;/code&gt;å¿…é¡»å¡«å†™ï¼Œè¿™é‡Œè¿˜æ˜¯å¡«å†™192.168.1.188å³å¯ã€‚&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/images/posts/ota/ota3.3.png&quot; alt=&quot;ç”Ÿæˆca.crt&quot; /&gt;&lt;/p&gt;

&lt;h4 id=&quot;34-åˆ›å»ºæ–‡ä»¶å’Œæ–‡ä»¶å¤¹&quot;&gt;3.4 åˆ›å»ºæ–‡ä»¶å’Œæ–‡ä»¶å¤¹&lt;/h4&gt;

&lt;p&gt;åœ¨ ssl ç›®å½•ä¸‹åˆ›å»º demoCA æ–‡ä»¶å¤¹ï¼Œç„¶åè¿›å…¥ demoCA ï¼Œåˆ›å»ºä¸€ä¸ª index.txt å’Œ serialæ–‡ä»¶ï¼Œindex.txt ä¸ºç©ºï¼Œ serial å†…å®¹ä¸º01ï¼Œç„¶ååœ¨ demoCA ä¸­å†åˆ›å»ºä¸€ä¸ªç©ºæ–‡ä»¶å¤¹ newcerts&lt;/p&gt;

&lt;div class=&quot;language-shell highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;nb&quot;&gt;sudo mkdir &lt;/span&gt;demoCA &lt;span class=&quot;o&quot;&gt;&amp;amp;&amp;amp;&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;cd &lt;/span&gt;demoCA

&lt;span class=&quot;nb&quot;&gt;sudo mkdir &lt;/span&gt;newcerts

&lt;span class=&quot;nb&quot;&gt;sudo touch &lt;/span&gt;index.txt

&lt;span class=&quot;nb&quot;&gt;sudo touch &lt;/span&gt;serial
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;ä½¿ç”¨ Xcode æˆ–è€… vim ç¼–è¾‘ serial æ–‡ä»¶ï¼Œç¬¬ä¸€è¡Œå†™å…¥ 01 ä¿å­˜å³å¯ã€‚&lt;/p&gt;

&lt;h4 id=&quot;35-ç­¾åç”Ÿæˆservercrt&quot;&gt;3.5 ç­¾åç”Ÿæˆserver.crt&lt;/h4&gt;

&lt;p&gt;æ‰§è¡Œå‘½ä»¤ï¼Œè¿”å›åˆ°sslæ–‡ä»¶å¤¹ä¸‹é¢&lt;/p&gt;

&lt;div class=&quot;language-shell highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;nb&quot;&gt;cd&lt;/span&gt; /private/etc/apache2/ssl
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;ç„¶åæ‰§è¡Œå‘½ä»¤ï¼Œç”¨caè¿›è¡Œç­¾åç”Ÿæˆserver.crt&lt;/p&gt;

&lt;div class=&quot;language-shell highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;nb&quot;&gt;sudo &lt;/span&gt;openssl ca &lt;span class=&quot;nt&quot;&gt;-in&lt;/span&gt; server.csr &lt;span class=&quot;nt&quot;&gt;-out&lt;/span&gt; server.crt &lt;span class=&quot;nt&quot;&gt;-cert&lt;/span&gt; ca.crt &lt;span class=&quot;nt&quot;&gt;-keyfile&lt;/span&gt; server.key
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;è¿™ä¸€æ­¥å¯èƒ½ä¼šæŠ¥å¦‚ä¸‹é”™è¯¯&lt;/p&gt;

&lt;div class=&quot;language-text highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;Using configuration from /private/etc/ssl/openssl.cnf

variable lookup failed for ca::default_ca140736040362952:

error:0E06D06C:configuration file routines:NCONF_get_string:

no value:/BuildRoot/Library/Caches/com.apple.xbs/Sources/libressl/

libressl-22.50.2/libressl/crypto/conf/conf_lib.c:323:group=ca name=default_ca
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;è¿™æ˜¯ç”±äº&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt; /private/etc/ssl/ &lt;/code&gt;æ–‡ä»¶å¤¹ä¸‹ç¼ºå°‘ openssl.cnf çš„é—®é¢˜ï¼Œè§£å†³åŠæ³•æ˜¯æ‹·è´ä¸€ä»½ï¼Œè¾“å…¥å‘½ä»¤&lt;/p&gt;

&lt;div class=&quot;language-shell highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;nb&quot;&gt;cp&lt;/span&gt; /usr/local/etc/openssl/openssl.cnf /private/etc/ssl/openssl.cnf
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;ä½¿ç”¨Xcodeæˆ–è€…vimä¿®æ”¹&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt; /private/etc/ssl/openssl.cnf &lt;/code&gt;æ–‡ä»¶ï¼Œè¿™é‡Œä½¿ç”¨vimç›´æ¥ä¿®æ”¹&lt;/p&gt;

&lt;div class=&quot;language-shell highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;nb&quot;&gt;sudo &lt;/span&gt;vim /private/etc/ssl/openssl.cnf
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-shell highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;nb&quot;&gt;dir&lt;/span&gt;        &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; ./demoCA        &lt;span class=&quot;c&quot;&gt;# Where everything is kept&lt;/span&gt;
ä¿®æ”¹ä¸ºå½“å‰ä½ çš„demoCAè·¯å¾„
&lt;span class=&quot;nb&quot;&gt;dir&lt;/span&gt;        &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;  /private/etc/apache2/ssl/demoCA
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;ä¿®æ”¹å®Œæˆåå†æ‰§è¡Œå‘½ä»¤&lt;/p&gt;

&lt;div class=&quot;language-shell highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;nb&quot;&gt;sudo &lt;/span&gt;openssl ca &lt;span class=&quot;nt&quot;&gt;-in&lt;/span&gt; server.csr &lt;span class=&quot;nt&quot;&gt;-out&lt;/span&gt; server.crt &lt;span class=&quot;nt&quot;&gt;-cert&lt;/span&gt; ca.crt &lt;span class=&quot;nt&quot;&gt;-keyfile&lt;/span&gt; server.key
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;ä¼šæç¤ºæœ‰æ•ˆæœŸå’Œç”Ÿæˆè¯ä¹¦ï¼Œéƒ½è¾“å…¥yå³å¯ã€‚&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/images/posts/ota/ota3.5.1.png&quot; alt=&quot;ç”Ÿæˆè¯ä¹¦æˆåŠŸæç¤º&quot; /&gt;&lt;/p&gt;

&lt;div class=&quot;language-text highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;Certificate is to be certified until Nov 10 06:39:36 2019 GMT (365 days)
Sign the certificate? [y/n]:y
ï¼ˆç¿»è¯‘ï¼‰è¯ä¹¦æœ‰æ•ˆæœŸè‡³11æœˆ10æ—¥06:39:36 2019 GMT(365å¤©)
1 out of 1 certificate requests certified, commit? [y/n]y
ç­¾ç½²çš„è¯ä¹¦å—?
ï¼ˆç¿»è¯‘ï¼‰1 / 1çš„è¯ä¹¦è¯·æ±‚è¢«è®¤è¯ï¼Œæäº¤?
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;æ­¤æ—¶æˆ‘ä»¬çœ‹åˆ° HTTPS è¯ä¹¦å·²ç»ç”Ÿæˆå®Œæˆã€‚&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/images/posts/ota/ota3.5.2.png&quot; alt=&quot;è¯ä¹¦åˆ—è¡¨&quot; /&gt;&lt;/p&gt;

&lt;h2 id=&quot;ç¬¬å››æ­¥-é…ç½®httpsæœåŠ¡&quot;&gt;&lt;a id=&quot;4_0&quot;&gt;&lt;/a&gt;ç¬¬å››æ­¥ é…ç½®HTTPSæœåŠ¡&lt;/h2&gt;

&lt;h4 id=&quot;41-ç¼–è¾‘-httpdconf-æ–‡ä»¶&quot;&gt;4.1 ç¼–è¾‘ httpd.conf æ–‡ä»¶&lt;/h4&gt;

&lt;div class=&quot;language-shell highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;nb&quot;&gt;sudo &lt;/span&gt;vim /private/etc/apache2/httpd.conf
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;æŠŠä»¥ä¸‹å››è¡Œä»£ç å‰å¤´çš„æ³¨é‡Šå»æ‰&lt;/p&gt;

&lt;div class=&quot;language-text highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;LoadModule ssl_module libexec/apache2/mod_ssl.so

LoadModule socache_shmcb_module

libexec/apache2/mod_socache_shmcb.so

Include /private/etc/apache2/extra/httpd-ssl.conf

Include /private/etc/apache2/extra/httpd-vhosts.conf
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;æ³¨æ„ï¼šå¦‚æœä½ çš„ httpd.conf ä¸­ç¼ºå°‘äº†æŸè¡Œï¼Œä½ å¯ä»¥è‡ªè¡Œæ·»åŠ è¿›å»å³å¯ã€‚&lt;/p&gt;

&lt;h4 id=&quot;42-ç¼–è¾‘-httpd-sslconf-æ–‡ä»¶&quot;&gt;4.2 ç¼–è¾‘ httpd-ssl.conf æ–‡ä»¶&lt;/h4&gt;

&lt;p&gt;ç¼–è¾‘å‰å…ˆå¤‡ä»½ httpd-ssl.conf æ–‡ä»¶&lt;/p&gt;

&lt;div class=&quot;language-shell highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;nb&quot;&gt;cd&lt;/span&gt; /private/etc/apache2/extra/ &lt;span class=&quot;o&quot;&gt;&amp;amp;&amp;amp;&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;sudo cp &lt;/span&gt;httpd-ssl.conf httpd-ssl.conf.bak

&lt;span class=&quot;nb&quot;&gt;sudo &lt;/span&gt;vim /private/etc/apache2/extra/httpd-ssl.conf
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;æŠŠä»¥ä¸‹ä¸¤è¡Œä»£ç çš„æ³¨é‡Šå»æ‰ï¼Œå¹¶ç¼–è¾‘ä¸ºä½ çš„è¯ä¹¦è·¯å¾„&lt;/p&gt;

&lt;div class=&quot;language-text highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;SSLCertificateFile &quot;/private/etc/apache2/server.crt&quot;
SSLCertificateKeyFile &quot;/private/etc/apache2/server.key&quot;

ç„¶åä¿®æ”¹è·¯å¾„ï¼Œæ”¹æˆä½ çš„è¯ä¹¦æ–‡ä»¶è·¯å¾„

SSLCertificateFile &quot;/private/etc/apache2/ssl/server.crt&quot;
SSLCertificateKeyFile &quot;/private/etc/apache2/ssl/server.key&quot;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;h4 id=&quot;43-ç¼–è¾‘-httpd-vhostsconf-æ–‡ä»¶&quot;&gt;4.3 ç¼–è¾‘ httpd-vhosts.conf æ–‡ä»¶&lt;/h4&gt;

&lt;p&gt;ç¼–è¾‘å‰å…ˆå¤‡ä»½ httpd-vhosts.conf æ–‡ä»¶&lt;/p&gt;

&lt;div class=&quot;language-shell highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;nb&quot;&gt;cd&lt;/span&gt; /private/etc/apache2/extra/ &lt;span class=&quot;o&quot;&gt;&amp;amp;&amp;amp;&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;sudo cp &lt;/span&gt;httpd-vhosts.conf httpd-vhosts.conf.bak

&lt;span class=&quot;nb&quot;&gt;sudo &lt;/span&gt;vim /private/etc/apache2/extra/httpd-vhosts.conf
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;å°† &amp;lt;VirtualHost *:80&amp;gt; ä¸­çš„ç¬¬äºŒä¸ªä¿®æ”¹&lt;/p&gt;

&lt;div class=&quot;language-text highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&amp;lt;VirtualHost *:80&amp;gt;
ServerAdmin 192.168.1.188
DocumentRoot &quot;/Users/lf/web&quot;
ServerName 192.168.1.188
ErrorLog &quot;/private/var/log/apache2/dummy-host2.example.com-error_log&quot;
CustomLog &quot;/private/var/log/apache2/dummy-host2.example.com-access_log&quot; common
&amp;lt;/VirtualHost&amp;gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;ç„¶ååœ¨æ–‡ä»¶æœ«å°¾æ·»åŠ  443 ç«¯å£æœåŠ¡&lt;/p&gt;

&lt;div class=&quot;language-text highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&amp;lt;VirtualHost *:443&amp;gt; 
SSLEngine on 
SSLCipherSuite ALL:!ADH:!EXPORT56:RC4+RSA:+HIGH:+MEDIUM:+LOW:+SSLv2:+EXP:+eNULL
SSLCertificateFile /private/etc/apache2/ssl/server.crt
SSLCertificateKeyFile /private/etc/apache2/ssl/server.key
ServerName 192.168.1.188
DocumentRoot &quot;/Users/lf/web&quot;
&amp;lt;/VirtualHost&amp;gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;æ³¨æ„ï¼š&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;SSLCertificateFile å¡«å†™ç”Ÿæˆçš„ server.crt&lt;/li&gt;
  &lt;li&gt;SSLCertificateKeyFile å¡«å†™ç”Ÿæˆçš„ server.key&lt;/li&gt;
  &lt;li&gt;ServerName å¡«å†™ä½ çš„ ip&lt;/li&gt;
  &lt;li&gt;DocumentRoot å¡«å†™ä½ çš„ç«™ç‚¹è·¯å¾„&lt;/li&gt;
&lt;/ul&gt;

&lt;h4 id=&quot;44-æ£€æŸ¥-apache-é…ç½®&quot;&gt;4.4 æ£€æŸ¥ Apache é…ç½®&lt;/h4&gt;

&lt;div class=&quot;language-shell highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;nb&quot;&gt;sudo &lt;/span&gt;apachectl configtest
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;å¦‚æœå®ƒæç¤ºï¼š&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt; Syntax OK &lt;/code&gt;ï¼Œé‚£å°±å®Œæˆ90%äº†ï¼Œå¦‚æœå®ƒæç¤ºæœ‰é”™ï¼Œé‚£å°±è¦æ ¹æ®é”™è¯¯æç¤ºè‡ªè¡Œè§£å†³äº†ã€‚&lt;/p&gt;

&lt;p&gt;æˆ‘åœ¨è¿™ä¸ªç¯èŠ‚é‡åˆ°äº†ä¸€ä¸ªé”™è¯¯&lt;/p&gt;

&lt;div class=&quot;language-text highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;SSLSessionCache: 'shmcb' session cachenot supported 
(known names: ). Maybe you need toload the appropriate
socache module (mod_socache_shmcb?).
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;è§£å†³åŠæ³•å¦‚ä¸‹ï¼š&lt;/p&gt;

&lt;div class=&quot;language-shell highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;nb&quot;&gt;sudo &lt;/span&gt;vim /private/etc/apache2/httpd.conf
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;ç„¶åæŠŠä»¥ä¸‹ä»£ç çš„æ³¨é‡Šå»æ‰&lt;/p&gt;

&lt;div class=&quot;language-text highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;LoadModule socache_shmcb_module libexec/apache2/mod_socache_shmcb.so
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;å»æ‰æ³¨é‡Šåï¼Œä¿å­˜ï¼Œé‡æ–°æ£€æŸ¥é…ç½®ï¼Œç›´åˆ°æˆåŠŸã€‚&lt;/p&gt;

&lt;p&gt;æ³¨æ„ï¼š
ä»ç½‘ä¸ŠæŸ¥æ‰¾çš„è·¯å¾„å¯èƒ½æ˜¯&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt; LoadModule socache_shmcb_module modules/mod_socache_shmcb.so &lt;/code&gt;ï¼Œ
ä½†æˆ‘çš„é…ç½®æ–‡ä»¶ä¸­ï¼Œè·¯å¾„è·Ÿä¸Šè¿°çš„ä¸ä¸€è‡´ï¼Œä½†ç»“å°¾éƒ½æ˜¯&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt; mod_socache_shmcb.so &lt;/code&gt;å°±å¯¹äº†ã€‚&lt;/p&gt;

&lt;p&gt;è§£å†³æ–¹æ¡ˆæ˜¯å‚è€ƒè¿™ç¯‡æ–‡ç« çš„&lt;a href=&quot;http://stackoverflow.com/questions/20127138/apache-2-4-configuration-for-ssl-not-working&quot;&gt;stackoverflowé—®ç­”&lt;/a&gt;ã€‚&lt;/p&gt;

&lt;p&gt;é‡å¯ Apache æœåŠ¡&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt; sudo apachectl -k restart &lt;/code&gt;ï¼Œ
è¿™æ ·å°±å¯ä»¥ç”¨ https è®¿é—®æœ¬åœ°æœåŠ¡å™¨äº†ã€‚&lt;/p&gt;

&lt;h2 id=&quot;ç¬¬äº”æ­¥-æ”¾ç½®èµ„æºæ–‡ä»¶&quot;&gt;&lt;a id=&quot;5_0&quot;&gt;&lt;/a&gt;ç¬¬äº”æ­¥ æ”¾ç½®èµ„æºæ–‡ä»¶&lt;/h2&gt;

&lt;h4 id=&quot;51-ç½‘ç«™èµ„æºæ–‡ä»¶&quot;&gt;5.1 ç½‘ç«™èµ„æºæ–‡ä»¶&lt;/h4&gt;

&lt;p&gt;å¦‚ä¸‹å›¾æ‰€ç¤ºï¼Œåœ¨&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt; /Users/lf/web &lt;/code&gt;æ–‡ä»¶å¤¹ä¸‹æ”¾ç½®çš„èµ„æºå¦‚ä¸‹ï¼š&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/images/posts/ota/ota5.1.png&quot; alt=&quot;èµ„æºæ–‡ä»¶å¤¹&quot; /&gt;&lt;/p&gt;

&lt;p&gt;æ–‡ä»¶å¤¹åç§°å¯ä»»æ„å–ï¼Œåªè¦åœ¨ index.html å’Œ plist æ–‡ä»¶å¤¹ä¸­è·¯å¾„å¯¹åº”å³å¯ã€‚index.html ä¸è¦æ”¹åå­—ï¼Œé»˜è®¤ã€‚&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;ca.crt  CAè¯ä¹¦ï¼Œå°†&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt; /private/etc/apache2/ssl/ca.crt &lt;/code&gt;æ‹·è´ä¸€ä»½åˆ°å½“å‰ web æ–‡ä»¶å¤¹ä¸‹&lt;/li&gt;
  &lt;li&gt;ipa æ–‡ä»¶å¤¹ï¼Œæ”¾ç½® ipa èµ„æºåŒ…&lt;/li&gt;
  &lt;li&gt;plist æ–‡ä»¶å¤¹ï¼Œæ”¾ç½® plist æ–‡ä»¶&lt;/li&gt;
  &lt;li&gt;index.html ç´¢å¼•ç½‘é¡µï¼Œæ”¾ç½®é“¾æ¥ä¸‹è½½å®‰è£…è¯ä¹¦å’Œipa&lt;/li&gt;
  &lt;li&gt;images æ–‡ä»¶å¤¹ï¼ŒæŒ‰ç…§ Xcode è¦æ±‚æ”¾ç½®ä¸€ä¸ª 57Ã—57 å’Œ 512Ã—512 çš„ png å›¾ç‰‡ï¼Œè¿˜æ²¡å‘ç°ä»€ä¹ˆç”¨é€”ã€‚&lt;/li&gt;
&lt;/ul&gt;

&lt;h4 id=&quot;52-æ”¾ç½®-ipa-åŒ…&quot;&gt;5.2 æ”¾ç½® ipa åŒ…&lt;/h4&gt;
&lt;p&gt;APP æ‰“åŒ…ï¼Œå¯¼å‡º ipa åŒ…å°±æ²¡å¿…è¦å¤šè¯´äº†ï¼Œå¯ä»¥å¯¼å‡º Ad Hoc æˆ–è€… Development çš„ ipa åŒ…ï¼Œå°† ipa æ”¾åœ¨æ”¾åœ¨ web æ–‡ä»¶å¤¹ä¸‹ ipa æ–‡ä»¶å¤¹ä¸­ã€‚&lt;/p&gt;

&lt;h4 id=&quot;53-æ”¾ç½®plistæ–‡ä»¶&quot;&gt;5.3 æ”¾ç½®plistæ–‡ä»¶&lt;/h4&gt;

&lt;p&gt;æƒ³åœ¨çº¿å®‰è£…ï¼Œè¿˜éœ€è¦ä¸€ä¸ª plist æ–‡ä»¶ï¼Œæ¯ä¸ª ipa åŒ…å¯¹åº”ä¸€ä¸ª plist æ–‡ä»¶ï¼Œå°†&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt; https://192.168.1.188/ipa/LFDev_4.2.1.ipa &lt;/code&gt;æ›´æ”¹ä¸ºç”Ÿæˆè¯ä¹¦æ—¶çš„ ip æˆ–è€…åŸŸåï¼Œç„¶åå¯¹åº” ipa æ–‡ä»¶è·¯å¾„å³å¯ï¼Œä¾‹å¦‚è¿™é‡Œçš„è·¯ç»æ˜¯ï¼Œåœ¨å½“å‰ web æ–‡ä»¶å¤¹ä¸‹çš„ ipa æ–‡ä»¶å¤¹ä¸­ï¼Œåç§°ä¸º LFDev_4.2.1.ipa çš„ ipa æ–‡ä»¶ã€‚&lt;/p&gt;

&lt;p&gt;plist æ–‡ä»¶æ ¼å¼å¦‚ä¸‹ï¼š&lt;/p&gt;

&lt;div class=&quot;language-xml highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;cp&quot;&gt;&amp;lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&amp;gt;&lt;/span&gt;
&lt;span class=&quot;cp&quot;&gt;&amp;lt;!DOCTYPE plist PUBLIC &quot;-//Apple//DTD PLIST 1.0//EN&quot; &quot;http://www.apple.com/DTDs/PropertyList-1.0.dtd&quot;&amp;gt;&lt;/span&gt;
&lt;span class=&quot;nt&quot;&gt;&amp;lt;plist&lt;/span&gt; &lt;span class=&quot;na&quot;&gt;version=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;1.0&quot;&lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;&amp;gt;&lt;/span&gt;
&lt;span class=&quot;nt&quot;&gt;&amp;lt;dict&amp;gt;&lt;/span&gt;
&lt;span class=&quot;nt&quot;&gt;&amp;lt;key&amp;gt;&lt;/span&gt;items&lt;span class=&quot;nt&quot;&gt;&amp;lt;/key&amp;gt;&lt;/span&gt;
&lt;span class=&quot;nt&quot;&gt;&amp;lt;array&amp;gt;&lt;/span&gt;
&lt;span class=&quot;nt&quot;&gt;&amp;lt;dict&amp;gt;&lt;/span&gt;
&lt;span class=&quot;nt&quot;&gt;&amp;lt;key&amp;gt;&lt;/span&gt;assets&lt;span class=&quot;nt&quot;&gt;&amp;lt;/key&amp;gt;&lt;/span&gt;
&lt;span class=&quot;nt&quot;&gt;&amp;lt;array&amp;gt;&lt;/span&gt;
&lt;span class=&quot;nt&quot;&gt;&amp;lt;dict&amp;gt;&lt;/span&gt;
&lt;span class=&quot;nt&quot;&gt;&amp;lt;key&amp;gt;&lt;/span&gt;kind&lt;span class=&quot;nt&quot;&gt;&amp;lt;/key&amp;gt;&lt;/span&gt;
&lt;span class=&quot;nt&quot;&gt;&amp;lt;string&amp;gt;&lt;/span&gt;software-package&lt;span class=&quot;nt&quot;&gt;&amp;lt;/string&amp;gt;&lt;/span&gt;
&lt;span class=&quot;nt&quot;&gt;&amp;lt;key&amp;gt;&lt;/span&gt;url&lt;span class=&quot;nt&quot;&gt;&amp;lt;/key&amp;gt;&lt;/span&gt;
&lt;span class=&quot;nt&quot;&gt;&amp;lt;string&amp;gt;&lt;/span&gt;https://192.168.1.188/ipa/LFDev_4.2.1.ipa&lt;span class=&quot;nt&quot;&gt;&amp;lt;/string&amp;gt;&lt;/span&gt;
&lt;span class=&quot;nt&quot;&gt;&amp;lt;/dict&amp;gt;&lt;/span&gt;
&lt;span class=&quot;nt&quot;&gt;&amp;lt;dict&amp;gt;&lt;/span&gt;
&lt;span class=&quot;nt&quot;&gt;&amp;lt;key&amp;gt;&lt;/span&gt;kind&lt;span class=&quot;nt&quot;&gt;&amp;lt;/key&amp;gt;&lt;/span&gt;
&lt;span class=&quot;nt&quot;&gt;&amp;lt;string&amp;gt;&lt;/span&gt;display-image&lt;span class=&quot;nt&quot;&gt;&amp;lt;/string&amp;gt;&lt;/span&gt;
&lt;span class=&quot;nt&quot;&gt;&amp;lt;key&amp;gt;&lt;/span&gt;url&lt;span class=&quot;nt&quot;&gt;&amp;lt;/key&amp;gt;&lt;/span&gt;
&lt;span class=&quot;nt&quot;&gt;&amp;lt;string&amp;gt;&lt;/span&gt;https://192.168.1.188/images/image_57Ã—57.png&lt;span class=&quot;nt&quot;&gt;&amp;lt;/string&amp;gt;&lt;/span&gt;
&lt;span class=&quot;nt&quot;&gt;&amp;lt;/dict&amp;gt;&lt;/span&gt;
&lt;span class=&quot;nt&quot;&gt;&amp;lt;dict&amp;gt;&lt;/span&gt;
&lt;span class=&quot;nt&quot;&gt;&amp;lt;key&amp;gt;&lt;/span&gt;kind&lt;span class=&quot;nt&quot;&gt;&amp;lt;/key&amp;gt;&lt;/span&gt;
&lt;span class=&quot;nt&quot;&gt;&amp;lt;string&amp;gt;&lt;/span&gt;full-size-image&lt;span class=&quot;nt&quot;&gt;&amp;lt;/string&amp;gt;&lt;/span&gt;
&lt;span class=&quot;nt&quot;&gt;&amp;lt;key&amp;gt;&lt;/span&gt;url&lt;span class=&quot;nt&quot;&gt;&amp;lt;/key&amp;gt;&lt;/span&gt;
&lt;span class=&quot;nt&quot;&gt;&amp;lt;string&amp;gt;&lt;/span&gt;https://192.168.1.188/images/image_512Ã—512.png&lt;span class=&quot;nt&quot;&gt;&amp;lt;/string&amp;gt;&lt;/span&gt;
&lt;span class=&quot;nt&quot;&gt;&amp;lt;/dict&amp;gt;&lt;/span&gt;
&lt;span class=&quot;nt&quot;&gt;&amp;lt;/array&amp;gt;&lt;/span&gt;
&lt;span class=&quot;nt&quot;&gt;&amp;lt;key&amp;gt;&lt;/span&gt;metadata&lt;span class=&quot;nt&quot;&gt;&amp;lt;/key&amp;gt;&lt;/span&gt;
&lt;span class=&quot;nt&quot;&gt;&amp;lt;dict&amp;gt;&lt;/span&gt;
&lt;span class=&quot;nt&quot;&gt;&amp;lt;key&amp;gt;&lt;/span&gt;bundle-identifier&lt;span class=&quot;nt&quot;&gt;&amp;lt;/key&amp;gt;&lt;/span&gt;
&lt;span class=&quot;nt&quot;&gt;&amp;lt;string&amp;gt;&lt;/span&gt;com.xxx.yyy&lt;span class=&quot;nt&quot;&gt;&amp;lt;/string&amp;gt;&lt;/span&gt;
&lt;span class=&quot;nt&quot;&gt;&amp;lt;key&amp;gt;&lt;/span&gt;bundle-version&lt;span class=&quot;nt&quot;&gt;&amp;lt;/key&amp;gt;&lt;/span&gt;
&lt;span class=&quot;nt&quot;&gt;&amp;lt;string&amp;gt;&lt;/span&gt;4.2.0&lt;span class=&quot;nt&quot;&gt;&amp;lt;/string&amp;gt;&lt;/span&gt;
&lt;span class=&quot;nt&quot;&gt;&amp;lt;key&amp;gt;&lt;/span&gt;kind&lt;span class=&quot;nt&quot;&gt;&amp;lt;/key&amp;gt;&lt;/span&gt;
&lt;span class=&quot;nt&quot;&gt;&amp;lt;string&amp;gt;&lt;/span&gt;software&lt;span class=&quot;nt&quot;&gt;&amp;lt;/string&amp;gt;&lt;/span&gt;
&lt;span class=&quot;nt&quot;&gt;&amp;lt;key&amp;gt;&lt;/span&gt;title&lt;span class=&quot;nt&quot;&gt;&amp;lt;/key&amp;gt;&lt;/span&gt;
&lt;span class=&quot;nt&quot;&gt;&amp;lt;string&amp;gt;&lt;/span&gt;Cxx&lt;span class=&quot;nt&quot;&gt;&amp;lt;/string&amp;gt;&lt;/span&gt;
&lt;span class=&quot;nt&quot;&gt;&amp;lt;/dict&amp;gt;&lt;/span&gt;
&lt;span class=&quot;nt&quot;&gt;&amp;lt;/dict&amp;gt;&lt;/span&gt;
&lt;span class=&quot;nt&quot;&gt;&amp;lt;/array&amp;gt;&lt;/span&gt;
&lt;span class=&quot;nt&quot;&gt;&amp;lt;/dict&amp;gt;&lt;/span&gt;
&lt;span class=&quot;nt&quot;&gt;&amp;lt;/plist&amp;gt;&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;ul&gt;
  &lt;li&gt;bundle-identifierçš„å€¼com.xxx.yyyæ›´æ”¹ä¸ºä½ åº”ç”¨çš„Bundle ID&lt;/li&gt;
  &lt;li&gt;bundle-versionçš„å€¼4.2.0æ›´æ”¹ä¸ºä½ åº”ç”¨çš„ç‰ˆæœ¬version&lt;/li&gt;
  &lt;li&gt;titleçš„å€¼Cxxæ›´æ”¹ä¸ºä½ åº”ç”¨çš„åç§°ï¼Œä¸‹è½½æ—¶ä¼šå¼¹å‡ºå®‰è£…æç¤ºæ­¤åç§°&lt;/li&gt;
&lt;/ul&gt;

&lt;h4 id=&quot;54-åˆ›å»ºç´¢å¼•ä¸‹è½½ç½‘é¡µ-indexhtml&quot;&gt;5.4 åˆ›å»ºç´¢å¼•ä¸‹è½½ç½‘é¡µ index.html&lt;/h4&gt;

&lt;p&gt;åœ¨&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt; /Users/lf/web &lt;/code&gt;æ–‡ä»¶å¤¹ä¸‹è¿˜éœ€è¦ä¸€ä¸ª index.html æ–‡ä»¶ï¼Œ
æ‰‹æœºé¦–æ¬¡ä½¿ç”¨ OTA å®‰è£…ï¼Œå¿…é¡»å…ˆä¸‹è½½å®‰è£… ca.crt è¯ä¹¦ï¼Œç„¶åå†ç‚¹å‡»å®‰è£… ipaã€‚
url ä¸­å¿…é¡»å¡«å†™ https å¼€å¤´çš„ plist æ–‡ä»¶ä¸‹è½½åœ°å€ï¼Œplist æ–‡ä»¶ä¸­å¯¹åº” ipa æ–‡ä»¶çš„ä¸‹è½½åœ°å€ã€‚&lt;/p&gt;

&lt;div class=&quot;language-html highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;nt&quot;&gt;&amp;lt;html&amp;gt;&lt;/span&gt;
&lt;span class=&quot;nt&quot;&gt;&amp;lt;head&amp;gt;&lt;/span&gt;
&lt;span class=&quot;nt&quot;&gt;&amp;lt;meta&lt;/span&gt; &lt;span class=&quot;na&quot;&gt;name=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;viewport&quot;&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;content=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;width=device-width, initial-scale=1.0, minimum-scale=0.5, maximum-scale=2.0, user-scalable=yes&quot;&lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;/&amp;gt;&lt;/span&gt;
&lt;span class=&quot;nt&quot;&gt;&amp;lt;meta&lt;/span&gt; &lt;span class=&quot;na&quot;&gt;http-equiv=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;Content-Type&quot;&lt;/span&gt; &lt;span class=&quot;na&quot;&gt;content=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;text/html; charset=UTF-8&quot;&lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;&amp;gt;&lt;/span&gt;
&lt;span class=&quot;nt&quot;&gt;&amp;lt;/head&amp;gt;&lt;/span&gt;
&lt;span class=&quot;nt&quot;&gt;&amp;lt;body&amp;gt;&lt;/span&gt;
&lt;span class=&quot;nt&quot;&gt;&amp;lt;h4&amp;gt;&lt;/span&gt;æ‰‹æœºé¦–æ¬¡ä¸‹è½½è¯·å…ˆ&quot;ç‚¹å‡»å®‰è£…SSLè¯ä¹¦&quot;ï¼Œå¹¶æ ¹æ®æç¤ºå®‰è£…ä¿¡ä»»è¯ä¹¦&lt;span class=&quot;nt&quot;&gt;&amp;lt;/h4&amp;gt;&lt;/span&gt;
åœ¨ iOS 10.3 åŠæ›´é«˜ç‰ˆæœ¬ä¸­ï¼Œæ‰‹åŠ¨å®‰è£…åŒ…å«è¯ä¹¦æœ‰æ•ˆè´Ÿè½½çš„æè¿°æ–‡ä»¶æ—¶ï¼Œè¿™ä¸ªè¯ä¹¦ä¸ä¼šè‡ªåŠ¨å— SSL ä¿¡ä»»ã€‚
å½“å®‰è£…é€šè¿‡ç”µå­é‚®ä»¶å‘é€æˆ–ä»ç½‘ç«™ä¸‹è½½çš„æè¿°æ–‡ä»¶æ—¶ï¼Œæ‚¨å¿…é¡»æ‰‹åŠ¨å¼€å¯å— SSL ä¿¡ä»»ã€‚
è¦ä¸ºè¿™ä¸ªè¯ä¹¦å¼€å¯å— SSL ä¿¡ä»»ï¼Œè¯·å‰å¾€â€œè®¾ç½®â€&amp;gt;â€œé€šç”¨â€&amp;gt;â€œå…³äºæœ¬æœºâ€&amp;gt;â€œè¯ä¹¦ä¿¡ä»»è®¾ç½®â€ã€‚åœ¨â€œé’ˆå¯¹æ ¹è¯ä¹¦å¯ç”¨å®Œå…¨ä¿¡ä»»â€ä¸‹ï¼Œå¼€å¯ä¿¡ä»»è¿™ä¸ªè¯ä¹¦ã€‚
&lt;span class=&quot;nt&quot;&gt;&amp;lt;a&lt;/span&gt; &lt;span class=&quot;na&quot;&gt;title=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;iPhone&quot;&lt;/span&gt; &lt;span class=&quot;na&quot;&gt;href=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;https://192.168.1.188/ca.crt&quot;&lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;&amp;gt;&lt;/span&gt;ğŸ‘‰ç‚¹å‡»å®‰è£…SSLè¯ä¹¦ğŸ‘ˆ&lt;span class=&quot;nt&quot;&gt;&amp;lt;/a&amp;gt;&lt;/span&gt;
&lt;span class=&quot;nt&quot;&gt;&amp;lt;hr&amp;gt;&lt;/span&gt;
&lt;span class=&quot;nt&quot;&gt;&amp;lt;a&lt;/span&gt; &lt;span class=&quot;na&quot;&gt;href=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;itms-services://?action=download-manifest&amp;amp;url=https://192.168.1.188/plist/LFAdHoc_4.2.0.plist&quot;&lt;/span&gt; &lt;span class=&quot;na&quot;&gt;class=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;app_link&quot;&lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;&amp;gt;&lt;/span&gt;ğŸ‘‰ç‚¹å‡»å®‰è£…4.2.0ç”Ÿäº§ç‰ˆæœ¬ğŸ‘ˆ&lt;span class=&quot;nt&quot;&gt;&amp;lt;/a&amp;gt;&lt;/span&gt;
&lt;span class=&quot;nt&quot;&gt;&amp;lt;hr&amp;gt;&lt;/span&gt;
&lt;span class=&quot;nt&quot;&gt;&amp;lt;a&lt;/span&gt; &lt;span class=&quot;na&quot;&gt;href=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;itms-services://?action=download-manifest&amp;amp;url=https://192.168.1.188/plist/LFDev_4.2.1.plist&quot;&lt;/span&gt; &lt;span class=&quot;na&quot;&gt;class=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;app_link&quot;&lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;&amp;gt;&lt;/span&gt;ğŸ‘‰ç‚¹å‡»å®‰è£…4.2.1å¼€å‘ç‰ˆæœ¬ğŸ‘ˆ&lt;span class=&quot;nt&quot;&gt;&amp;lt;/a&amp;gt;&lt;/span&gt;
&lt;span class=&quot;nt&quot;&gt;&amp;lt;hr&amp;gt;&lt;/span&gt;
&lt;span class=&quot;nt&quot;&gt;&amp;lt;a&lt;/span&gt; &lt;span class=&quot;na&quot;&gt;href=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;itms-services://?action=download-manifest&amp;amp;url=https://192.168.1.188/plist/LFVali_4.2.1.plist&quot;&lt;/span&gt; &lt;span class=&quot;na&quot;&gt;class=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;app_link&quot;&lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;&amp;gt;&lt;/span&gt;ğŸ‘‰ç‚¹å‡»å®‰è£…4.2.1éªŒè¯ç‰ˆæœ¬ğŸ‘ˆ&lt;span class=&quot;nt&quot;&gt;&amp;lt;/a&amp;gt;&lt;/span&gt;
&lt;span class=&quot;nt&quot;&gt;&amp;lt;hr&amp;gt;&lt;/span&gt;
&lt;span class=&quot;nt&quot;&gt;&amp;lt;/body&amp;gt;&lt;/span&gt;
&lt;span class=&quot;nt&quot;&gt;&amp;lt;/html&amp;gt;&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;å¦‚æœæ˜¯æƒ³ ipa æ”¾åœ¨å±€åŸŸç½‘ç”µè„‘ä¸Šé¢ï¼Œåˆ™å°†å½“åšæ‰“åŒ…æœåŠ¡å™¨çš„ç”µè„‘ ip æ‰‹åŠ¨è®¾ç½®å›ºå®š ipï¼š192.168.1.188ï¼Œç„¶åæ‰‹æœºå’Œç”µè„‘è¿æ¥åŒä¸€ä¸ªè·¯ç”±å™¨ï¼Œiphone çš„ Safari æµè§ˆå™¨ä¸­è¾“å…¥ 192.168.1.188 æˆ–è€… 192.168.1.188/index.html å³å¯ï¼Œç‚¹å‡»å®‰è£… SSL è¯ä¹¦ï¼Œç„¶åç‚¹å‡»å®‰è£… ipa åŒ…ã€‚&lt;/p&gt;

&lt;h4 id=&quot;55-ios-103-åå¿…é¡»è®¾ç½®è¯ä¹¦ä¿¡ä»»&quot;&gt;5.5 iOS 10.3 åå¿…é¡»è®¾ç½®è¯ä¹¦ä¿¡ä»»&lt;/h4&gt;

&lt;p&gt;å¦‚æœä¸‹è½½ ipa æ—¶å‡ºç°æ— æ³•è¿æ¥åˆ°&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt; 192.168.*.* &lt;/code&gt;çš„é”™è¯¯ï¼Œåˆ™éœ€è¦æ‰‹åŠ¨è®¾ç½®ä¿¡ä»»ã€‚&lt;/p&gt;

&lt;p&gt;iOS7.0 ä»¥åå¿…é¡»ä½¿ç”¨ HTTPS è¿›è¡Œï¼ŒiOS 10 ä¹‹å‰çš„è®¾å¤‡ï¼Œç›´æ¥å®‰è£…è‡ªç­¾åæ ¹è¯ä¹¦åå°±å¯ä»¥å®‰è£… iOS åº”ç”¨ï¼Œä½†æ˜¯åœ¨ iOS 10.3 ä»¥ä¸Šçš„è®¾å¤‡ä¸Šï¼Œå®‰è£…åè¿˜éœ€è¦åˆ°â€œå…³äºæœ¬æœºâ€é‚£é‡Œæ‰‹åŠ¨å¼€å¯ä¿¡ä»»ã€‚&lt;/p&gt;

&lt;p&gt;è‹¹æœå®˜ç½‘æç¤ºï¼Œåœ¨ iOS ä¸­ä¿¡ä»»æ‰‹åŠ¨å®‰è£…çš„è¯ä¹¦æè¿°æ–‡ä»¶ &lt;a href=&quot;https://support.apple.com/zh-cn/HT204477&quot;&gt;https://support.apple.com/zh-cn/HT204477&lt;/a&gt;&lt;/p&gt;

&lt;blockquote&gt;
  &lt;p&gt;åœ¨ iOS 10.3 åŠæ›´é«˜ç‰ˆæœ¬ä¸­ï¼Œæ‰‹åŠ¨å®‰è£…åŒ…å«è¯ä¹¦æœ‰æ•ˆè´Ÿè½½çš„æè¿°æ–‡ä»¶æ—¶ï¼Œ
è¿™ä¸ªè¯ä¹¦ä¸ä¼šè‡ªåŠ¨å— SSL ä¿¡ä»»ã€‚
å½“å®‰è£…é€šè¿‡ç”µå­é‚®ä»¶å‘é€æˆ–ä»ç½‘ç«™ä¸‹è½½çš„æè¿°æ–‡ä»¶æ—¶ï¼Œ
æ‚¨å¿…é¡»æ‰‹åŠ¨å¼€å¯å— SSL ä¿¡ä»»ã€‚
è¦ä¸ºè¿™ä¸ªè¯ä¹¦å¼€å¯å— SSL ä¿¡ä»»ï¼Œ
è¯·å‰å¾€â€œè®¾ç½®â€&amp;gt;â€œé€šç”¨â€&amp;gt;â€œå…³äºæœ¬æœºâ€&amp;gt;â€œè¯ä¹¦ä¿¡ä»»è®¾ç½®â€ã€‚
åœ¨â€œé’ˆå¯¹æ ¹è¯ä¹¦å¯ç”¨å®Œå…¨ä¿¡ä»»â€ä¸‹ï¼Œå¼€å¯ä¿¡ä»»è¿™ä¸ªè¯ä¹¦ã€‚&lt;/p&gt;
&lt;/blockquote&gt;

&lt;h2 id=&quot;å‚è€ƒé“¾æ¥&quot;&gt;&lt;a id=&quot;6_0&quot;&gt;&lt;/a&gt;å‚è€ƒé“¾æ¥&lt;/h2&gt;

&lt;p&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;http://stackoverflow.com/questions/20127138/apache-2-4-configuration-for-ssl-not-working&lt;/code&gt;&lt;/p&gt;
</description>
        <pubDate>Sat, 10 Nov 2018 00:00:00 +0800</pubDate>
        <link>http://localhost:4000/2018/11/%E8%87%AA%E5%BB%BA%E5%B1%80%E5%9F%9F%E7%BD%91-OTA-%E6%9C%8D%E5%8A%A1%E5%99%A8/</link>
        <guid isPermaLink="true">http://localhost:4000/2018/11/%E8%87%AA%E5%BB%BA%E5%B1%80%E5%9F%9F%E7%BD%91-OTA-%E6%9C%8D%E5%8A%A1%E5%99%A8/</guid>
        
        <category>iOS</category>
        
        
      </item>
    
      <item>
        <title>è®°ä¸€äº›å°è±¡æ·±åˆ»çš„ Bug</title>
        <description>&lt;h2 id=&quot;ç›®å½•&quot;&gt;ç›®å½•&lt;/h2&gt;

&lt;p&gt;ä¸€ã€&lt;a href=&quot;#1_0&quot;&gt;iOS åŠ è½½è¶…å¤§å°ºå¯¸å›¾ç‰‡ Crash çš„è°ƒç ”åŠè§£å†³æ–¹æ¡ˆ&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;äºŒã€&lt;a href=&quot;#2_0&quot;&gt;å¤ä»¤æ—¶å¼•èµ·æŸäº›æ—¶é—´æ®µè½¬æ¢ä¸º NSDate ä¸º nil é—®é¢˜çš„è§£å†³æ–¹æ¡ˆ&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;ä¸‰ã€&lt;a href=&quot;#3_0&quot;&gt;æ—¥æœŸæ ¼å¼ YYYY-MM-dd å’Œ yyyy-MM-dd åŒºåˆ«&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;å››ã€&lt;a href=&quot;#4_0&quot;&gt;iOS å±€éƒ¨ BOOL å˜é‡éšæœºå€¼&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;äº”ã€&lt;a href=&quot;#5_0&quot;&gt;iPhone ç”¨æˆ·ååŒ…å«ç‰¹æ®Šç¬¦å·å¼•èµ·çš„åå° Crash&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;å…­ã€&lt;a href=&quot;#6_0&quot;&gt;å‚è€ƒé“¾æ¥&lt;/a&gt;&lt;/p&gt;

&lt;hr /&gt;

&lt;h2 id=&quot;-ä¸€ios-åŠ è½½è¶…å¤§å°ºå¯¸å›¾ç‰‡-crash-çš„è°ƒç ”åŠè§£å†³æ–¹æ¡ˆ&quot;&gt;&lt;a id=&quot;1_0&quot;&gt;&lt;/a&gt; ä¸€ã€iOS åŠ è½½è¶…å¤§å°ºå¯¸å›¾ç‰‡ Crash çš„è°ƒç ”åŠè§£å†³æ–¹æ¡ˆ&lt;/h2&gt;

&lt;h3 id=&quot;-11é—®é¢˜æè¿°&quot;&gt;&lt;a id=&quot;1_1&quot;&gt;&lt;/a&gt; 1.1ã€é—®é¢˜æè¿°&lt;/h3&gt;

&lt;p&gt;å‰æ®µæ—¶é—´é‡åˆ°ä¸€ä¸ªå·¥å•ï¼Œå®¢æˆ·åé¦ˆï¼Œåªè¦è¿›å…¥è®¢å•åˆ—è¡¨ç•Œé¢ 1~2 ç§’ï¼Œå®¢æˆ·ç«¯å°±ä¼š Crashï¼Œè®¢å•åˆ—è¡¨ç•Œé¢ç¤ºæ„å¦‚ä¸‹ï¼š&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/images/posts/bugs/impressive1.1.0.png&quot; title=&quot;è®¢å•ç¤ºæ„å›¾&quot; width=&quot;300&quot; /&gt;&lt;/p&gt;

&lt;h3 id=&quot;-12é—®é¢˜åˆ†æ&quot;&gt;&lt;a id=&quot;1_2&quot;&gt;&lt;/a&gt; 1.2ã€é—®é¢˜åˆ†æ&lt;/h3&gt;

&lt;p&gt;ç”±äºæ˜¯å®¢æˆ·æŠ•è¯‰çš„ Bugï¼Œæ²¡æœ‰ Debug ä¿¡æ¯ï¼Œå…ˆçŒœæµ‹å„ç§æƒ…å†µï¼Œæ•°ç»„è¶Šç•Œ/åå°ä¼  nil å€¼/å†…å­˜æ³„éœ²/ KVO èµ‹æœªå®šä¹‰å€¼ç­‰ç­‰ï¼›ç„¶è€Œç»è¿‡ä»”ç»†åˆ†ææ¨¡æ‹Ÿé€ä¸ªæ’é™¤äº†ä¸Šè¿°å¯èƒ½ï¼Œä»æŸ¥æ‰¾ä¸åˆ° Crash åŸå› ï¼Œç™¾æ€ä¸å¾—å…¶è§£ã€‚&lt;/p&gt;

&lt;p&gt;æ’é™¤äº†ä»£ç çš„é—®é¢˜ï¼Œåªæœ‰å¯èƒ½æ˜¯æ•°æ®é—®é¢˜äº†ï¼ŒçŒœæµ‹æ˜¯å¼‚å¸¸çš„å›¾ç‰‡/æ•°æ®è§£æå‡ºç°çš„é—®é¢˜ï¼Œäºæ˜¯æŠ½å–ç”¨æˆ·è®¢å•æ•°æ®åˆ†æï¼Œå‘ç°æœ‰ 2 å¼ å°ºå¯¸éå¸¸å¤§çš„ JPEG å›¾ç‰‡ï¼Œå°ºå¯¸è¾¾åˆ°äº† 15000*8000 çš„åƒç´ ï¼Œç¬é—´æƒ³æ˜ç™½äº†æ€ä¹ˆå›äº‹ï¼Œåƒç´ æ€»é‡è¾¾åˆ°äº†ä¸€äº¿ä¸¤åƒä¸‡ï¼ŒçŒœæµ‹æ˜¯å›¾ç‰‡è§£å‹ç¼©åˆ°å†…å­˜åå ç”¨å†…å­˜è¿‡å¤§ï¼Œå¯¼è‡´ç³»ç»Ÿå†…å­˜ç´§å¼ ï¼Œå› æ­¤ç³»ç»Ÿæ€æ­»äº† App è¿›ç¨‹ã€‚&lt;/p&gt;

&lt;h3 id=&quot;-13é—®é¢˜éªŒè¯&quot;&gt;&lt;a id=&quot;1_3&quot;&gt;&lt;/a&gt; 1.3ã€é—®é¢˜éªŒè¯&lt;/h3&gt;

&lt;p&gt;éªŒè¯æ˜¯å¦å› å¤§å°ºå¯¸å›¾ç‰‡å¼•èµ·çš„é”™è¯¯ã€‚éªŒè¯è¿‡ç¨‹å¦‚ä¸‹ï¼š&lt;/p&gt;

&lt;p&gt;å†™ä¸€ä¸ªç±»ä¼¼ä¸Šé¢è®¢å•åˆ—è¡¨çš„ Demoï¼Œç‚¹å‡» Cell é€ä¸ªåŠ è½½å¤§å›¾å›¾ç‰‡ï¼Œæµ‹è¯•ç”¨çš„æ‰‹æœºä¸º iPhone 7Pï¼Œå›¾ç‰‡å°ºå¯¸ä¸ºï¼ˆ15000px*15000pxï¼‰ï¼Œç‚¹å‡»åŠ è½½ç¬¬äºŒå¼ å›¾ç‰‡å°±å‘ç”Ÿäº† Crashï¼Œä¸€èˆ¬æƒ…å†µä¸‹ï¼ŒAPP å ç”¨ç³»ç»Ÿå†…å­˜ 60% å·¦å³å°±ä¼šè¢«æ€æ­»è¿›ç¨‹ã€‚iPhone 7P åŠ è½½å¤§å›¾åçš„å†…å­˜æˆªå›¾å¦‚ä¸‹ï¼š&lt;/p&gt;

&lt;div style=&quot;float:left;border:solid 1px 000;margin:2px;&quot;&gt;&lt;img src=&quot;/images/posts/bugs/impressive1.3.1.png&quot; title=&quot;Demoåˆå§‹å ç”¨çš„å†…å­˜&quot; width=&quot;160&quot; /&gt;&lt;/div&gt;
&lt;div style=&quot;float:left;border:solid 1px 000;margin:2px;&quot;&gt;&lt;img src=&quot;/images/posts/bugs/impressive1.3.2.png&quot; title=&quot;åŠ è½½ä¸€å¼ 7000Ã—7000å¤§å›¾å†…å­˜&quot; width=&quot;160&quot; /&gt;&lt;/div&gt;
&lt;div style=&quot;float:left;border:solid 1px 000;margin:2px;&quot;&gt;&lt;img src=&quot;/images/posts/bugs/impressive1.3.3.png&quot; title=&quot;åŠ è½½ä¸¤å¼ 7000Ã—7000å¤§å›¾å†…å­˜&quot; width=&quot;160&quot; /&gt;&lt;/div&gt;
&lt;div style=&quot;clear:both;&quot;&gt;&lt;/div&gt;

&lt;p&gt;&lt;strong&gt;Tips:&lt;/strong&gt; ä¸åŒæ‰‹æœºç”±äºå†…å­˜å’Œå±å¹•ä¸ä¸€æ ·ï¼Œå†…å­˜è¶…é™ App å‘ç”Ÿ Crash çš„æ¡ä»¶ä¸ä¸€æ ·ï¼Œå…¶ä¸­ &lt;strong&gt;iPhone 6P&lt;/strong&gt; æ˜¯æœ€å®¹æ˜“ Crash çš„ï¼Œå› ä¸ºå®ƒæœ‰ 5.5 å¯¸çš„å±å¹•ï¼Œå´åªæœ‰ &lt;strong&gt;1G å†…å­˜&lt;/strong&gt;ï¼ŒåŠ è½½ Assets.xcassets å›¾ç‰‡æ—¶ä¼šåŠ è½½ 3x å›¾ç‰‡ï¼ŒåŒä¸€å¼ ç½‘ç»œå›¾ç‰‡ï¼ŒUIImageView å¸ƒå±€ä¸€èˆ¬ä¼šæŒ‰ç…§æ¯”ä¾‹æ”¾å¤§ï¼Œå¤§å±æ‰‹æœºå›¾ç‰‡ä¼šæ”¾å¤§ï¼Œè§£ç åå ç”¨å†…å­˜ä¹Ÿå°±æ›´å¤§ã€‚&lt;/p&gt;

&lt;h3 id=&quot;-14è§£å†³æ–¹æ¡ˆ&quot;&gt;&lt;a id=&quot;1_4&quot;&gt;&lt;/a&gt; 1.4ã€è§£å†³æ–¹æ¡ˆ&lt;/h3&gt;

&lt;ul&gt;
  &lt;li&gt;&lt;strong&gt;çº¦å®šå¤§äºé…ç½®ï¼Œä¸Šä¼ å›¾ç‰‡ä¹Ÿè¦éµå®ˆä¸€å®šçš„çº¦å®šã€‚&lt;/strong&gt; åŸºäº SDWebImage/YYImage ç­‰ç¬¬ä¸‰æ–¹åº“åŠ è½½è¶…å¤§å›¾å¼•èµ·çš„å´©æºƒï¼Œå¯é€šè¿‡ä¿®æ”¹æºç è§£å†³ï¼Œä½†ä¸å»ºè®®è¿™æ ·åšï¼›ä¿®æ”¹æºç å¯èƒ½ä¼šå¼•èµ·å…¶ä»– Bugï¼Œè€Œä¸”å¤§å›¾æ¯•ç«Ÿæ˜¯å°‘æ•°ï¼Œæ²¡å¿…è¦å¯¹æ‰€æœ‰å›¾ç‰‡éƒ½è¿›è¡Œåˆ¤æ–­ï¼Œä¸ªåˆ«å¤§å›¾å•ç‹¬å¤„ç†å³å¯ã€‚æŒ‰ç…§ä¸€å®šçº¦å®šï¼Œé€šè¿‡ç®¡ç†å¹³å°é™å®šä¸Šä¼ å›¾ç‰‡å°ºå¯¸å¤§å°ï¼Œå¢åŠ  APP æµç•…åº¦çš„åŒæ—¶ï¼Œè¿˜èƒ½å‡å°‘ç”¨æˆ·æµé‡æŸå¤±ï¼Œæ­¤ä¸ºæœ€ä½³æ–¹æ¡ˆã€‚&lt;/li&gt;
  &lt;li&gt;&lt;strong&gt;ç¼©æ”¾å›¾ç‰‡å°ºå¯¸ã€‚&lt;/strong&gt; å¦‚æœæ˜¯å±•ç¤ºæ•´å¼ å›¾ç‰‡ï¼Œä¸éœ€è¦å±•ç¤ºå›¾ç‰‡ç»†èŠ‚ï¼Œå—é™äºå±å¹•åˆ†è¾¨ç‡ï¼Œå¤ªå¤§å°ºå¯¸çš„å›¾ç‰‡æ˜¯æ²¡æœ‰æ„ä¹‰çš„ï¼›å¦‚æœéœ€è¦åšç±»ä¼¼äºå›¾ç‰‡æµè§ˆå™¨ï¼Œå¯å¯¹å›¾ç‰‡è¿›è¡Œæ”¾å¤§ç¼©å°æ“ä½œçš„éœ€æ±‚ï¼Œå¤§å›¾é¢„è§ˆçš„æ—¶å€™å¯åŠ è½½ç¼©ç•¥å›¾ï¼Œå±•ç¤ºçš„æ—¶å€™åˆ‡ç‰‡å¤„ç†ã€‚&lt;/li&gt;
&lt;/ul&gt;

&lt;h3 id=&quot;-15ios-å›¾ç‰‡è§£ç &quot;&gt;&lt;a id=&quot;1_5&quot;&gt;&lt;/a&gt; 1.5ã€iOS å›¾ç‰‡è§£ç &lt;/h3&gt;

&lt;p&gt;æˆ‘ä»¬å¸¸è§çš„å›¾ç‰‡æ ¼å¼ä¾‹å¦‚ &lt;strong&gt;PNG/JPG/GIF&lt;/strong&gt; ç­‰æ ¼å¼éƒ½å±äº&lt;strong&gt;å›¾åƒå‹ç¼©æ ¼å¼&lt;/strong&gt;ï¼Œè§£å‹ä¸ºä½å›¾åå ç”¨çš„å†…å­˜ä¼šéå¸¸å¤§ã€‚&lt;/p&gt;

&lt;p&gt;å‡è®¾ iOS ç³»ç»Ÿä»ç£ç›˜åŠ è½½ä¸€å¼ å›¾ç‰‡ï¼Œé¦–å…ˆå°†æ–‡ä»¶æ•°æ®ä»ç£ç›˜è¯»åˆ°å†…å­˜ä¸­ï¼Œæ­¤æ—¶åœ¨å†…å­˜ä¸­ä»æ—§æ˜¯å‹ç¼©æ ¼å¼ï¼Œåªæœ‰åœ¨éœ€è¦çš„æ—¶æœºï¼Œæ‰ä¼šæŠŠå›¾ç‰‡è§£ç ä¸ºæ— å‹ç¼©çš„ä½å›¾æ ¼å¼ï¼Œæœ€å &lt;strong&gt;Core Animation&lt;/strong&gt; ä½¿ç”¨æœªå‹ç¼©çš„ä½å›¾æ•°æ®æ¸²æŸ“ &lt;strong&gt;UIImageView&lt;/strong&gt; çš„å›¾å±‚ã€‚&lt;/p&gt;

&lt;p&gt;å°†å‹ç¼©çš„å›¾ç‰‡æ•°æ®è§£ç æˆæœªå‹ç¼©çš„ä½å›¾å½¢å¼ï¼Œè¿™æ˜¯ä¸€ä¸ªè€—æ—¶çš„ CPU æ“ä½œï¼Œ&lt;strong&gt;SDWebimage/YYImage&lt;/strong&gt; ç­‰ç¬¬ä¸‰æ–¹æ¡†æ¶ä¸€èˆ¬éƒ½ä¼šæå‰å¼‚æ­¥å¼ºåˆ¶è§£ç å›¾ç‰‡ï¼Œä¿è¯äº† UI ç•Œé¢çš„æµç•…æ€§ã€‚&lt;/p&gt;

&lt;h3 id=&quot;-16å›¾ç‰‡è§£ç å ç”¨å†…å­˜è®¡ç®—&quot;&gt;&lt;a id=&quot;1_6&quot;&gt;&lt;/a&gt; 1.6ã€å›¾ç‰‡è§£ç å ç”¨å†…å­˜è®¡ç®—&lt;/h3&gt;

&lt;p&gt;&lt;strong&gt;å›¾ç‰‡è§£ç &lt;/strong&gt;åä¼šå ç”¨å¤šå°‘å†…å­˜å‘¢ï¼Ÿå…¶å®è¿™ä¸ªå¾ˆå¥½è®¡ç®—ï¼Œè‹¹æœæ‰‹æœºé‡‡ç”¨ 24 ä½çœŸå½©è‰²æ˜¾ç¤ºå›¾åƒï¼Œä¹Ÿå°±æ˜¯ 24bit(3 å­—èŠ‚ï¼ŒRGB çº¢ç»¿è“ä¸‰åŸè‰²åˆ†åˆ«å ç”¨ 8bitï¼Œæ¯ä¸ªé¢œè‰²æœ‰ 256 ç§çŠ¶æ€)ï¼Œå¦‚æœæ˜¯ä¸åŒ…å« Alpha é€šé“(é€æ˜åº¦)çš„ RGB å›¾ç‰‡ï¼Œé‚£æ¯ä¸ªåƒç´ å ç”¨çš„å°±æ˜¯ 3 å­—èŠ‚ï¼Œ15000px*15000px*3Byte = 644MBï¼Œå¦‚æœæ˜¯åŒ…å«é€æ˜åº¦çš„ RGBA å›¾ç‰‡ï¼Œåˆ™ä¸º 15000px*15000px*4Byte = 858MBï¼Œå¦‚å›¾2æ‰€ç¤ºï¼ŒåŠ è½½ä¸€å¼ é•¿å’Œå®½ 15000px çš„å›¾ç‰‡ï¼Œå†…å­˜æš´å¢ 858MBã€‚&lt;/p&gt;

&lt;h3 id=&quot;-17å›¾ç‰‡ç¼©æ”¾æœ€ä¼˜é€‰æ‹©&quot;&gt;&lt;a id=&quot;1_7&quot;&gt;&lt;/a&gt; 1.7ã€å›¾ç‰‡ç¼©æ”¾æœ€ä¼˜é€‰æ‹©&lt;/h3&gt;

&lt;p&gt;æœ€å¸¸ç”¨çš„å›¾ç‰‡ç¼©æ”¾æ–¹æ³•æ˜¯ä½¿ç”¨ &lt;strong&gt;CGContext&lt;/strong&gt; çš„ &lt;strong&gt;UIGraphicsGetImageFromCurrentImageContext&lt;/strong&gt; æ–¹æ³•å¯¹å›¾ç‰‡è¿›è¡Œè£å‰ªç¼©æ”¾ï¼Œèƒ½å¤Ÿæ»¡è¶³å¤§éƒ¨åˆ†éœ€æ±‚ã€‚ä½†å¦‚æœæ˜¯å¤„ç†å¤šå¼ å¤§å›¾ï¼Œè¿™æ—¶å€™å°±éœ€è¦ä¼˜åŒ–ç¼©æ”¾é€Ÿåº¦äº†ï¼Œå¯é€šè¿‡ Image I/O æ¡†æ¶å¯¹å›¾ç‰‡è¿›è¡Œç¼©æ”¾ï¼Œåœ¨å·¥ç¨‹ä¸­æ·»åŠ  &lt;strong&gt;Image I/O Framework&lt;/strong&gt;ï¼Œç„¶ååœ¨éœ€è¦ä½¿ç”¨çš„åœ°æ–¹ &lt;strong&gt;#import &amp;lt;ImageIO/ImageIO.h&amp;gt;&lt;/strong&gt; å³å¯ï¼Œç¤ºä¾‹ä»£ç å¦‚ä¸‹ï¼š&lt;/p&gt;

&lt;div class=&quot;language-objc highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;c1&quot;&gt;//maxPixelSize MUST BE a valid value.&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;UIImage&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;thumbImageFromLargeFile&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;NSString&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;filePath&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;withConfirmedMaxPixelSize&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;CGFloat&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;maxPixelSize&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;// Create the image source (from path)&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;CGImageSourceRef&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;src&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;CGImageSourceCreateWithURL&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;((&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;__bridge&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;CFURLRef&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;NSURL&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;fileURLWithPath&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;filePath&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;],&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;NULL&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;

&lt;span class=&quot;c1&quot;&gt;// Create thumbnail options&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;CFDictionaryRef&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;options&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;__bridge&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;CFDictionaryRef&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;@{&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;id&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;kCGImageSourceCreateThumbnailWithTransform&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;@YES&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;id&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;kCGImageSourceCreateThumbnailFromImageAlways&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;@YES&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;id&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;kCGImageSourceThumbnailMaxPixelSize&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;err&quot;&gt;@&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;maxPixelSize&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;};&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;// Generate the thumbnail&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;CGImageRef&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;thumbnail&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;CGImageSourceCreateThumbnailAtIndex&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;src&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;options&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;CFRelease&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;src&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;

&lt;span class=&quot;n&quot;&gt;UIImage&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;image&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;[[&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;UIImage&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;alloc&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;initWithCGImage&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;thumbnail&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;];&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;CFRelease&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;thumbnail&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;image&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;

&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;h2 id=&quot;-äºŒå¤ä»¤æ—¶å¼•èµ·æŸäº›æ—¶é—´æ®µè½¬æ¢ä¸º-nsdate-ä¸º-nil-é—®é¢˜çš„è§£å†³æ–¹æ¡ˆ&quot;&gt;&lt;a id=&quot;2_0&quot;&gt;&lt;/a&gt; äºŒã€å¤ä»¤æ—¶å¼•èµ·æŸäº›æ—¶é—´æ®µè½¬æ¢ä¸º NSDate ä¸º nil é—®é¢˜çš„è§£å†³æ–¹æ¡ˆ&lt;/h2&gt;

&lt;h3 id=&quot;-21é—®é¢˜æè¿°&quot;&gt;&lt;a id=&quot;2_1&quot;&gt;&lt;/a&gt; 2.1ã€é—®é¢˜æè¿°&lt;/h3&gt;

&lt;p&gt;å¼€å‘ä¸­æˆ‘ä»¬ç»å¸¸ä¼šå¤„ç†ç”¨æˆ·çš„ç”Ÿæ—¥ï¼Œä¾‹å¦‚ä¸‹é¢çš„ä»£ç ï¼Œå°†ç”¨æˆ·ç”Ÿæ—¥è½¬æ¢ä¸ºNSDateï¼Œä¾‹å¦‚ä¸‹é¢çš„ä»£ç ï¼š&lt;/p&gt;

&lt;div class=&quot;language-objc highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;NSString&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;birthStr&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;@&quot;1986-05-04&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;NSDateFormatter&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;formatter&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;[[&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;NSDateFormatter&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;alloc&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;init&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;];&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;formatter&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;setDateFormat&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;@&quot;yyyy-MM-dd&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;];&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;NSDate&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;*&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;birDate&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;formatter&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;dateFromString&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;birthStr&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;];&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;NSLog&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;@&quot;timeStr to date is %@ %@&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;birthStr&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;birDate&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;è¿™æ—¶å€™æˆ‘ä»¬ä¼šæƒŠå¥‡çš„å‘ç°ï¼ŒbirDate ä¸º nil ï¼Ÿå—¯ï¼Œnilã€‚&lt;/p&gt;

&lt;h3 id=&quot;-22é—®é¢˜åˆ†æ&quot;&gt;&lt;a id=&quot;2_2&quot;&gt;&lt;/a&gt; 2.2ã€é—®é¢˜åˆ†æ&lt;/h3&gt;

&lt;p&gt;é€šè¿‡Googleæœç´¢åŠæµ‹è¯•ï¼Œæœ€ç»ˆå®šä½åœ¨äº†å¤ä»¤æ—¶é—®é¢˜ä¸Šã€‚&lt;/p&gt;

&lt;blockquote&gt;
  &lt;p&gt;æˆ‘å›½è§£æ”¾å‰å‡ å¹´åœ¨éƒ¨åˆ†åœ°åŒºä¹Ÿæ›¾å®è¡Œè¿‡å¤ä»¤æ—¶ã€‚1986å¹´4æœˆï¼Œä¸­å¤®æœ‰å…³éƒ¨é—¨å‘å‡ºâ€œåœ¨å…¨å›½èŒƒå›´å†…å®è¡Œå¤æ—¶åˆ¶çš„é€šçŸ¥â€ï¼Œå…·ä½“ä½œæ³•æ˜¯ï¼šæ¯å¹´ä»å››æœˆä¸­æ—¬ç¬¬ä¸€ä¸ªæ˜ŸæœŸæ—¥çš„å‡Œæ™¨2æ—¶æ•´ï¼ˆåŒ—äº¬æ—¶é—´ï¼‰ï¼Œå°†æ—¶é’Ÿæ‹¨å¿«ä¸€å°æ—¶ï¼Œå³å°†è¡¨é’ˆç”±2æ—¶æ‹¨è‡³3æ—¶ï¼Œå¤ä»¤æ—¶å¼€å§‹ï¼›åˆ°ä¹æœˆä¸­æ—¬ç¬¬ä¸€ä¸ªæ˜ŸæœŸæ—¥çš„å‡Œæ™¨2æ—¶æ•´ï¼ˆåŒ—äº¬å¤ä»¤æ—¶ï¼‰ï¼Œå†å°†æ—¶é’Ÿæ‹¨å›ä¸€å°æ—¶ï¼Œå³å°†è¡¨é’ˆç”±2æ—¶æ‹¨è‡³1æ—¶ï¼Œå¤ä»¤æ—¶ç»“æŸã€‚ä»1986å¹´åˆ°1991å¹´çš„å…­ä¸ªå¹´åº¦ï¼Œé™¤1986å¹´å› æ˜¯å®è¡Œå¤æ—¶åˆ¶çš„ç¬¬ä¸€å¹´ï¼Œä»5æœˆ4æ—¥å¼€å§‹åˆ°9æœˆ14æ—¥ç»“æŸå¤–ï¼Œå…¶å®ƒå¹´ä»½å‡æŒ‰è§„å®šçš„æ—¶æ®µæ–½è¡Œã€‚1992å¹´èµ·ï¼Œå¤ä»¤æ—¶æš‚åœå®è¡Œã€‚&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;çœ‹å®Œè¿™æ®µæè¿°åº”è¯¥å°±æ˜ç™½åŸå› äº†ï¼Œåœ¨ä¸­å›½ä¸œå…«æ—¶åŒºæ—¶åŒºï¼ŒæŸäº›æ—¶é—´æ®µæ˜¯ä¸å­˜åœ¨çš„ï¼Œä¾‹å¦‚â€1988-04-10 00-00-00â€è‡³â€1988-04-10 01-00-00â€ä¸­é—´çš„æ—¶é—´æ®µã€‚&lt;/p&gt;

&lt;h3 id=&quot;-23è§£å†³æ–¹æ¡ˆ&quot;&gt;&lt;a id=&quot;2_3&quot;&gt;&lt;/a&gt; 2.3ã€è§£å†³æ–¹æ¡ˆ&lt;/h3&gt;

&lt;p&gt;æ—¢ç„¶æ˜¯æ—¶åŒºå¼•èµ·çš„é—®é¢˜ï¼Œé‚£å°±æŠŠæ—¶åŒºè½¬æ¢ä¸º UTC æˆ– GMT çš„æ—¶åŒºå³å¯ã€‚&lt;/p&gt;

&lt;div class=&quot;language-objc highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;NSString&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;birthStr&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;@&quot;1988-04-10 00-00-00&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;NSDateFormatter&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;formatter&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;[[&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;NSDateFormatter&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;alloc&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;init&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;];&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;formatter&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;setTimeZone&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:[&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;NSTimeZone&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;timeZoneWithName&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;@&quot;GMT&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]];&lt;/span&gt;&lt;span class=&quot;c1&quot;&gt;// é›¶æ—¶åŒº&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;formatter&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;setDateFormat&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;@&quot;yyyy-MM-dd HH-mm-ss&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;];&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;NSDate&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;*&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;birDate&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;formatter&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;dateFromString&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;birthStr&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;];&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;NSLog&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;@&quot;BirthStr convert to NSDate is %@&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;birDate&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;&lt;strong&gt;Tips:&lt;/strong&gt; &lt;strong&gt;ä¸è¦ç”¨æ¨¡æ‹Ÿå™¨æµ‹è¯•&lt;/strong&gt;ï¼Œæ¨¡æ‹Ÿå™¨æµ‹è¯•&lt;strong&gt;ç»“æœä¸æ­£ç¡®&lt;/strong&gt;ã€‚&lt;/p&gt;

&lt;h2 id=&quot;-ä¸‰æ—¥æœŸæ ¼å¼-yyyy-mm-dd-å’Œ-yyyy-mm-dd-åŒºåˆ«&quot;&gt;&lt;a id=&quot;3_0&quot;&gt;&lt;/a&gt; ä¸‰ã€æ—¥æœŸæ ¼å¼ YYYY-MM-dd å’Œ yyyy-MM-dd åŒºåˆ«&lt;/h2&gt;

&lt;h3 id=&quot;-31é—®é¢˜æè¿°&quot;&gt;&lt;a id=&quot;3_1&quot;&gt;&lt;/a&gt; 3.1ã€é—®é¢˜æè¿°&lt;/h3&gt;

&lt;p&gt;å¼€å‘ä¸­é‡åˆ°æœ‰äººä½¿ç”¨ YYYY-MM-dd å¤„ç†æ—¶é—´æ ¼å¼ï¼Œè§‰å¾—ä¸å¯¹åˆè¯´ä¸å‡ºä¸ºä»€ä¹ˆï¼Œå°±è°ƒç ”äº†ä¸€ä¸‹ã€‚&lt;/p&gt;

&lt;p&gt;å¤§å¤šæ•°æƒ…å†µä¸‹ï¼Œè®¾ç½®æ—¶é—´æ ¼å¼ YYYY-MM-dd å’Œ yyyy-MM-dd è½¬æ¢çš„æ—¥æœŸæ˜¯ä¸€æ ·çš„ï¼Œåªæœ‰å½“åˆ°è¾¾ä¸€äº›ç‰¹ç‚¹çš„æ—¶é—´èŠ‚ç‚¹ï¼Œè·¨å¹´æ—¶ä½¿ç”¨ â€œYYYY-MM-ddâ€ å¯èƒ½ä¼šå‡ºç°å·®ä¸€å¹´çš„é—®é¢˜ã€‚å¦‚ä¸‹ä»£ç æ‰€ç¤ºï¼š&lt;/p&gt;

&lt;div class=&quot;language-objc highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;c1&quot;&gt;// åŸå§‹çš„æ—¥æœŸå­—ç¬¦ä¸²&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;NSString&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;orginDateStr&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;@&quot;2015-12-28&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;// è½¬æ¢ä¸ºNSDate&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;NSDateFormatter&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;orginFormatter&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;[[&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;NSDateFormatter&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;alloc&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;init&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;];&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;orginFormatter&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;setDateFormat&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;@&quot;yyyy-MM-dd&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;];&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;NSDate&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;*&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;orginDate&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;orginFormatter&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;dateFromString&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;orginDateStr&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;];&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;NSLog&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;@&quot;orginFormatter: orginDate is %@&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;orginDate&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;

&lt;span class=&quot;c1&quot;&gt;// å¦‚æœç”¨YYYYå°†orginDateè½¬æ¢å›å­—ç¬¦ä¸²æ—¶å°±å‡ºç°äº†é—®é¢˜&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;NSDateFormatter&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;weekFormatter&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;[[&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;NSDateFormatter&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;alloc&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;init&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;];&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;weekFormatter&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;setDateFormat&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;@&quot;YYYY-MM-dd&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;];&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;NSString&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;weekDateStr&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;weekFormatter&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;stringFromDate&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;orginDate&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;];&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;NSLog&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;@&quot;weekFormatter: weekDateStr is %@&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;weekDateStr&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;  
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;blockquote&gt;
  &lt;p&gt;æ‰“å°ç»“æœï¼Œç›¸å·®ä¸€å¹´ï¼š&lt;/p&gt;

  &lt;p&gt;orginFormatter: orginDate is Mon Dec 28 00:00:00 2015&lt;/p&gt;

  &lt;p&gt;weekFormatter: weekDateStr is 2016-12-28&lt;/p&gt;
&lt;/blockquote&gt;

&lt;h3 id=&quot;-32é—®é¢˜åˆ†æ&quot;&gt;&lt;a id=&quot;3_2&quot;&gt;&lt;/a&gt; 3.2ã€é—®é¢˜åˆ†æ&lt;/h3&gt;

&lt;p&gt;æˆ‘ä»¬å…ˆæ¥ç†è§£ YYYY å’Œ yyyy çš„åŒºåˆ«ï¼š&lt;/p&gt;

&lt;p&gt;â€œYYYY formatâ€ æ˜¯ â€œISO week numbering systemâ€&lt;/p&gt;

&lt;p&gt;â€œyyyy formatâ€ æ˜¯ â€œGregorian Calendarï¼ˆå…¬å†ï¼‰â€&lt;/p&gt;

&lt;p&gt;â€œYYYY specifies the week of the year (ISO) while yyyy specifies the calendar year (Gregorian)â€&lt;/p&gt;

&lt;p&gt;yyyy specifies the calendar year whereas YYYY specifies the year (of â€œWeek of Yearâ€), used in the ISO year-week calendar.&lt;/p&gt;

&lt;p&gt;ä¹Ÿå°±æ˜¯è¯´è½¬æ¢ä¸ºæ—¥æœŸæ—¶ï¼ŒDateFormatterå¦‚æœæ˜¯YYYYæ ¼å¼çš„è¯ï¼Œå¦‚æœ1æœˆ1æ—¥æ˜¯æ˜ŸæœŸä¸€ï¼Œæ˜ŸæœŸäºŒï¼Œæ˜ŸæœŸä¸‰æˆ–æ˜ŸæœŸå››ï¼Œå®ƒæ˜¯åœ¨01å‘¨ã€‚å¦‚æœä¸€æœˆ1æ—¥æ˜¯æ˜ŸæœŸäº”ï¼Œæ˜ŸæœŸå…­æˆ–æ˜ŸæœŸæ—¥ï¼Œå®ƒåœ¨å‰ä¸€å¹´çš„52å‘¨æˆ–53å‘¨ã€‚&lt;/p&gt;

&lt;p&gt;è‹¹æœå®˜æ–¹æ–‡æ¡£è¯´ä½¿ç”¨YYYYæ˜¯å¸¸è§é”™è¯¯ï¼Œæ­£ç¡®çš„åº”è¯¥æ˜¯ä½¿ç”¨yyyyæ ¼å¼ï¼Œå®˜æ–¹æ–‡æ¡£è§£é‡Šå¦‚ä¸‹ï¼š&lt;/p&gt;

&lt;blockquote&gt;
  &lt;p&gt;It uses yyyy to specify the year component. A common mistake is to use YYYY. yyyy specifies the calendar year whereas YYYY specifies the year (of â€œWeek of Yearâ€), used in the ISO year-week calendar. In most cases, yyyy and YYYY yield the same number, however they may be different. Typically you should use the calendar year.&lt;/p&gt;

  &lt;p&gt;The representation of the time may be 13:00. In iOS, however, if the user has switched 24-Hour Time to Off, the time may be 1:00 pm.&lt;/p&gt;
&lt;/blockquote&gt;

&lt;h3 id=&quot;-33è§£å†³æ–¹æ¡ˆ&quot;&gt;&lt;a id=&quot;3_3&quot;&gt;&lt;/a&gt; 3.3ã€è§£å†³æ–¹æ¡ˆ&lt;/h3&gt;

&lt;p&gt;ä½¿ç”¨æ­£ç¡®çš„æ—¶é—´æ ¼å¼ &lt;strong&gt;yyyy-MM-dd&lt;/strong&gt; æ¥å¤„ç†æ—¥æœŸæ—¶é—´ã€‚&lt;/p&gt;

&lt;h2 id=&quot;-å››ios-å±€éƒ¨-bool-å˜é‡éšæœºå€¼&quot;&gt;&lt;a id=&quot;4_0&quot;&gt;&lt;/a&gt; å››ã€iOS å±€éƒ¨ BOOL å˜é‡éšæœºå€¼&lt;/h2&gt;

&lt;h3 id=&quot;-41é—®é¢˜æè¿°&quot;&gt;&lt;a id=&quot;4_1&quot;&gt;&lt;/a&gt; 4.1ã€é—®é¢˜æè¿°&lt;/h3&gt;

&lt;p&gt;æµ‹è¯•ç»™ä¸€ä¸ªå°ä¼™ä¼´æäº†ä¸€ä¸ªBugï¼Œç‚¹å‡»ä¸€ä¸ªåŠŸèƒ½æ—¶ä¼šä¸å®šæ—¶å‡ºç°é—®é¢˜ï¼Œèƒ½å¤Ÿå¤ç°ï¼Œä½†ä¸æ˜¯æ¯æ¬¡éƒ½å‡ºç°ã€‚å¦‚ä¸‹ä»£ç æ‰€ç¤ºï¼š&lt;/p&gt;

&lt;div class=&quot;language-objc highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;BOOL&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;isSuccess&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;isSuccess&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;NSLog&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;@&quot;success&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;else&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;NSLog&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;@&quot;failed&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;æµ‹è¯•ç»“æœï¼šåœ¨ Debug ç¯å¢ƒä¸‹çœŸæœºå’Œæ¨¡æ‹Ÿå™¨éƒ½æ˜¯ failedï¼Œä½†æ‰“åŒ…æˆå‡ºæ¥å®‰è£…åå¯èƒ½ä¸º success ä¹Ÿå¯èƒ½æ˜¯ failed äº†ã€‚&lt;/p&gt;

&lt;h3 id=&quot;-42é—®é¢˜åˆ†æ&quot;&gt;&lt;a id=&quot;4_2&quot;&gt;&lt;/a&gt; 4.2ã€é—®é¢˜åˆ†æ&lt;/h3&gt;

&lt;p&gt;å¾ˆæ˜æ˜¾æ˜¯å±€éƒ¨å˜é‡ isSuccess å‡ºç°äº†éšæœºå€¼å¯¼è‡´çš„ï¼Œè™½ç„¶æˆ‘ä¸ªäººå¹³æ—¶çš„ä¹ æƒ¯æ˜¯å£°æ˜éå†ä¸€å®šä¼šåˆå§‹åŒ–ï¼Œä½† Debug æ¨¡å¼ä¸‹æ­£å¸¸ï¼Œæ‰“åŒ…åå°±å‡ºç°éšæœºå€¼çš„åŸå› è¿˜æ˜¯ä¸æ¸…æ¥šï¼Œäºæ˜¯è°ƒç ”äº†ä¸€ä¸‹ã€‚&lt;/p&gt;

&lt;p&gt;åœ¨ ARC ç¯å¢ƒä¸‹ï¼Œæœ¬åœ°å¯¹è±¡åˆ›å»ºå¦‚æœæœªåˆå§‹åŒ–ï¼ŒæŒ‡é’ˆä¼šæŒ‡å‘é»˜è®¤å€¼ nilï¼›ä½†æ˜¯ç±»ä¼¼ BOOL çš„éå¯¹è±¡ç±»å‹çš„å±€éƒ¨å˜é‡ï¼Œæœªåˆå§‹åŒ–æ—¶ä¼šæŒ‡å‘æœ€åä¸€æ¬¡å†™å…¥è¯¥åœ°å€çš„å†…å®¹ï¼Œå¯èƒ½ä¸ºä»»æ„å€¼ï¼Œä¹Ÿå°±æ˜¯åƒåœ¾å€¼ï¼Œå‡ºç°éšæœºå€¼ä¹Ÿå°±ä¸ç¨€å¥‡äº†ã€‚&lt;/p&gt;

&lt;h3 id=&quot;-43è§£å†³æ–¹æ¡ˆ&quot;&gt;&lt;a id=&quot;4_3&quot;&gt;&lt;/a&gt; 4.3ã€è§£å†³æ–¹æ¡ˆ&lt;/h3&gt;

&lt;p&gt;åˆ›å»ºå˜é‡æ—¶è¦å…»æˆåˆå§‹åŒ–çš„å¥½ä¹ æƒ¯ï¼Œå°¤å…¶æ˜¯åŸºæœ¬æ•°æ®ç±»å‹ï¼Œä¾‹å¦‚:&lt;/p&gt;

&lt;div class=&quot;language-objc highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;BOOL&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;isSuccess&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;NO&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt; 
&lt;span class=&quot;kt&quot;&gt;int&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;a&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;h2 id=&quot;-äº”iphone-ç”¨æˆ·ååŒ…å«ç‰¹æ®Šç¬¦å·å¼•èµ·çš„åå°-crash&quot;&gt;&lt;a id=&quot;5_0&quot;&gt;&lt;/a&gt; äº”ã€iPhone ç”¨æˆ·ååŒ…å«ç‰¹æ®Šç¬¦å·å¼•èµ·çš„åå° Crash&lt;/h2&gt;

&lt;h3 id=&quot;-51é—®é¢˜æè¿°&quot;&gt;&lt;a id=&quot;5_1&quot;&gt;&lt;/a&gt; 5.1ã€é—®é¢˜æè¿°&lt;/h3&gt;

&lt;p&gt;é‡åˆ°ä¸€ä¸ªå·¥å•ï¼Œå®¢æˆ·åé¦ˆæ— æ³•æ­£å¸¸è¿›å…¥ Appï¼Œè¿›å…¥åå°±æŠ¥é”™ï¼Œè¿˜åé¦ˆäº†æœºå‹ã€ç³»ç»Ÿç‰ˆæœ¬ï¼ŒApp ç‰ˆæœ¬ç­‰ä¿¡æ¯ã€‚&lt;/p&gt;

&lt;p&gt;æ’æŸ¥ä»£ç é€»è¾‘æ²¡æœ‰é—®é¢˜ï¼Œæ‰¾åˆ°ç›¸åŒç³»ç»Ÿçš„æœºå‹ï¼Œç›¸åŒ App ç‰ˆæœ¬æµ‹è¯•æ²¡æœ‰é—®é¢˜ã€‚&lt;/p&gt;

&lt;p&gt;æœŸé—´ä¹Ÿå›å¤äº†ç”¨æˆ·è½¯ä»¶æ²¡æœ‰é—®é¢˜ï¼Œä½†è¿™ä¸ªç”¨æˆ·é”²è€Œä¸èˆï¼Œæœ€ç»ˆç»™è¿™ä¸ªç”¨æˆ·å‘äº†ä¸€ä¸ª Debug ç‰ˆæœ¬ï¼ŒæŠ¥é”™æ—¶ Debug æ—¥å¿—å±•ç¤ºåœ¨ç•Œé¢ä¸Šï¼Œå¤åˆ¶ç²˜è´´å‘è¿‡æ¥ã€‚æœ€ç»ˆé—®é¢˜å®šä½åœ¨äº†&lt;strong&gt;ç”¨æˆ·å&lt;/strong&gt;ä¸Šé¢ï¼Œè¿™ä½ç”¨æˆ·çš„ç”¨æˆ·åç±»ä¼¼äºè¿™æ ·çš„ &amp;amp;&amp;amp;###???###&amp;amp;&amp;amp;ã€‚&lt;/p&gt;

&lt;h3 id=&quot;-52é—®é¢˜åˆ†æ&quot;&gt;&lt;a id=&quot;5_2&quot;&gt;&lt;/a&gt; 5.2ã€é—®é¢˜åˆ†æ&lt;/h3&gt;

&lt;p&gt;è¿™æ—¶å€™å¯èƒ½å·²ç»æƒ³æ˜ç™½æ€ä¹ˆå›äº‹äº†ï¼Œç‰¹æ®Šç¬¦å·è½¬ä¹‰å¼•èµ·çš„åå°Bugã€‚ä¾‹å¦‚ä¸€äº›ç‰¹æ®Šçš„ç¬¦å·ï¼Œä¾‹å¦‚ !#$&amp;amp;â€™()*+,/:;=?@[] è¿™äº›ç‰¹æ®Šç¬¦å·ï¼Œæ‹¼æ¥åœ¨ URL æˆ–è€… Body é‡Œé¢ï¼Œä¼ é€åˆ°åå°æ—¶éƒ½å¯èƒ½å¼•èµ·è½¬ä¹‰ï¼Œä¸èƒ½æ­£å¸¸è§£æï¼Œä¸åŒçš„åå°è¡¨ç°é€»è¾‘ä¸ä¸€è‡´ã€‚&lt;/p&gt;

&lt;h3 id=&quot;-53è§£å†³æ–¹æ¡ˆ&quot;&gt;&lt;a id=&quot;5_3&quot;&gt;&lt;/a&gt; 5.3ã€è§£å†³æ–¹æ¡ˆ&lt;/h3&gt;

&lt;p&gt;æ—¢ç„¶æ˜¯ç‰¹æ®Šå­—ç¬¦å¼•èµ·çš„ï¼Œåœ¨ç½‘ç»œä¼ è¾“è¿‡ç¨‹ä¸­ï¼Œå¯¹ç‰¹æ®Šå­—ç¬¦è¿› URLEncode å³å¯ï¼ŒæœåŠ¡å™¨æ¥æ”¶åˆ°è¿›è¡Œ URLDecode å³å¯ã€‚&lt;/p&gt;

&lt;div class=&quot;language-objc highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;c1&quot;&gt;// ç”¨æˆ·æ‰‹æœºè®¾ç½®çš„ç”¨æˆ·å&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;NSString&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;userPhoneName&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;@&quot;abc&amp;amp;&amp;amp;&amp;amp;???dd**%###!!!&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;

&lt;span class=&quot;c1&quot;&gt;// è®¾ç½®éœ€è¦è½¬ä¹‰çš„ç‰¹æ®Šå­—ç¬¦ï¼Œä¾‹å¦‚@&quot;/+=\n&quot;&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;NSString&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;characterSetStr&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;@&quot;?!@#$^&amp;amp;%*+,:;='&lt;/span&gt;&lt;span class=&quot;se&quot;&gt;\&quot;&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;`&amp;lt;&amp;gt;()[]{}/&lt;/span&gt;&lt;span class=&quot;se&quot;&gt;\\&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;| &quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;NSCharacterSet&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;characterSet&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;[[&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;NSCharacterSet&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;characterSetWithCharactersInString&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;characterSetStr&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;invertedSet&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;];&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;// è¿”å›è½¬ä¹‰åçš„å­—ç¬¦ä¸²&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;NSString&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;urlEncodeStr&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;userPhoneName&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;stringByAddingPercentEncodingWithAllowedCharacters&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;characterSet&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;];&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;NSLog&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;@&quot;UserPhoneName Encoding is %@&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;urlEncodeStr&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;

&lt;span class=&quot;c1&quot;&gt;// ç§»é™¤ç™¾åˆ†å·è½¬ä¹‰&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;NSString&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;removeEncodingStr&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;urlEncodeStr&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;stringByRemovingPercentEncoding&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;NSLog&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;@&quot;UserPhoneName removeEncoding is %@&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;removeEncodingStr&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;blockquote&gt;
  &lt;p&gt;æ‰“å°ç»“æœï¼š&lt;/p&gt;

  &lt;p&gt;UserPhoneName Encoding is abc%26%26%26%3F%3F%3Fdd%2A%2A%25%23%23%23%21%21%21&lt;/p&gt;

  &lt;p&gt;UserPhoneName removeEncoding is abc&amp;amp;&amp;amp;&amp;amp;???dd**%###!!!&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;&lt;strong&gt;å¤‡æ³¨ï¼š&lt;/strong&gt; ç»å†è¿™æ¬¡äº‹ä»¶ï¼Œåœ¨å¤„ç†ç‰¹æ®Šå­—ç¬¦é—®é¢˜ä¸Šç•™ä¸‹äº†æ·±åˆ»çš„å°è±¡ï¼Œæ— è®ºæ˜¯å¤„ç†ç”¨æˆ·è¾“å…¥ï¼Œè¿˜æ˜¯å–å€¼ç”¨æˆ·å­—ç¬¦ä¸²ï¼Œéƒ½ä¼šæ³¨æ„ç‰¹æ®Šå­—ç¬¦çš„è½¬ä¹‰é—®é¢˜äº†ã€‚&lt;/p&gt;

&lt;h2 id=&quot;-å…­å‚è€ƒé“¾æ¥&quot;&gt;&lt;a id=&quot;6_0&quot;&gt;&lt;/a&gt; å…­ã€å‚è€ƒé“¾æ¥&lt;/h2&gt;

&lt;p&gt;https://developer.apple.com/library/content/documentation/Cocoa/Conceptual/DataFormatting/Articles/dfDateFormatting10_4.html&lt;/p&gt;

&lt;p&gt;http://blog.leichunfeng.com/blog/2017/02/20/talking-about-the-decompression-of-the-image-in-ios/#jtss-tsina&lt;/p&gt;
</description>
        <pubDate>Thu, 25 Oct 2018 00:00:00 +0800</pubDate>
        <link>http://localhost:4000/2018/10/%E8%AE%B0%E4%B8%80%E4%BA%9B%E5%8D%B0%E8%B1%A1%E6%B7%B1%E5%88%BB%E7%9A%84-Bug/</link>
        <guid isPermaLink="true">http://localhost:4000/2018/10/%E8%AE%B0%E4%B8%80%E4%BA%9B%E5%8D%B0%E8%B1%A1%E6%B7%B1%E5%88%BB%E7%9A%84-Bug/</guid>
        
        <category>iOS</category>
        
        
      </item>
    
      <item>
        <title>cocoapods å‘å¸ƒåº“</title>
        <description>&lt;h2 id=&quot;å®‰è£…-cocoapods&quot;&gt;å®‰è£… cocoapods&lt;/h2&gt;

&lt;p&gt;é¦–æ¬¡å®‰è£… cocoapods å»ºè®®å‡çº§ Rubyï¼Œé˜²æ­¢ Ruby ç‰ˆæœ¬è¿‡ä½å‡ºç°çš„ä¸€äº›é”™è¯¯ã€‚&lt;/p&gt;

&lt;div class=&quot;language-ruby highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;c1&quot;&gt;# æŸ¥çœ‹å½“å‰ Ruby ç‰ˆæœ¬&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;ruby&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;v&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;# è”ç½‘å‡çº§ä¸º Ruby æœ€æ–°ç¨³å®šç‰ˆæœ¬ï¼Œéœ€è¦å‡ åˆ†é’Ÿæ—¶é—´&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;curl&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;no&quot;&gt;L&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;get&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;rvm&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;io&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;|&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;bash&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;s&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;stable&lt;/span&gt; 
&lt;span class=&quot;c1&quot;&gt;# æ¿€æ´»ç¯å¢ƒå˜é‡&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;source&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;~&lt;/span&gt;&lt;span class=&quot;sr&quot;&gt;/.bashrc
source ~/&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;bash_profile&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;# æŸ¥çœ‹å‡çº§åçš„ Ruby ç‰ˆæœ¬&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;ruby&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;v&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;æ›´æ¢å®‰è£…æºï¼ŒRuby å®˜æ–¹åº“ https://rubygems.org/ ä¸ºå›½å¤–æºï¼Œé€Ÿåº¦æ…¢ä¸”å¯èƒ½è¢«å¢™ï¼Œæ›´æ¢ä¸ºå›½å†…æºã€‚&lt;/p&gt;

&lt;div class=&quot;language-ruby highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;c1&quot;&gt;# æŸ¥çœ‹å½“å‰ Ruby æºï¼Œé¢„è®¡æ˜¾ç¤º https://rubygems.org/&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;gem&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;sources&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;l&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;# åˆ é™¤æº&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;gem&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;sources&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;--&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;remove&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;https&lt;/span&gt;&lt;span class=&quot;ss&quot;&gt;:/&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;rubygems&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;org&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;/&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;# æ·»åŠ æº&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;gem&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;sources&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;--&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;add&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;https&lt;/span&gt;&lt;span class=&quot;ss&quot;&gt;:/&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;gems&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;ruby&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;china&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;com&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;/&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;# æŸ¥çœ‹æ›´æ”¹å Ruby æº&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;gem&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;sources&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;l&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;å®‰è£… cocoapodsï¼ŒMac æ–°ç‰ˆç³»ç»Ÿï¼Œä¾‹å¦‚ Mojaveï¼Œç”±äºç›®å½•æƒé™æ”¹å˜ï¼Œå¿…é¡»å®‰è£…åˆ°ç”¨æˆ·ç›®å½•&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;/usr/local/bin&lt;/code&gt;ä¸‹ï¼Œæ—§çš„å®‰è£…æ–¹æ³•&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;sudo gem install cocoapods&lt;/code&gt;åœ¨æ–°ç³»ç»Ÿä¸Šä¼šæŠ¥é”™ã€‚&lt;/p&gt;

&lt;div class=&quot;language-ruby highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;c1&quot;&gt;# å°† cocoapods å®‰è£…åˆ° /usr/local/bin ç›®å½•ä¸‹&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;sudo&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;gem&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;install&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;n&lt;/span&gt; &lt;span class=&quot;sr&quot;&gt;/usr/&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;local&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;bin&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;cocoapods&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;# å®‰è£…æˆåŠŸåï¼ŒæŸ¥çœ‹ cocoapods &lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;pod&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;--&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;version&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;h2 id=&quot;ä½¿ç”¨-cocoapods&quot;&gt;ä½¿ç”¨ cocoapods&lt;/h2&gt;

&lt;p&gt;åˆ›å»º Podfile æ–‡ä»¶ï¼Œç¼–è¾‘å¡«å…¥éœ€è¦é›†æˆçš„ä¾èµ–åº“ã€‚&lt;/p&gt;

&lt;div class=&quot;language-ruby highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;c1&quot;&gt;# åˆ›å»º Podfileï¼ˆåˆ‡æ¢åˆ°å·¥ç¨‹ç›®å½•ä¸‹,æ²¡æœ‰åç¼€ï¼‰&lt;/span&gt;
&lt;span class=&quot;err&quot;&gt;$&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;touch&lt;/span&gt; &lt;span class=&quot;no&quot;&gt;Podfile&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;# æœç´¢éœ€è¦çš„æ¡†æ¶ï¼Œé‡Œé¢ä¼šæœ‰é›†æˆæ–¹æ³•ï¼Œä¾‹å¦‚ pod 'AFNetworking', '~&amp;gt; 3.2.1'&lt;/span&gt;
&lt;span class=&quot;err&quot;&gt;$&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;pod&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;search&lt;/span&gt; &lt;span class=&quot;no&quot;&gt;AFNetworking&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Podfile æ–‡ä»¶ç¤ºä¾‹å¦‚ä¸‹ï¼š&lt;/p&gt;

&lt;div class=&quot;language-ruby highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;c1&quot;&gt;# ä½¿ç”¨ Swift æˆ–å°†ä¸‹æ–¹ä¾èµ–ç¼–è¯‘åŠ¨æ€åº“&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;use_frameworks!&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;# è®¾ç½® iOS æœ€ä½å…¼å®¹ç‰ˆæœ¬&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;platform&lt;/span&gt; &lt;span class=&quot;ss&quot;&gt;:ios&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;'8.0'&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;# å½“å‰é¡¹ç›® Scheme&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;target&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;'MyScheme'&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;do&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;# ä¾èµ– AFNetworking æœ€æ–°ç‰ˆæœ¬ï¼Œpod updateä¼šæ›´æ–°&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;pod&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;'AFNetworking'&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;# æŒ‡å®š MBProgressHUD çš„ 1.1.0 ç‰ˆæœ¬ï¼Œpod updateä¸æ›´æ–°&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;pod&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;'MBProgressHUD'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;'1.1.0'&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;# ä¾èµ– SDWebImage çš„ 5.0 ä»¥ä¸Šå…¼å®¹ç‰ˆæœ¬ï¼Œä¸€èˆ¬è¡¨ç¤ºæ˜¯ä»¥ 5 å¼€å¤´ç‰ˆæœ¬ï¼Œpod updateä¼šæ›´æ–°&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;pod&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;'SDWebImage'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;'~&amp;gt; 5.0'&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;# ä¾èµ– FMDB çš„ 2.7.5 ä»¥ä¸Šå…¼å®¹ç‰ˆæœ¬ï¼Œè‹¥æœ‰è­¦å‘Šï¼Œéšè—è­¦å‘Š&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;pod&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;'FMDB'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;'~&amp;gt; 2.7.5'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;ss&quot;&gt;inhibit_warnings: &lt;/span&gt;&lt;span class=&quot;kp&quot;&gt;true&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;# ä¾èµ– YYText çš„ 1.0.7 ä»¥ä¸Šå…¼å®¹ç‰ˆæœ¬ï¼Œä¸éšè—è­¦å‘Š&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;pod&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;'YYText'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;'~&amp;gt; 1.0.7'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;ss&quot;&gt;inhibit_warnings: &lt;/span&gt;&lt;span class=&quot;kp&quot;&gt;false&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;end&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;ç¼–è¾‘å®Œæˆ Podfile å®Œæˆåï¼Œ&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;pod install&lt;/code&gt;å³å¯ï¼Œ&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;pod update&lt;/code&gt;ä¼šå‡çº§å·²å®‰è£…çš„åº“ã€‚&lt;/p&gt;

&lt;div class=&quot;language-ruby highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;c1&quot;&gt;# å®‰è£…ä¾èµ–åº“&lt;/span&gt;
&lt;span class=&quot;err&quot;&gt;$&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;pod&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;install&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;# å‡çº§å®‰è£…ä¾èµ–åº“ï¼ˆupdateåŒ…å«installï¼‰&lt;/span&gt;
&lt;span class=&quot;err&quot;&gt;$&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;pod&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;update&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;h2 id=&quot;åˆ›å»º-cocoapods-å‘å¸ƒé¡¹ç›®&quot;&gt;åˆ›å»º cocoapods å‘å¸ƒé¡¹ç›®&lt;/h2&gt;

&lt;p&gt;æ¨èä½¿ç”¨ cocoapods æ¨¡æ¿åˆ›å»ºï¼Œå¿«é€Ÿæ ‡å‡†ã€‚å®Œæ•´å‘½ä»¤å¦‚ä¸‹ï¼Œæœ‰é€‰é¡¹çš„å‘½ä»¤ä¼šåœ¨åé¢è§£é‡Šã€‚&lt;/p&gt;

&lt;div class=&quot;language-ruby highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;c1&quot;&gt;# åŸºäºæ¨¡æ¿å·¥ç¨‹ï¼Œåˆ›å»ºä¸€ä¸ªåç§°å« TestProj çš„é¡¹ç›®ï¼Œä¼šè¦æ±‚è¾“å…¥ä¸€äº›é€‰é¡¹&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;pod&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;lib&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;create&lt;/span&gt; &lt;span class=&quot;no&quot;&gt;TestProj&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;# åŸºäºæ¨¡æ¿å·¥ç¨‹ï¼Œå·²ç»ç”Ÿæˆäº† .podspec æ–‡ä»¶ï¼Œå…¶ä»–é¡¹ç›®å¯ç”¨æ­¤å‘½ä»¤åˆ›å»º&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;pod&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;spec&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;create&lt;/span&gt; &lt;span class=&quot;no&quot;&gt;TestProj&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;# .podspec æ–‡ä»¶åŠé¡¹ç›®ç¼–è¾‘å®Œæˆåï¼Œæœ¬åœ°éªŒè¯ï¼Œå¯æ ‡è®°ä½¿ç”¨é™æ€åº“å’Œå¿½ç•¥è­¦å‘Š&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;pod&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;lib&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;lint&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;# æœ¬åœ°éªŒè¯ï¼Œè‹¥é¡¹ç›®ä¾èµ–äº†é™æ€åº“ï¼Œå¿…é¡»åŠ ä¸Š--use-libraries&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;pod&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;lib&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;lint&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;--&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;use&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;libraries&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;# æœ¬åœ°éªŒè¯ï¼Œæœ‰è­¦å‘Šå¯¼è‡´éªŒè¯ä¸é€šè¿‡ï¼Œå¯ä½¿ç”¨--allow-warningsä½¿éªŒè¯é€šè¿‡&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;pod&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;lib&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;lint&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;--&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;use&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;libraries&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;--&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;allow&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;warnings&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;# åˆ›å»º tagï¼Œæ³¨æ„ tag å¿…é¡»å’Œ podspec æ–‡ä»¶ä¸­ s.version = '0.1.2' ä¸€è‡´&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;git&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;tag&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;'0.1.2'&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;# æ¨é€è‡³ GitHubï¼Œè‹¥æ­¤å‘½ä»¤æŠ¥é”™ï¼Œä½¿ç”¨ sourcetree æˆ–å…¶ä»–å·¥å…·æ¨é€æ¥å£&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;git&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;push&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;# è¿œç¨‹éªŒè¯ï¼Œå¯æ ‡è®°ä½¿ç”¨é™æ€åº“å’Œå¿½ç•¥è­¦å‘Š&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;pod&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;spec&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;lint&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;# è¿œç¨‹éªŒè¯ï¼Œè‹¥é¡¹ç›®ä¾èµ–äº†é™æ€åº“ï¼Œå¿…é¡»åŠ ä¸Š--use-libraries&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;pod&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;spec&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;lint&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;--&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;use&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;libraries&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;# è¿œç¨‹éªŒè¯ï¼Œæœ‰è­¦å‘Šå¯¼è‡´éªŒè¯ä¸é€šè¿‡ï¼Œå¯ä½¿ç”¨--allow-warningsä½¿éªŒè¯é€šè¿‡&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;pod&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;spec&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;lint&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;--&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;use&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;libraries&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;--&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;allow&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;warnings&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;# éªŒè¯æ— é”™è¯¯ï¼Œå‘å¸ƒé¡¹ç›®è‡³ cocoapods&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;pod&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;trunk&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;push&lt;/span&gt; &lt;span class=&quot;no&quot;&gt;TestProj&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;podspec&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;--&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;use&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;libraries&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;# å¦‚æœæƒ³åˆ é™¤å·²å‘å¸ƒåº“ï¼Œå¯ä½¿ç”¨ delete&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;pod&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;trunk&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;delete&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;podname&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;version&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;h3 id=&quot;åŸºäºæ¨¡æ¿åˆ›å»ºé¡¹ç›®&quot;&gt;åŸºäºæ¨¡æ¿åˆ›å»ºé¡¹ç›®&lt;/h3&gt;

&lt;p&gt;å‘½ä»¤&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;pod lib create TestProj&lt;/code&gt;ä¼šåˆ›å»ºä¸€ä¸ªåç§°ä¸º TestProj çš„é¡¹ç›®ï¼Œä¸€èˆ¬åç§°å’Œä½ å¾…å‘å¸ƒåº“çš„åç§°ç›¸åŒï¼Œæ­¤é¡¹ç›®åŸºäº cocoapods é¡¹ç›®æ¨¡æ¿ï¼Œæ–¹ä¾¿å¿«æ·å‘å¸ƒåº“ã€‚æ‰§è¡Œæ­¤å‘½ä»¤éœ€è¦è¾“å…¥ä¸€äº›é€‰é¡¹ã€‚&lt;/p&gt;

&lt;div class=&quot;language-ruby highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;c1&quot;&gt;# å‡†å¤‡åº”ç”¨åˆ°ä»€ä¹ˆå¹³å°&lt;/span&gt;
&lt;span class=&quot;no&quot;&gt;What&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;platform&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;do&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;you&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;want&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;to&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;use?&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;?&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;[&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;iOS&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;/&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;macOS&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;]&lt;/span&gt;
&lt;span class=&quot;o&quot;&gt;&amp;gt;&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;iOS&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;# å‡†å¤‡ä½¿ç”¨ä»€ä¹ˆè¯­è¨€&lt;/span&gt;
&lt;span class=&quot;no&quot;&gt;What&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;language&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;do&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;you&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;want&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;to&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;use?&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;?&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;[&lt;/span&gt; &lt;span class=&quot;no&quot;&gt;Swift&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;/&lt;/span&gt; &lt;span class=&quot;no&quot;&gt;ObjC&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;]&lt;/span&gt;
&lt;span class=&quot;o&quot;&gt;&amp;gt;&lt;/span&gt; &lt;span class=&quot;no&quot;&gt;ObjC&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;# æ˜¯å¦éœ€è¦ä¸ºä½ çš„åº“åŒ…å«ä¸€ä¸ª Demo é¡¹ç›®&lt;/span&gt;
&lt;span class=&quot;no&quot;&gt;Would&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;you&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;like&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;to&lt;/span&gt; &lt;span class=&quot;kp&quot;&gt;include&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;a&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;demo&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;application&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;with&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;your&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;library?&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;[&lt;/span&gt; &lt;span class=&quot;no&quot;&gt;Yes&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;/&lt;/span&gt; &lt;span class=&quot;no&quot;&gt;No&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;]&lt;/span&gt;
&lt;span class=&quot;o&quot;&gt;&amp;gt;&lt;/span&gt; &lt;span class=&quot;no&quot;&gt;Yes&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;# ä½ æƒ³é€‰æ‹©å“ªä¸€ä¸ªæµ‹è¯•æ¡†æ¶&lt;/span&gt;
&lt;span class=&quot;no&quot;&gt;Which&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;testing&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;frameworks&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;will&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;you&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;use?&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;[&lt;/span&gt; &lt;span class=&quot;no&quot;&gt;Specta&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;/&lt;/span&gt; &lt;span class=&quot;no&quot;&gt;Kiwi&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;/&lt;/span&gt; &lt;span class=&quot;no&quot;&gt;None&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;]&lt;/span&gt;
&lt;span class=&quot;o&quot;&gt;&amp;gt;&lt;/span&gt; &lt;span class=&quot;no&quot;&gt;None&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;# ä½ æƒ³è¦åšè§†å›¾å•å…ƒæµ‹è¯•å—&lt;/span&gt;
&lt;span class=&quot;no&quot;&gt;Would&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;you&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;like&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;to&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;do&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;view&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;based&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;testing?&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;[&lt;/span&gt; &lt;span class=&quot;no&quot;&gt;Yes&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;/&lt;/span&gt; &lt;span class=&quot;no&quot;&gt;No&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;]&lt;/span&gt;
&lt;span class=&quot;o&quot;&gt;&amp;gt;&lt;/span&gt; &lt;span class=&quot;no&quot;&gt;No&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;# ä½ çš„ç±»å‰ç¼€æ˜¯ä»€ä¹ˆï¼Œè‡ªå®šä¹‰ï¼Œè¾“å…¥ç©ºè¡¨ç¤ºæ²¡æœ‰å‰ç¼€&lt;/span&gt;
&lt;span class=&quot;no&quot;&gt;What&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;is&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;your&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;prefix?&lt;/span&gt;
&lt;span class=&quot;o&quot;&gt;&amp;gt;&lt;/span&gt; &lt;span class=&quot;no&quot;&gt;TP&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;åˆ›å»ºæˆåŠŸï¼Œè‡ªåŠ¨æ‰“å¼€é¡¹ç›®ï¼Œç¼–è¾‘é¡¹ç›®æœ€ä½å…¼å®¹ç‰ˆæœ¬ï¼Œè¯ä¹¦ç­‰é…ç½®ï¼Œç¼–è¯‘é¡¹ç›®é€šè¿‡ã€‚æœ€ä¸»è¦çš„æ–‡ä»¶æ˜¯ .podspec çš„æ–‡ä»¶çš„ç¼–è¾‘ï¼Œåˆ—ä¸¾å¿…é¡»å¸¸ç”¨çš„é¡¹ã€‚&lt;/p&gt;

&lt;div class=&quot;language-ruby highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;no&quot;&gt;Pod&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;::&lt;/span&gt;&lt;span class=&quot;no&quot;&gt;Spec&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;do&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;|&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;spec&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;|&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;# åº“åç§°ï¼Œå¿…é¡»å’Œ TestProj.podspec åç§°ä¸€è‡´&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;spec&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;name&lt;/span&gt;         &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;TestProj&quot;&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;# å¾…å‘å¸ƒåº“çš„ç‰ˆæœ¬ï¼Œé¦–æ¬¡éšæ„ï¼Œåé¢ä¾æ¬¡é€’å¢ï¼Œæ³¨æ„å’Œ tag åç§°ç›¸åŒ git tag '0.1.2'&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;spec&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;version&lt;/span&gt;      &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;0.1.2&quot;&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;# åº“çš„ç®€ä»‹&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;spec&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;summary&lt;/span&gt;      &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;è¿™é‡Œå†™åº“ TestProj çš„ç®€å•ä»‹ç»ã€‚&quot;&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;# åº“çš„è¯¦ç»†ä»‹ç»ï¼Œæ³¨æ„ï¼Œè¿™é‡Œæ–‡æœ¬é•¿åº¦å¤§äº spec.summaryï¼Œå¦åˆ™éªŒè¯æŠ¥é”™&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;spec&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;description&lt;/span&gt;  &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;&amp;lt;-&lt;/span&gt;&lt;span class=&quot;no&quot;&gt;DESC&lt;/span&gt;&lt;span class=&quot;sh&quot;&gt;
TestProj æ˜¯ä¸€ä¸ªç®€å•çš„åº“ï¼Œä½¿ç”¨ TestProj å¯å¿«é€Ÿå®ç°ä»€ä¹ˆåŠŸèƒ½ã€‚
&lt;/span&gt;&lt;span class=&quot;no&quot;&gt;DESC&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;# åº“çš„ä¸»é¡µpod search TestProjä¼šå±•ç¤ºHomepage: https://github.com/muzipiao/GMObjC&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;spec&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;homepage&lt;/span&gt;     &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;https://github.com/muzipiao/TestProj&quot;&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;# å¼€æºåè®®ï¼ŒæŒ‡å‘.podspec æ–‡ä»¶åŒçº§ç›®å½•ä¸‹çš„ LICENSE æ–‡ä»¶ï¼Œæ³¨æ„æ— åç¼€&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;spec&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;license&lt;/span&gt;      &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt; &lt;span class=&quot;ss&quot;&gt;:type&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;MIT&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;ss&quot;&gt;:file&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;LICENSE&quot;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;# åº“çš„ä½œè€…åŠé‚®ç®±&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;spec&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;author&lt;/span&gt;             &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;lifei&quot;&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;lifei_zdjl@126.com&quot;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;# åº“å…¼å®¹çš„æœ€ä½ç‰ˆæœ¬&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;spec&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;platform&lt;/span&gt;     &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;ss&quot;&gt;:ios&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;8.0&quot;&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;# å¦‚æœä¾èµ–äº†é™æ€åº“ framework æˆ– .a æ–‡ä»¶ï¼Œæ­¤é¡¹å¿…é¡»&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;spec&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;static_framework&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;kp&quot;&gt;true&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;# æŒ‡å‘çš„ Github åœ°å€åŠç‰ˆæœ¬&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;spec&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;source&lt;/span&gt;       &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt; &lt;span class=&quot;ss&quot;&gt;:git&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;https://github.com/muzipiao/TestProj.git&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;ss&quot;&gt;:tag&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;si&quot;&gt;#{&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;spec&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;version&lt;/span&gt;&lt;span class=&quot;si&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;# æºç ä½ç½®ï¼Œæ³¨æ„ podspec æ–‡ä»¶ä¸­è·¯å¾„å¿…é¡»ä¸ºå­è·¯å¾„ï¼Œä¸èƒ½å‘ä¸Šéå†çˆ¶è·¯å¾„ï¼Œä¾‹å¦‚ ../ ç­‰å†™æ³•&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;spec&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;source_files&lt;/span&gt;  &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;TestProj/Classes/**/*.{h,m}&quot;&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;# å¤´æ–‡ä»¶ä½ç½®ï¼Œæ³¨æ„ podspec æ–‡ä»¶ä¸­è·¯å¾„å¿…é¡»ä¸ºå­è·¯å¾„ï¼Œä¸èƒ½å‘ä¸Šéå†çˆ¶è·¯å¾„ï¼Œä¾‹å¦‚ ../ ç­‰å†™æ³•&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;spec&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;public_header_files&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;TestProj/Classes/**/*.h&quot;&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;# ä¾èµ–çš„ç³»ç»Ÿåº“ï¼Œä¾èµ–å•ä¸ªç”¨ .frameworkï¼Œå¤šä¸ªç”¨.frameworksï¼Œé€—å·éš”å¼€&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;spec&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;framework&lt;/span&gt;  &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;Foundation&quot;&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;# è‹¥ä¾èµ–å¤šä¸ªç³»ç»Ÿåº“ï¼Œä½¿ç”¨ .frameworksï¼Œåº“ä¹‹é—´é€—å·éš”å¼€&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;spec&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;frameworks&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;'Foundation'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;'UIKit'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;'AVFoundation'&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;# åº“æ˜¯å¦ä¾èµ– ARC&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;spec&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;requires_arc&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;kp&quot;&gt;true&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;# åº“ä¾èµ–çš„å…¶ä»–ä¸‰æ–¹åº“&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;spec&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;dependency&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;AFNetworking&quot;&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;# ä¾èµ–æœ¬åœ° framework&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;spec&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;vendored_frameworks&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;'Libs/MBProgressHUD.framework'&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;# é…ç½®å¤´æ–‡ä»¶æœç´¢è·¯å¾„&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;spec&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;xcconfig&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;'HEADER_SEARCH_PATHS'&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;'$(PROJECT_DIR)/Libs/MBProgressHUD.framework/Headers'&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;end&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;ç‰¹åˆ«æ³¨æ„ï¼špodspec æ–‡ä»¶ä¸­è·¯å¾„å¿…é¡»ä¸ºå­è·¯å¾„ï¼Œä¸èƒ½å‘ä¸Šéå†çˆ¶è·¯å¾„ã€‚&lt;/p&gt;

&lt;h2 id=&quot;å¸¸è§é”™è¯¯&quot;&gt;å¸¸è§é”™è¯¯&lt;/h2&gt;

&lt;h3 id=&quot;use_frameworks&quot;&gt;use_frameworks!&lt;/h3&gt;

&lt;p&gt;ä½¿ç”¨ Swift åº“çš„åŒå­¦å¿…é¡»åŠ ä¸Š&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;use_frameworks!&lt;/code&gt;ï¼Œè¿™ä¸ªæ ‡è®°æ˜¯ä¼šå°† Pod ç®¡ç†çš„ä¾èµ–å…¨éƒ¨ç¼–è¯‘ä¸ºåŠ¨æ€åº“ï¼Œéœ€æ³¨æ„é¡¹ç›®æœ€ä½å…¼å®¹ç‰ˆæœ¬éœ€è¦åœ¨ iOS8 ä»¥ä¸Šã€‚&lt;/p&gt;

&lt;h3 id=&quot;ä¾èµ–é™æ€åº“çš„é”™è¯¯&quot;&gt;ä¾èµ–é™æ€åº“çš„é”™è¯¯&lt;/h3&gt;

&lt;p&gt;å¦‚æœåº“ä¾èµ–é™æ€åº“ï¼Œå¿…é¡»åœ¨ .podspec çš„æ–‡ä»¶ä¸­é…ç½®&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;spec.static_framework = true&lt;/code&gt;ï¼Œå¦åˆ™ä¼šæŠ¥å¦‚ä¸‹é”™è¯¯&lt;/p&gt;

&lt;div class=&quot;language-ruby highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;o&quot;&gt;-&amp;gt;&lt;/span&gt; &lt;span class=&quot;no&quot;&gt;TestProj&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;mf&quot;&gt;0.1&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;o&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;no&quot;&gt;WARN&lt;/span&gt;  &lt;span class=&quot;o&quot;&gt;|&lt;/span&gt; &lt;span class=&quot;ss&quot;&gt;summary: &lt;/span&gt;&lt;span class=&quot;no&quot;&gt;The&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;summary&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;is&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;not&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;meaningful&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;
&lt;span class=&quot;nf&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;no&quot;&gt;ERROR&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;|&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;iOS&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;ss&quot;&gt;unknown: &lt;/span&gt;&lt;span class=&quot;no&quot;&gt;Encountered&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;an&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;unknown&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;error&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;no&quot;&gt;The&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;'Pods-App'&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;target&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;has&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;transitive&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;dependencies&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;that&lt;/span&gt; &lt;span class=&quot;kp&quot;&gt;include&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;static&lt;/span&gt; &lt;span class=&quot;ss&quot;&gt;binaries: &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;sr&quot;&gt;/private/&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;var&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;folders&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;pg&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;nbtf_x71135bgsk9844np9hr0000gn&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;no&quot;&gt;T&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;no&quot;&gt;CocoaPods&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;no&quot;&gt;Lint&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;20190308&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;57050&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;lhnm7v&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;no&quot;&gt;TestProj&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;no&quot;&gt;Pods&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;no&quot;&gt;Libs&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;no&quot;&gt;MBProgressHUD&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;framework&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;))&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;during&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;validation&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;
&lt;span class=&quot;nf&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;!&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;no&quot;&gt;TestProj&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;did&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;not&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;pass&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;validation&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;due&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;to&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;error&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;and&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;warning&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;
&lt;span class=&quot;no&quot;&gt;You&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;can&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;use&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;the&lt;/span&gt; &lt;span class=&quot;sb&quot;&gt;`--no-clean`&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;option&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;to&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;inspect&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;any&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;issue&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;h3 id=&quot;pod-search-æ€»æ˜¯å¤±è´¥&quot;&gt;pod search æ€»æ˜¯å¤±è´¥&lt;/h3&gt;

&lt;p&gt;å®‰è£… CocoaPods åï¼Œå¯ä»¥æ­£å¸¸ä½¿ç”¨ï¼Œä½†å‘ç°æ‰§è¡Œ&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;pod search&lt;/code&gt;æ¥æœç´¢ç±»åº“ä¿¡æ¯æ—¶ï¼Œå´æ€»æ˜¯å‡ºç°ç±»ä¼¼é”™è¯¯&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;[!] Unable to find a pod with name, author, summary, or descriptionmatching 'Â·Â·Â·Â·Â·Â·'&lt;/code&gt;ï¼Œå¯å°è¯•ä¸‹é¢çš„æ–¹æ³•ã€‚&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;åˆ é™¤ CocoaPods ç›®å½•&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;~/Library/Caches/CocoaPods/Pods/Release&lt;/code&gt;çš„ç¼“å­˜ï¼›&lt;/li&gt;
  &lt;li&gt;åˆ é™¤&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;~/Library/Caches/CocoaPods&lt;/code&gt;ç›®å½•ä¸‹çš„ search_index.json æ–‡ä»¶ï¼›&lt;/li&gt;
  &lt;li&gt;æ‰§è¡Œ&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;pod setup&lt;/code&gt;å‘½ä»¤ï¼Œä¼šè‡ªåŠ¨ä¸‹è½½æœ¬åœ°åº“ï¼Œæœ‰æ—¶é€Ÿåº¦è¾ƒæ…¢ã€‚&lt;/li&gt;
  &lt;li&gt;æ‰§è¡Œ&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;pod search AFNetworking&lt;/code&gt;ï¼Œæœç´¢ä»»æ„åº“ï¼Œä¼šé‡æ–°åˆ›å»ºç´¢å¼•ï¼Œé€Ÿåº¦è¾ƒæ…¢ã€‚&lt;/li&gt;
&lt;/ul&gt;
</description>
        <pubDate>Mon, 09 Jul 2018 00:00:00 +0800</pubDate>
        <link>http://localhost:4000/2018/07/cocoapods-%E5%8F%91%E5%B8%83%E5%BA%93/</link>
        <guid isPermaLink="true">http://localhost:4000/2018/07/cocoapods-%E5%8F%91%E5%B8%83%E5%BA%93/</guid>
        
        <category>iOS</category>
        
        
      </item>
    
      <item>
        <title>å®ä¸å†…è”å‡½æ•°</title>
        <description>&lt;h2 id=&quot;å®ä¸å†…è”å‡½æ•°åŒºåˆ«&quot;&gt;å®ä¸å†…è”å‡½æ•°åŒºåˆ«&lt;/h2&gt;

&lt;p&gt;åœ¨ iOS å¼€å‘ä¸­å®ä¼¼ä¹æ˜¯ä¸å¯ç¼ºå°‘çš„ï¼Œå°¤å…¶æ˜¯æ›¿æ¢ä¸€äº›é‡å¤æ–‡æœ¬å­—æ®µæ—¶ï¼Œç®€å•å®ç”¨ã€‚é‚£å†…è”å‡½æ•°å‘¢ï¼Œå¦‚æœä¸€äº›ç®€å•å´éœ€è¦é¢‘ç¹è°ƒç”¨çš„å‡½æ•°ï¼Œä¸æ–­åœ°æœ‰å‡½æ•°å…¥æ ˆï¼Œå³å‡½æ•°æ ˆï¼Œä¼šé€ æˆæ ˆç©ºé—´æˆ–æ ˆå†…å­˜çš„å¤§é‡æ¶ˆè€—ã€‚C++ è¯­è¨€ä¸ºäº†è§£å†³è¿™ä¸ªé—®é¢˜ï¼Œç‰¹åˆ«çš„å¼•å…¥äº† inline ä¿®é¥°ç¬¦ï¼Œè¡¨ç¤ºä¸ºå†…è”å‡½æ•°ï¼Œå†…è”æ‰©å±•æ˜¯ç”¨æ¥æ¶ˆé™¤å‡½æ•°è°ƒç”¨æ—¶çš„æ—¶é—´å¼€é”€ã€‚&lt;/p&gt;

&lt;p&gt;å®å®šä¹‰å’Œå†…è”å‡½æ•°æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿå¯¹æ¯”ä¸€ä¸‹ã€‚&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;å†…è”å‡½æ•°åœ¨ç¼–è¯‘æ—¶å±•å¼€ï¼Œå®åœ¨é¢„ç¼–è¯‘æ—¶å±•å¼€ï¼›&lt;/li&gt;
  &lt;li&gt;å†…è”å‡½æ•°ç›´æ¥åµŒå…¥åˆ°ç›®æ ‡ä»£ç ä¸­ï¼Œå®æ˜¯ç®€å•çš„åšæ–‡æœ¬æ›¿æ¢ï¼›&lt;/li&gt;
  &lt;li&gt;å†…è”å‡½æ•°æœ‰ç±»å‹æ£€æµ‹ã€è¯­æ³•åˆ¤æ–­ç­‰åŠŸèƒ½ï¼Œè€Œå®æ²¡æœ‰ï¼›&lt;/li&gt;
  &lt;li&gt;inlineå‡½æ•°æ˜¯å‡½æ•°ï¼Œå®ä¸æ˜¯ï¼›&lt;/li&gt;
  &lt;li&gt;å®å®šä¹‰æ—¶è¦æ³¨æ„ä¹¦å†™ï¼ˆå‚æ•°è¦æ‹¬èµ·æ¥ï¼‰å¦åˆ™å®¹æ˜“å‡ºç°æ­§ä¹‰ï¼Œå†…è”å‡½æ•°ä¸ä¼šäº§ç”Ÿæ­§ä¹‰ã€‚&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;å®æ¯”è¾ƒå®¹æ˜“ç†è§£ï¼Œè€Œå†…è”å‡½æ•°ä»æºä»£ç å±‚çœ‹ï¼Œæœ‰å‡½æ•°çš„ç»“æ„ï¼Œè€Œåœ¨ç¼–è¯‘åï¼Œå´ä¸å…·å¤‡å‡½æ•°çš„æ€§è´¨ã€‚å†…è”å‡½æ•°ä¸æ˜¯åœ¨è°ƒç”¨æ—¶å‘ç”Ÿæ§åˆ¶è½¬ç§»ï¼Œè€Œæ˜¯åœ¨ç¼–è¯‘æ—¶å°†å‡½æ•°ä½“åµŒå…¥åœ¨æ¯ä¸€ä¸ªè°ƒç”¨å¤„ã€‚ç¼–è¯‘æ—¶ï¼Œç±»ä¼¼å®æ›¿æ¢ï¼Œä½¿ç”¨å‡½æ•°ä½“æ›¿æ¢è°ƒç”¨å¤„çš„å‡½æ•°åã€‚&lt;/p&gt;

&lt;h2 id=&quot;å®&quot;&gt;å®&lt;/h2&gt;

&lt;p&gt;å®ä¼šåœ¨é¢„ç¼–è¯‘çš„æ—¶å€™ï¼Œå°†æ‰€æœ‰å‡ºç°å®åçš„åœ°æ–¹éƒ½æ›¿æ¢ä¸ºå®åå¯¹åº”å€¼ã€‚&lt;/p&gt;

&lt;h3 id=&quot;å®å®šä¹‰&quot;&gt;å®å®šä¹‰&lt;/h3&gt;

&lt;p&gt;å®å®šä¹‰æ—¶å‘½åä¸€èˆ¬ä¸ºå…¨éƒ¨å¤§å†™å¤šä¸ªå•è¯ä¸­ä½¿ç”¨_éš”å¼€æˆ–è€… k å¼€å¤´é©¼å³°æ ‡è¯†ã€‚å®å®šä¹‰åˆ†ä¸ºå¸¦å‚æ•°å’Œä¸å¸¦å‚æ•°ï¼Œä¸å¸¦å‚æ•°çš„å®è¾ƒç®€å•ï¼Œæ ¼å¼ä¸º&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;#define å®åç§° å®çš„å€¼&lt;/code&gt;ï¼Œå¸¦å‚æ•°çš„å®æ ¼å¼ä¸º&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;#define å®å(å‚æ•°åˆ—è¡¨) å‚æ•°è¡¨è¾¾å¼&lt;/code&gt;ã€‚&lt;/p&gt;

&lt;div class=&quot;language-objc highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;c1&quot;&gt;/// ä¸å¸¦å‚æ•°çš„å®ï¼Œå®åç§°ä¸å€¼ä¹‹é—´ç©ºæ ¼ä»»æ„&lt;/span&gt;
&lt;span class=&quot;cp&quot;&gt;#define TOTAL_NUM     8
#define kTotalNum     8
#define APP_VERSION   @&quot;8.0.0&quot;
#define GM_PUBKEY     @&quot;SdFTF3Y8fghjklfghjkl56789qpGfxogIDIoa6P47&quot;
#define HOME_URL      @&quot;https:\/\/www.baidu.com&quot;
#define kHomeURLCopy  HOME_URL
&lt;/span&gt;&lt;span class=&quot;c1&quot;&gt;/// å¸¦å‚æ•°çš„å®è¾ƒå¤æ‚ï¼Œæ³¨æ„å®åç§°ä¸()ä¹‹é—´ä¸å¯ä»¥æœ‰ç©ºæ ¼&lt;/span&gt;
&lt;span class=&quot;cp&quot;&gt;#define SUM(x,y) (x + y)
#define PF(x,y)  ((x) * (y))
&lt;/span&gt;&lt;span class=&quot;c1&quot;&gt;/// ç”¨äºç»ˆæ­¢å®å®šä¹‰çš„ä½œç”¨èŒƒå›´&lt;/span&gt;
&lt;span class=&quot;cp&quot;&gt;#undef TOTAL_NUM
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;æ³¨æ„ç‚¹ï¼š&lt;/p&gt;

&lt;ol&gt;
  &lt;li&gt;å®åä¸()ä¹‹é—´ä¸å¯ä»¥æœ‰ç©ºæ ¼ï¼›&lt;/li&gt;
  &lt;li&gt;å‚æ•°åˆ—è¡¨ä¸­ä¸å¯ä»¥æœ‰æ•°æ®ç±»å‹ï¼›&lt;/li&gt;
  &lt;li&gt;ä¸€èˆ¬æƒ…å†µä¸‹å‚æ•°è¡¨è¾¾å¼ä¸­çš„æ‰€æœ‰æˆå‘˜åŠç»“æœéƒ½éœ€è¦åŠ ä¸Š()ï¼›&lt;/li&gt;
  &lt;li&gt;è‹¥è¿ç®—æ¯”è¾ƒå¤æ‚è¿˜æ˜¯ä½¿ç”¨å‡½æ•°ã€‚&lt;/li&gt;
&lt;/ol&gt;

&lt;h3 id=&quot;å®æ¡ä»¶ç¼–è¯‘&quot;&gt;å®æ¡ä»¶ç¼–è¯‘&lt;/h3&gt;

&lt;p&gt;å› å®å±•å¼€å‘ç”Ÿåœ¨é¢„ç¼–è¯‘é˜¶æ®µï¼Œæ‰€ä»¥ä½¿ç”¨å®æ¡ä»¶ç¼–è¯‘ï¼Œå¯ä»¥è¯»å–ä¸åŒçš„é…ç½®ï¼Œæ¯”å¦‚åŒºåˆ†æµ‹è¯•ç¯å¢ƒå’Œç”Ÿäº§ç¯å¢ƒã€‚&lt;/p&gt;

&lt;div class=&quot;language-objc highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;c1&quot;&gt;/// #if æ¡ä»¶åˆ¤æ–­ï¼Œå½“åˆ¤æ–­æ¡ä»¶ &amp;gt; 0 æ—¶æˆç«‹&lt;/span&gt;
&lt;span class=&quot;cp&quot;&gt;#define kDebugSwitch 1
#if kDebugSwitch
&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;NSLog&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;@&quot;æ­¤æ—¶åˆ¤æ–­æ¡ä»¶ kDebugSwitch çš„å€¼ &amp;gt; 0&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
&lt;span class=&quot;cp&quot;&gt;#else
&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;NSLog&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;@&quot;æ­¤æ—¶åˆ¤æ–­æ¡ä»¶ kDebugSwitch çš„å€¼ &amp;lt;= 0&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
&lt;span class=&quot;cp&quot;&gt;#endif
&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;/// #ifdef æ¡ä»¶åˆ¤æ–­ï¼Œå½“å®šä¹‰äº†å®ï¼Œæ— è®ºå®ä¸ºä»»ä½•å€¼ï¼Œéƒ½æˆç«‹ï¼›æœªå®šä¹‰å®åˆ™ä¸æˆç«‹ã€‚&lt;/span&gt;
&lt;span class=&quot;cp&quot;&gt;#define kSW xxx
#ifdef kSW
&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;NSLog&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;err&quot;&gt;@â€œæ­¤æ—¶å®&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;kSW&lt;/span&gt; &lt;span class=&quot;err&quot;&gt;å®šä¹‰å­˜åœ¨ï¼Œä¸ç®¡&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;kSW&lt;/span&gt; &lt;span class=&quot;err&quot;&gt;ä¸ºä»»ä½•å€¼æˆ–è€…æ— å€¼â€&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
&lt;span class=&quot;cp&quot;&gt;#else
&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;NSLog&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;err&quot;&gt;@â€œæ­¤æ—¶å®&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;kSW&lt;/span&gt; &lt;span class=&quot;err&quot;&gt;æœªå®šä¹‰â€&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
&lt;span class=&quot;cp&quot;&gt;#endif
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;h2 id=&quot;å†…è”å‡½æ•°&quot;&gt;å†…è”å‡½æ•°&lt;/h2&gt;

&lt;p&gt;å†…è”å‡½æ•°æ˜¯ C++ ä¸­çš„ä¸€ç§ç‰¹æ®Šå‡½æ•°ï¼Œå®ƒå¯ä»¥åƒæ™®é€šå‡½æ•°ä¸€æ ·è¢«è°ƒç”¨ï¼Œä½†æ˜¯åœ¨è°ƒç”¨æ—¶å¹¶ä¸é€šè¿‡å‡½æ•°è°ƒç”¨çš„æœºåˆ¶ï¼Œè€Œæ˜¯é€šè¿‡å°†å‡½æ•°ä½“ç›´æ¥æ’å…¥è°ƒç”¨å¤„æ¥å®ç°çš„ï¼Œè¿™æ ·å¯ä»¥å¤§å¤§å‡å°‘ç”±å‡½æ•°è°ƒç”¨å¸¦æ¥çš„å¼€é”€ï¼Œä»è€Œæé«˜ç¨‹åºçš„è¿è¡Œæ•ˆç‡ã€‚ä¸€èˆ¬æ¥è¯´ inline ç”¨äºå®šä¹‰ç±»çš„æˆå‘˜å‡½æ•°ã€‚&lt;/p&gt;

&lt;h3 id=&quot;å†…è”å‡½æ•°ç‰¹ç‚¹&quot;&gt;å†…è”å‡½æ•°ç‰¹ç‚¹&lt;/h3&gt;

&lt;ol&gt;
  &lt;li&gt;å†…è”å‡½æ•°å¯å£°ååœ¨ä»»ä½•æ–‡ä»¶ä¸­ï¼Œä½†ä¸é€‚ç”¨å¤æ‚çš„é€»è¾‘ï¼Œä»¥ç©ºé—´æ¢å–é€Ÿåº¦ï¼Œå› ä¸ºå†…è”å‡½æ•°ä¼šåœ¨ä»»ä½•è°ƒç”¨å®ƒçš„åœ°æ–¹å±•å¼€ï¼Œå¤æ‚ä»£ç ä¼šä½¿ä»£ç è†¨èƒ€ï¼ˆå¤åˆ¶ä»£ç ï¼‰ï¼›&lt;/li&gt;
  &lt;li&gt;ä¸èƒ½åŒ…å«å¤æ‚çš„ç»“æ„æ§åˆ¶è¯­å¥ä¾‹å¦‚ whileã€switchï¼Œå¹¶ä¸”å†…è”å‡½æ•°æœ¬èº«ä¸èƒ½æ˜¯ç›´æ¥é€’å½’å‡½æ•°ï¼ˆè‡ªå·±å†…éƒ¨è¿˜è°ƒç”¨è‡ªå·±çš„å‡½æ•°ï¼‰ã€‚å¦‚æœåŒ…å«å¤æ‚çš„ç»“æ„æ§åˆ¶è¯­å¥ï¼Œåˆ™è§†ä¸ºæ™®é€šå‡½æ•°ã€‚åŸå› å¯èƒ½æ˜¯å¤æ‚ç»“æ„è¯­å¥å±•å¼€åä¼šå ç”¨è¿‡å¤šæ ˆç©ºé—´ï¼›&lt;/li&gt;
  &lt;li&gt;inline å­—æ®µå¿…é¡»ä¸å‡½æ•°ä½“æ”¾åœ¨ä¸€èµ·æ‰èƒ½æˆä¸ºå†…è”å‡½æ•°ï¼Œå£°åæ—¶æ”¾åœ¨ä¸€èµ·ä¸èµ·ä½œç”¨ã€‚&lt;/li&gt;
&lt;/ol&gt;

&lt;h3 id=&quot;å†…è”å‡½æ•°å®šä¹‰&quot;&gt;å†…è”å‡½æ•°å®šä¹‰&lt;/h3&gt;

&lt;p&gt;å†…è”å‡½æ•°çš„ä½¿ç”¨æ¯”è¾ƒç®€å•ï¼Œåªéœ€è¦åœ¨å£°æ˜æˆ–è€…å®šä¹‰å‡½æ•°æ—¶åœ¨å¤´éƒ¨åŠ ä¸Šinlineå…³é”®å­—å³å¯ï¼Œæ ¼å¼å¦‚ä¸‹:&lt;/p&gt;

&lt;div class=&quot;language-objc highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;kr&quot;&gt;inline&lt;/span&gt; &lt;span class=&quot;err&quot;&gt;è¿”å›å€¼ç±»å‹&lt;/span&gt; &lt;span class=&quot;err&quot;&gt;å‡½æ•°&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;err&quot;&gt;å‡½æ•°å‚æ•°&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;){&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;/// æ­¤å¤„å®šä¹‰å‡½æ•°ä½“&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;å…·ä½“ç¤ºä¾‹ï¼Œå®šä¹‰ä¸åŒå†…è”å‡½æ•°ã€‚&lt;/p&gt;

&lt;div class=&quot;language-objc highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;c1&quot;&gt;/// å°†å°ºå¯¸è½¬æ¢ä¸ºåƒç´ &lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;static&lt;/span&gt; &lt;span class=&quot;kr&quot;&gt;inline&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;CGFloat&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;TransToPixel&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;CGFloat&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;size&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;size&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;*&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;UIScreen&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;mainScreen&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;].&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;scale&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;

&lt;span class=&quot;c1&quot;&gt;/// å­—ç¬¦ä¸²åˆ¤ç©º&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;static&lt;/span&gt; &lt;span class=&quot;kr&quot;&gt;inline&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;NSString&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;*&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;_Nullable&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;AdvoidStr&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;NSString&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;*&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;_Nullable&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;str&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;str&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;length&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;gt;&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;str&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;@&quot;&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;

&lt;span class=&quot;c1&quot;&gt;/// è¯»å–è¯­è¨€é…ç½®çš„ç¤ºä¾‹&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;static&lt;/span&gt; &lt;span class=&quot;kr&quot;&gt;inline&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;NSDictionary&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;*&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;_Nullable&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;ReadDebugConfig&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;NSString&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;*&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;_Nullable&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;key&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;static&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;NSDictionary&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;configDict&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;nil&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;static&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;dispatch_once_t&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;onceToken&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;dispatch_once&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;amp;&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;onceToken&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;^&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;configDict&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;@{&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;@&quot;zh&quot;&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;@&quot;zh.plist&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
&lt;span class=&quot;s&quot;&gt;@&quot;en&quot;&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;@&quot;en.plist&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
&lt;span class=&quot;s&quot;&gt;@&quot;fr&quot;&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;@&quot;fr.plist&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;};&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;});&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;key&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;configDict&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;key&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;];&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;configDict&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

</description>
        <pubDate>Fri, 22 Jun 2018 00:00:00 +0800</pubDate>
        <link>http://localhost:4000/2018/06/%E5%AE%8F%E4%B8%8E%E5%86%85%E8%81%94%E5%87%BD%E6%95%B0/</link>
        <guid isPermaLink="true">http://localhost:4000/2018/06/%E5%AE%8F%E4%B8%8E%E5%86%85%E8%81%94%E5%87%BD%E6%95%B0/</guid>
        
        <category>iOS</category>
        
        
      </item>
    
      <item>
        <title>ZipperDown æ¼æ´ä¿®å¤</title>
        <description>&lt;p&gt;&lt;strong&gt;ZipperDownæ¼æ´&lt;/strong&gt;æ˜¯ç”±ç›˜å¤å®éªŒå®¤å‘ç°çš„ï¼Œè¯¥æ¼æ´æ˜¯ç›˜å¤å›¢é˜Ÿé’ˆå¯¹ä¸åŒå®¢æˆ·çš„iOSåº”ç”¨å®‰å…¨å®¡è®¡çš„è¿‡ç¨‹ä¸­å‘ç°çš„ï¼Œå¤§çº¦æœ‰10ï¼…çš„iOSåº”ç”¨ä¼šå—åˆ°æ­¤æ¼æ´çš„å½±å“ã€‚ç±»ä¼¼&lt;strong&gt;è§£å‹&lt;/strong&gt;ç­‰é€šç”¨åŠŸèƒ½çš„æ¼æ´ï¼Œä¸€ä¸ªå¹³å°çˆ†å‡ºäº†æ¼æ´ï¼Œå…¶ä»–å¹³å°å¾€å¾€ä¹Ÿå—åˆ°ç‰µè¿ï¼Œä¸ä¹…å‰Androidå¹³å°ä¸Šçš„unZipè§£å‹æ–‡ä»¶æ¼æ´ï¼Œå’Œè¿™ä¸ªæ¼æ´å‡ ä¹æ˜¯å®Œå…¨ä¸€æ ·ï¼Œåªæ˜¯å¹³å°å’Œç¬¬ä¸‰æ–¹è§£å‹åº“ä¸åŒè€Œå·²ã€‚&lt;/p&gt;

&lt;h2 id=&quot;å±å®³&quot;&gt;å±å®³&lt;/h2&gt;

&lt;p&gt;åˆ©ç”¨æ­¤æ¼æ´å¯ä»¥åšå¾ˆå¤šäº‹æƒ…ï¼Œä¾‹å¦‚å®ç°ç›®å½•éå†æ”»å‡»å’ŒAppæ²™ç›’ç›®å½•ä¸­ä»»æ„æ–‡ä»¶&lt;strong&gt;è¦†ç›–é£é™©&lt;/strong&gt;ï¼Œå½±å“ç©¶ç«Ÿæœ‰å¤šå¤§ï¼Œå–å†³äºå…·ä½“Appã€‚ä¾‹å¦‚ï¼Œå¦‚æœé›†æˆäº†&lt;strong&gt;çƒ­ä¿®å¤&lt;/strong&gt;ï¼Œä¸”æœªåšç›¸åº”çš„å®‰å…¨å¤„ç†ï¼Œé€šè¿‡è¦†ç›–çƒ­ä¿®å¤çš„JSä»£ç ï¼Œå¯ä»¥åœ¨&lt;strong&gt;éè¶Šç‹±çš„æ‰‹æœºä¸Š&lt;/strong&gt;è¾¾åˆ°ä¿®æ”¹æ‰§è¡Œæºç çš„ç›®çš„ã€‚&lt;/p&gt;

&lt;h2 id=&quot;åŸç†&quot;&gt;åŸç†&lt;/h2&gt;

&lt;p&gt;&lt;strong&gt;ZipperDownæ¼æ´&lt;/strong&gt;å¹¶é&lt;strong&gt;iOSå¹³å°è‡ªèº«&lt;/strong&gt;é—®é¢˜ï¼Œè€Œæ˜¯ä¸Zipæ–‡ä»¶è§£å‹æœ‰å…³ã€‚&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;iOSå¹³å°æ²¡æœ‰æä¾›&lt;strong&gt;å®˜æ–¹&lt;/strong&gt;è§£å‹ç±»åº“ï¼Œæ‰€ä»¥å¼€å‘ä¸­å¾€å¾€å¼•ç”¨&lt;strong&gt;ç¬¬ä¸‰æ–¹&lt;/strong&gt;åº“æ¥å®ç°è§£å‹åŠŸèƒ½ï¼›&lt;/li&gt;
  &lt;li&gt;ç”±äºç°æœ‰çš„iOS AppåŸºæœ¬ä¸Šé‡‡ç”¨SSZipArchiveæˆ–Ziparchiveæ¥å®ç°è§£å‹ï¼Œå› æ­¤æ¼æ´æ˜¯æ¥è‡ªä½¿ç”¨ç¬¬ä¸‰æ–¹Zipåº“è§£å‹Zipæ–‡ä»¶çš„è¿‡ç¨‹ä¸­æ²¡æœ‰å¯¹Zipå†…æ–‡ä»¶ååšæ ¡éªŒå¯¼è‡´çš„ï¼›&lt;/li&gt;
  &lt;li&gt;ä¾‹å¦‚ SSZipArchiveè§£å‹æ—¶ä¼šå§æ–‡ä»¶åç›´æ¥æ‹¼æ¥åˆ°ç›®æ ‡è·¯å¾„åé¢ï¼Œå¦‚æœæ–‡ä»¶åä¸­å«æœ‰â€œ../â€åˆ™å¯ä»¥å®ç°ç›®å½•çš„ä¸Šä¸€çº§è·³è½¬ï¼Œä»è€Œå®ç°åº”ç”¨å†…ä»»æ„ç›®å½•çš„è·³è½¬ï¼Œè¿›ä¸€æ­¥å¯ä»¥å®ç°æ–‡ä»¶è¦†ç›–ï¼›&lt;/li&gt;
  &lt;li&gt;å¦‚æœæŠŠAppçš„çƒ­ä¿®å¤hotpatchæ–‡ä»¶è¦†ç›–æ›¿æ¢äº†ï¼Œå¯ä»¥è¾¾åˆ°æ‰§è¡Œé»‘å®¢æŒ‡å®šæŒ‡ä»¤ï¼Œä»è€ŒæŒ‰ç…§é»‘å®¢çš„æ„å›¾å®ç°ä»»æ„åº”ç”¨å†…æ”»å‡»ã€‚&lt;/li&gt;
&lt;/ul&gt;

&lt;h2 id=&quot;æ”»å‡»æ¡ä»¶&quot;&gt;æ”»å‡»æ¡ä»¶&lt;/h2&gt;

&lt;ol&gt;
  &lt;li&gt;ä½¿ç”¨äº†SSZipArchiveæˆ–Ziparchiveç¬¬ä¸‰æ–¹è§£å‹åº“;&lt;/li&gt;
  &lt;li&gt;ZipåŒ…åœ¨è§£å‹æ—¶æ²¡æœ‰åšå®Œæ•´æ€§æ ¡éªŒ;&lt;/li&gt;
  &lt;li&gt;æ–‡ä»¶åä¸­åŒ…å«../ç­‰è·¯å¾„ç‰¹æ®Šç¬¦å·ï¼Œè§£å‹æ—¶æ²¡æœ‰å¯¹æ–‡ä»¶åè¿‡æ»¤å¤„ç†;&lt;/li&gt;
  &lt;li&gt;ä½¿ç”¨äº†JSPatchæˆ–å…¶ä»–çƒ­ä¿®å¤åº“ï¼Œä¸”æœ¬åœ°è„šæœ¬æ²¡æœ‰åŠ å¯†ç­‰å®‰å…¨å¤„ç†;&lt;/li&gt;
  &lt;li&gt;è¿æ¥ä¸å¯é çš„WIFIçƒ­ç‚¹æˆ–è€…ç½‘ç»œè¢«äººåŠ«æŒã€‚&lt;/li&gt;
&lt;/ol&gt;

&lt;blockquote&gt;
  &lt;p&gt;æ³¨ï¼šè‹¥Appæ²¡æœ‰ä½¿ç”¨çƒ­ä¿®å¤åŠŸèƒ½ï¼Œå¹¶ä¸”åœ¨æ²™ç›’æ–‡ä»¶ä¸­æ²¡æœ‰ä¿å­˜é‡è¦çš„é…ç½®/ä¿¡æ¯ï¼Œåˆ™å¯å¿½ç•¥æ­¤æ¼æ´ã€‚&lt;/p&gt;
&lt;/blockquote&gt;

&lt;h2 id=&quot;ä¿®å¤&quot;&gt;ä¿®å¤&lt;/h2&gt;

&lt;p&gt;iOSç«¯ä¿®å¤å¾ˆç®€å•ï¼Œä¸‹è½½æ–‡ä»¶æˆåŠŸåï¼Œè§£å‹æ–‡ä»¶æ—¶ï¼Œä¸ç”¨&lt;strong&gt;ç½‘ç»œä¼ è¾“&lt;/strong&gt;è¿‡æ¥çš„æ–‡ä»¶åç§°ï¼Œæˆ–è€…å°†æ–‡ä»¶åä¸­çš„&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;./&lt;/code&gt;ç­‰ç‰¹æ®Šç¬¦å·å…¨éƒ¨éƒ½&lt;strong&gt;è¿‡æ»¤æ›¿æ¢æ‰&lt;/strong&gt;å°±å¯ä»¥äº†ã€‚&lt;/p&gt;

&lt;h2 id=&quot;demoæ¼”ç¤º&quot;&gt;Demoæ¼”ç¤º&lt;/h2&gt;

&lt;ol&gt;
  &lt;li&gt;å‡è®¾æˆ‘ä»¬Appä½¿ç”¨äº†çƒ­ä¿®å¤ï¼Œçƒ­ä¿®å¤æ–‡ä»¶æ”¾åœ¨æ²™ç›’çš„library/Caches/jspatch/hot.js(hot.jså†…å®¹ä¸º &lt;strong&gt;jjjjjjjjjj&lt;/strong&gt;);&lt;/li&gt;
  &lt;li&gt;æˆ‘ä»¬éœ€è¦ä»è¿™ä¸ªé“¾æ¥(&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;https://raw.githubusercontent.com/muzipiao/CommonResource/master/zip/hot.zip&lt;/code&gt;)ä¸‹è½½ä¸€ä¸ªåŒ…å«å›¾ç‰‡çš„ZIPæ–‡ä»¶ï¼Œä¸‹è½½è§£å‹çš„ç›®æ ‡è·¯å¾„ä¸ºlibrary/Caches/zip/default;&lt;/li&gt;
  &lt;li&gt;é»‘å®¢é€šè¿‡æ›¿æ¢å‹ç¼©åŒ…ï¼Œå°†å‹ç¼©åŒ…ä¸­å†…å®¹æ›¿æ¢ä¸ºå‡çš„hot.js(hot.jså†…å®¹ä¸º &lt;strong&gt;hack hack hack&lt;/strong&gt;)ï¼Œå¹¶å°†å‹ç¼©é‡å‘½åä¸º&lt;strong&gt;../jspatch&lt;/strong&gt;ï¼›&lt;/li&gt;
  &lt;li&gt;æˆ‘ä»¬ä¸‹è½½è§£å‹åå‘ç°ï¼ŒJSçƒ­ä¿®å¤æ–‡ä»¶(library/Caches/jspatch/hot.js)å†…å®¹å˜æˆäº†&lt;strong&gt;hack hack hack&lt;/strong&gt;ï¼›&lt;/li&gt;
  &lt;li&gt;å¦‚æœä½¿ç”¨çš„æ˜¯Httpï¼Œå¯ä»¥é€šè¿‡&lt;strong&gt;charles&lt;/strong&gt;ä»£ç†æŠ“åŒ…æ›¿æ¢æ¥è¾¾åˆ°æ¨¡æ‹Ÿçš„ç›®çš„ï¼Œè¿™é‡Œæˆ‘ä»¬é€šè¿‡æ‰‹åŠ¨ä¿®æ”¹å‹ç¼©åŒ…åç§°æ¥æ¨¡æ‹Ÿã€‚&lt;/li&gt;
&lt;/ol&gt;

&lt;h2 id=&quot;æ”»å‡»ç¤ºæ„å›¾&quot;&gt;æ”»å‡»ç¤ºæ„å›¾&lt;/h2&gt;

&lt;p&gt;&lt;img src=&quot;/images/posts/zipperdown/ZipperDownImg1.png&quot; alt=&quot;æ”»å‡»ç¤ºæ„å›¾&quot; /&gt;&lt;/p&gt;

&lt;h2 id=&quot;ä»£ç ç¤ºä¾‹&quot;&gt;ä»£ç ç¤ºä¾‹&lt;/h2&gt;

&lt;pre&gt;&lt;code class=&quot;language-Objective-C&quot;&gt;//----------------------è§£å‹ç¼©ç¤ºä¾‹------------------------
//ç½‘ç»œèµ„æºzipåœ°å€
NSString *zipFileURLPath = [filePath path];
//library/Caches/æ²¡æœ‰zipæ–‡ä»¶å¤¹åˆ™åˆ›å»ºzipæ–‡ä»¶å¤¹
NSString *cachePath = [NSSearchPathForDirectoriesInDomains(NSCachesDirectory, NSUserDomainMask, YES) lastObject];
NSString *zipPath = [cachePath stringByAppendingPathComponent:@&quot;zip&quot;];
//æˆ‘ä»¬ç›´æ¥å­˜åˆ°æ–‡ä»¶å¤¹ä¸‹ï¼Œè‹¥fileNameå«æœ‰../å­—ç¬¦ä¸²ï¼Œé€šè¿‡æ‹¼æ¥ç»„åˆåˆ™å¯ä»¥æ‰“å¼€ä»»æ„ç›®å½•æ–‡ä»¶
NSString *desPath = [NSString stringWithFormat:@&quot;%@/%@&quot;,zipPath,fileName];
//è§£å‹æ–°çš„å‹ç¼©æ–‡ä»¶ï¼Œå¯èƒ½ä¼šè¦†ç›–æ‰åŸæœ‰æ–‡ä»¶
BOOL isSuccess = [SSZipArchive unzipFileAtPath:zipFileURLPath toDestination:desPath];
// å‹ç¼©
if (isSuccess) {
NSLog(@&quot;è§£å‹ç¼©æˆåŠŸ&quot;);
}else{
NSLog(@&quot;è§£å‹ç¼©å¤±è´¥&quot;);
}
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;å¦‚æœæ‚¨è§‰å¾—æœ‰æ‰€å¸®åŠ©ï¼Œè¯·åœ¨&lt;a href=&quot;https://github.com/muzipiao/ZipperDownDemo&quot;&gt;ZipperDownDemo&lt;/a&gt;ä¸Šèµä¸ªStar â­ï¸ï¼Œæ‚¨çš„é¼“åŠ±æ˜¯æˆ‘å‰è¿›çš„åŠ¨åŠ›&lt;/p&gt;

&lt;p&gt;å‚è€ƒï¼š&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;https://blog.csdn.net/yidunmarket/article/details/80359004&lt;/code&gt;&lt;/p&gt;
</description>
        <pubDate>Tue, 05 Jun 2018 00:00:00 +0800</pubDate>
        <link>http://localhost:4000/2018/06/ZipperDown-%E6%BC%8F%E6%B4%9E%E4%BF%AE%E5%A4%8D/</link>
        <guid isPermaLink="true">http://localhost:4000/2018/06/ZipperDown-%E6%BC%8F%E6%B4%9E%E4%BF%AE%E5%A4%8D/</guid>
        
        <category>ZipperDown</category>
        
        
      </item>
    
      <item>
        <title>iOS ç»„ä»¶åŒ–æ–¹æ¡ˆé€‰å‹</title>
        <description>&lt;ul&gt;
  &lt;li&gt;&lt;a href=&quot;#1_0&quot;&gt;ä¸€ã€ç»„ä»¶åŒ–æ¦‚å¿µ&lt;/a&gt;
    &lt;ul&gt;
      &lt;li&gt;&lt;a href=&quot;#1_1&quot;&gt;1.1ã€é¡¹ç›®ç›®å‰ç°çŠ¶&lt;/a&gt;&lt;/li&gt;
      &lt;li&gt;&lt;a href=&quot;#1_2&quot;&gt;1.2ã€è§£å†³æ–¹æ¡ˆ&lt;/a&gt;&lt;/li&gt;
      &lt;li&gt;&lt;a href=&quot;#1_3&quot;&gt;1.3ã€æ­£ç¡®çš„ç»„ä»¶åŒ–è§£è€¦&lt;/a&gt;&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;#2_0&quot;&gt;äºŒã€ç»„ä»¶åŒ–ä¸»æµæ–¹æ¡ˆ&lt;/a&gt;
    &lt;ul&gt;
      &lt;li&gt;&lt;a href=&quot;#2_1&quot;&gt;2.1ã€url-block (ä»£è¡¨ï¼šè˜‘è‡è¡—ç»„ä»¶åŒ–æ–¹æ¡ˆMGJRouter)&lt;/a&gt;&lt;/li&gt;
      &lt;li&gt;&lt;a href=&quot;#2_2&quot;&gt;2.2ã€Protocolæ–¹æ¡ˆ(ä»£è¡¨ï¼šé˜¿é‡Œçš„BeeHive)&lt;/a&gt;&lt;/li&gt;
      &lt;li&gt;&lt;a href=&quot;#2_3&quot;&gt;2.3ã€Target-Actionæ–¹æ¡ˆ(casatwyç»„ä»¶åŒ–æ–¹æ¡ˆ)&lt;/a&gt;&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;#3_0&quot;&gt;ä¸‰ã€ç»„ä»¶åŒ–æ–¹æ¡ˆå¯¹æ¯”&lt;/a&gt;
    &lt;ul&gt;
      &lt;li&gt;&lt;a href=&quot;#3_1&quot;&gt;3.1ã€url-blockæ–¹å¼&lt;/a&gt;&lt;/li&gt;
      &lt;li&gt;&lt;a href=&quot;#3_2&quot;&gt;3.2ã€Protocolæ–¹æ¡ˆ&lt;/a&gt;&lt;/li&gt;
      &lt;li&gt;&lt;a href=&quot;#3_3&quot;&gt;3.3ã€Target_Actionæ–¹æ¡ˆ&lt;/a&gt;&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;#4_0&quot;&gt;å››ã€ç»„ä»¶åŒ–å®ç°åŸåˆ™&lt;/a&gt;
    &lt;ul&gt;
      &lt;li&gt;&lt;a href=&quot;#4_1&quot;&gt;4.1ã€æŠ½è±¡åŒ–åŸåˆ™&lt;/a&gt;&lt;/li&gt;
      &lt;li&gt;&lt;a href=&quot;#4_2&quot;&gt;4.2ã€ç¨³å®šæ€§åŸåˆ™&lt;/a&gt;&lt;/li&gt;
      &lt;li&gt;&lt;a href=&quot;#4_3&quot;&gt;4.3ã€è‡ªå¤‡æ€§å®Œæ•´&lt;/a&gt;&lt;/li&gt;
      &lt;li&gt;&lt;a href=&quot;#4_4&quot;&gt;4.4ã€ä¸è¦è®©Commonå‡ºç°&lt;/a&gt;&lt;/li&gt;
      &lt;li&gt;&lt;a href=&quot;#4_5&quot;&gt;4.5ã€ä¸šåŠ¡æ¨¡å—çœŸæ­£è§£è€¦&lt;/a&gt;&lt;/li&gt;
      &lt;li&gt;&lt;a href=&quot;#4_6&quot;&gt;4.6ã€å•å‘ä¾èµ–&lt;/a&gt;&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;#5_0&quot;&gt;äº”ã€ç»„ä»¶åŒ–å…·ä½“å®æ–½æ­¥éª¤&lt;/a&gt;
    &lt;ul&gt;
      &lt;li&gt;&lt;a href=&quot;#5_1&quot;&gt;5.1ã€ç»„ä»¶åŒ–ç¬¬ä¸€æ­¥ï¼Œå‰¥ç¦»äº§å“å…¬å…±åº“å’ŒåŸºç¡€åº“&lt;/a&gt;&lt;/li&gt;
      &lt;li&gt;&lt;a href=&quot;#5_2&quot;&gt;5.2ã€ç»„ä»¶åŒ–ç¬¬äºŒæ­¥ï¼Œç‹¬ç«‹ä¸šåŠ¡æ¨¡å—å•ç‹¬æˆåº“&lt;/a&gt;&lt;/li&gt;
      &lt;li&gt;&lt;a href=&quot;#5_3&quot;&gt;5.3ã€ç»„ä»¶åŒ–ç¬¬ä¸‰æ­¥ï¼Œå¯¹å¤–æœåŠ¡æœ€å°åŒ–&lt;/a&gt;&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;#6_0&quot;&gt;å…­ã€æ€»ç»“&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;#7_0&quot;&gt;ä¸ƒã€å‚è€ƒ&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;h2 id=&quot;-ä¸€ç»„ä»¶åŒ–æ¦‚å¿µ&quot;&gt;&lt;a id=&quot;1_0&quot;&gt;&lt;/a&gt; ä¸€ã€ç»„ä»¶åŒ–æ¦‚å¿µ&lt;/h2&gt;

&lt;h3 id=&quot;-11é¡¹ç›®ç›®å‰ç°çŠ¶&quot;&gt;&lt;a id=&quot;1_1&quot;&gt;&lt;/a&gt; 1.1ã€é¡¹ç›®ç›®å‰ç°çŠ¶&lt;/h3&gt;
&lt;ul&gt;
  &lt;li&gt;å„æ¨¡å—ç›´æ¥è°ƒç”¨ï¼Œè€¦åˆä¸¥é‡ã€‚ä¸šåŠ¡æ¨¡å—é—´åˆ’åˆ†ä¸æ¸…æ™°ï¼Œç›¸äº’å¼•ç”¨ï¼Œæ¨¡å—ä¹‹é—´è€¦åˆåº¦å¾ˆå¤§ï¼Œéå¸¸éš¾ç»´æŠ¤ã€‚&lt;/li&gt;
  &lt;li&gt;æ‰€æœ‰æ¨¡å—ä»£ç éƒ½ç¼–å†™åœ¨ä¸€ä¸ªé¡¹ç›®ä¸­ï¼Œæµ‹è¯•æŸä¸ªæ¨¡å—æˆ–åŠŸèƒ½ï¼Œéœ€è¦ç¼–è¯‘è¿è¡Œæ•´ä¸ªé¡¹ç›®ï¼Œä¸èƒ½ç‹¬ç«‹è¿è¡Œã€‚&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;&lt;img src=&quot;/images/posts/module/1.1.png&quot; alt=&quot;è€¦åˆä¸¥é‡&quot; /&gt;&lt;/p&gt;

&lt;h3 id=&quot;-12è§£å†³æ–¹æ¡ˆ&quot;&gt;&lt;a id=&quot;1_2&quot;&gt;&lt;/a&gt; 1.2ã€è§£å†³æ–¹æ¡ˆ&lt;/h3&gt;
&lt;ul&gt;
  &lt;li&gt;æ‰€æœ‰çš„æ¨¡å—é—´çš„è°ƒç”¨éƒ½ä¼šç»è¿‡ä¸­é—´å±‚ä¸­è½¬(å‚è€ƒRouter)ï¼Œä½†æ˜¯å‘ç°å¢åŠ è¿™ä¸ªä¸­é—´å±‚åï¼Œè€¦åˆè¿˜æ˜¯å­˜åœ¨çš„ã€‚&lt;/li&gt;
  &lt;li&gt;ä¸­é—´å±‚å¯¹è¢«è°ƒç”¨æ¨¡å—å­˜åœ¨è€¦åˆï¼Œå…¶ä»–æ¨¡å—ä¹Ÿéœ€è¦è€¦åˆä¸­é—´å±‚æ‰èƒ½å‘èµ·è°ƒç”¨ã€‚è¿™æ ·è¿˜æ˜¯å­˜åœ¨ä¹‹å‰çš„ç›¸äº’è€¦åˆçš„é—®é¢˜ï¼Œè™½ç„¶å¯è§£å†³äº†ç»Ÿä¸€è°ƒç”¨çš„é—®é¢˜ï¼Œè€Œä¸”æœ¬è´¨ä¸Šæ¯”ä¹‹å‰æ›´éº»çƒ¦äº†ã€‚&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;&lt;img src=&quot;/images/posts/module/1.2.png&quot; alt=&quot;é”™è¯¯è§£è€¦&quot; /&gt;&lt;/p&gt;

&lt;h3 id=&quot;-13æ­£ç¡®çš„ç»„ä»¶åŒ–è§£è€¦&quot;&gt;&lt;a id=&quot;1_3&quot;&gt;&lt;/a&gt; 1.3ã€æ­£ç¡®çš„ç»„ä»¶åŒ–è§£è€¦&lt;/h3&gt;
&lt;ul&gt;
  &lt;li&gt;æ­£ç¡®çš„è§£è€¦åº”è¯¥æ˜¯ï¼Œåªè®©å…¶ä»–æ¨¡å—å¯¹ä¸­é—´å±‚äº§ç”Ÿè€¦åˆå…³ç³»ï¼Œä¸­é—´å±‚ä¸å¯¹å…¶ä»–æ¨¡å—å‘ç”Ÿè€¦åˆã€‚&lt;/li&gt;
  &lt;li&gt;å¯¹äºè¿™ä¸ªé—®é¢˜ï¼Œå¯ä»¥é‡‡ç”¨ç»„ä»¶åŒ–çš„æ¶æ„ï¼Œå°†æ¯ä¸ªæ¨¡å—ä½œä¸ºä¸€ä¸ªç»„ä»¶ã€‚å¹¶ä¸”å»ºç«‹ä¸€ä¸ªä¸»é¡¹ç›®ï¼Œè¿™ä¸ªä¸»é¡¹ç›®è´Ÿè´£é›†æˆæ‰€æœ‰ç»„ä»¶ã€‚&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;&lt;img src=&quot;/images/posts/module/1.3.png&quot; alt=&quot;æ­£ç¡®è§£è€¦&quot; /&gt;&lt;/p&gt;

&lt;h2 id=&quot;-äºŒç»„ä»¶åŒ–ä¸»æµæ–¹æ¡ˆ&quot;&gt;&lt;a id=&quot;2_0&quot;&gt;&lt;/a&gt; äºŒã€ç»„ä»¶åŒ–ä¸»æµæ–¹æ¡ˆ&lt;/h2&gt;

&lt;h3 id=&quot;-21url-block-ä»£è¡¨è˜‘è‡è¡—ç»„ä»¶åŒ–æ–¹æ¡ˆmgjrouter&quot;&gt;&lt;a id=&quot;2_1&quot;&gt;&lt;/a&gt; 2.1ã€url-block (ä»£è¡¨ï¼šè˜‘è‡è¡—ç»„ä»¶åŒ–æ–¹æ¡ˆMGJRouter)&lt;/h3&gt;
&lt;p&gt;&lt;strong&gt;è˜‘è‡è¡—é€šè¿‡&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;MGJRouter&lt;/code&gt;å®ç°ä¸­é—´å±‚ï¼Œé€šè¿‡MGJRouterè¿›è¡Œç»„ä»¶é—´çš„æ¶ˆæ¯è½¬å‘ï¼Œä»åå­—ä¸Šæ¥è¯´æ›´åƒæ˜¯è·¯ç”±å™¨ã€‚å®ç°æ–¹å¼å¤§è‡´æ˜¯ï¼Œåœ¨æä¾›æœåŠ¡çš„ç»„ä»¶ä¸­æå‰æ³¨å†Œblockï¼Œç„¶ååœ¨è°ƒç”¨æ–¹ç»„ä»¶ä¸­é€šè¿‡URLè°ƒç”¨blockï¼Œä¸‹é¢æ˜¯è°ƒç”¨æ–¹å¼ã€‚&lt;/strong&gt;&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;&lt;strong&gt;æ¶æ„è®¾è®¡&lt;/strong&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;&lt;img src=&quot;/images/posts/module/2.1.png&quot; alt=&quot;æ¶æ„è®¾è®¡&quot; /&gt;&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;&lt;strong&gt;MGJRouterç»„ä»¶åŒ–æ¶æ„&lt;/strong&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;&lt;img src=&quot;/images/posts/module/2.1_1.png&quot; alt=&quot;æ¶æ„è®¾è®¡&quot; /&gt;&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;MGJRouteræ˜¯ä¸€ä¸ª&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;å•ä¾‹å¯¹è±¡&lt;/code&gt;ï¼Œåœ¨å…¶å†…éƒ¨ç»´æŠ¤ç€ä¸€ä¸ª&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;â€œURL -&amp;gt; blockâ€&lt;/code&gt;æ ¼å¼çš„æ³¨å†Œè¡¨ï¼Œé€šè¿‡è¿™ä¸ªæ³¨å†Œè¡¨æ¥ä¿å­˜æœåŠ¡æ–¹æ³¨å†Œçš„blockï¼Œä»¥åŠä½¿è°ƒç”¨æ–¹å¯ä»¥é€šè¿‡URLæ˜ å°„å‡ºblockï¼Œå¹¶é€šè¿‡MGJRouterå¯¹æœåŠ¡æ–¹å‘èµ·è°ƒç”¨ã€‚&lt;/li&gt;
  &lt;li&gt;åœ¨ç¨‹åºå¼€å§‹è¿è¡Œæ—¶ï¼Œéœ€è¦å°†æ‰€æœ‰æœåŠ¡æ–¹çš„æ¥å£ç±»å®ä¾‹åŒ–ï¼Œä»¥å®Œæˆè¿™ä¸ªæ³¨å†Œå·¥ä½œï¼Œä½¿MGJRouterä¸­æ‰€æœ‰æœåŠ¡æ–¹çš„blockå¯ä»¥æ­£å¸¸æä¾›æœåŠ¡ã€‚åœ¨è¿™ä¸ªæœåŠ¡æ³¨å†Œå®Œæˆåï¼Œå°±å¯ä»¥è¢«è°ƒç”¨æ–¹è°ƒèµ·å¹¶æä¾›æœåŠ¡ã€‚&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;&lt;strong&gt;2.1.1 ã€MGJRouterè°ƒç”¨ï¼Œä»£ç æ¨¡æ‹Ÿå¯¹è¯¦æƒ…é¡µçš„æ³¨å†Œã€è°ƒç”¨ï¼Œåœ¨è°ƒç”¨è¿‡ç¨‹ä¸­ä¼ é€’idå‚æ•°ã€‚ä¸‹é¢æ˜¯æ³¨å†Œçš„ç¤ºä¾‹ä»£ç ã€‚&lt;/strong&gt;&lt;/p&gt;

&lt;pre&gt;&lt;code class=&quot;language-Objective-C&quot;&gt;[MGJRouter registerURLPattern:@&quot;mgj://detail?id=id&quot; toHandler:^(NSDictionary *routerParameters) {
// ä¸‹é¢å¯ä»¥åœ¨æ‹¿åˆ°å‚æ•°åï¼Œä¸ºå…¶ä»–ç»„ä»¶æä¾›å¯¹åº”çš„æœåŠ¡
NSString uid = routerParameters[@&quot;id&quot;];
}];
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;&lt;strong&gt;2.1.2ã€é€šè¿‡openURL:æ–¹æ³•ä¼ å…¥çš„URLå‚æ•°ï¼Œå¯¹è¯¦æƒ…é¡µå·²ç»æ³¨å†Œçš„blockæ–¹æ³•å‘èµ·è°ƒç”¨ã€‚è°ƒç”¨æ–¹å¼ç±»ä¼¼äºGETè¯·æ±‚ï¼ŒURLåœ°å€åé¢æ‹¼æ¥å‚æ•°ã€‚&lt;/strong&gt;&lt;/p&gt;

&lt;pre&gt;&lt;code class=&quot;language-Objective-C&quot;&gt;[MGJRouter openURL:@&quot;mgj://detail?id=404&quot;];
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;&lt;strong&gt;2.1.3ã€ä¹Ÿå¯ä»¥é€šè¿‡å­—å…¸æ–¹å¼ä¼ å‚ï¼ŒMGJRouteræä¾›äº†å¸¦æœ‰å­—å…¸å‚æ•°çš„æ–¹æ³•ï¼Œè¿™æ ·å°±å¯ä»¥ä¼ é€’éå­—ç¬¦ä¸²ä¹‹å¤–çš„å…¶ä»–ç±»å‹å‚æ•°ã€‚&lt;/strong&gt;&lt;/p&gt;

&lt;pre&gt;&lt;code class=&quot;language-Objective-C&quot;&gt;[MGJRouter openURL:@&quot;mgj://detail?&quot; withParam:@{@&quot;id&quot; : @&quot;404&quot;}];
&lt;/code&gt;&lt;/pre&gt;

&lt;ul&gt;
  &lt;li&gt;çŸ­é“¾ç®¡ç†è¿™æ—¶å€™ä¼šå‘ç°ä¸€ä¸ªé—®é¢˜ï¼Œåœ¨è˜‘è‡è¡—ç»„ä»¶åŒ–æ¶æ„ä¸­ï¼Œå­˜åœ¨äº†å¾ˆå¤šç¡¬ç¼–ç çš„URLå’Œå‚æ•°ã€‚&lt;/li&gt;
  &lt;li&gt;åœ¨ä»£ç å®ç°è¿‡ç¨‹ä¸­URLç¼–å†™å‡ºé”™ä¼šå¯¼è‡´è°ƒç”¨å¤±è´¥ï¼Œè€Œä¸”å‚æ•°æ˜¯ä¸€ä¸ªå­—å…¸ç±»å‹ï¼Œè°ƒç”¨æ–¹ä¸çŸ¥é“æœåŠ¡æ–¹éœ€è¦å“ªäº›å‚æ•°ï¼Œè¿™äº›éƒ½æ˜¯ä¸ªé—®é¢˜ã€‚&lt;/li&gt;
  &lt;li&gt;å¯¹äºè¿™äº›æ•°æ®çš„ç®¡ç†ï¼Œè˜‘è‡è¡—å¼€å‘äº†ä¸€ä¸ªwebé¡µé¢ï¼Œè¿™ä¸ªwebé¡µé¢ç»Ÿä¸€æ¥ç®¡ç†æ‰€æœ‰çš„URLå’Œå‚æ•°ï¼ŒAndroidå’ŒiOSéƒ½ä½¿ç”¨è¿™ä¸€å¥—URLï¼Œå¯ä»¥ä¿æŒç»Ÿä¸€æ€§ã€‚&lt;/li&gt;
&lt;/ul&gt;

&lt;h3 id=&quot;-22protocolæ–¹æ¡ˆä»£è¡¨é˜¿é‡Œçš„beehive&quot;&gt;&lt;a id=&quot;2_2&quot;&gt;&lt;/a&gt; 2.2ã€Protocolæ–¹æ¡ˆ(ä»£è¡¨ï¼šé˜¿é‡Œçš„BeeHive)&lt;/h3&gt;

&lt;ul&gt;
  &lt;li&gt;&lt;strong&gt;é¢å‘æ¥å£è°ƒç”¨ï¼Œæˆ‘ä»¬çŸ¥é“åªè¦ç›´æ¥å¼•ç”¨ä»£ç ï¼Œå°±ä¼šæœ‰ä¾èµ–ï¼Œæ¯”å¦‚ï¼š&lt;/strong&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;pre&gt;&lt;code class=&quot;language-Objective-C&quot;&gt;// A æ¨¡å—
- (void)getSomeDataFromB {
B.getSomeData();
}
// B æ¨¡å—
- (void)getSomeData {
return self.data;
}
&lt;/code&gt;&lt;/pre&gt;

&lt;ul&gt;
  &lt;li&gt;&lt;strong&gt;é‚£ä¹ˆæˆ‘ä»¬å¯ä»¥å®ç°ä¸€ä¸ª getSomeDataFromB çš„æ¥å£ï¼Œè®© A åªä¾èµ–è¿™ä¸ªæ¥å£ï¼Œè€Œ B æ¥å®ç°è¿™ä¸ªæ¥å£ï¼Œè¿™æ ·å°±å®ç°äº† A ä¸ B çš„è§£è€¦ã€‚&lt;/strong&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;pre&gt;&lt;code class=&quot;language-Objective-C&quot;&gt;// æ¥å£
@protocol BService &amp;lt;NSObject&amp;gt;
- (void)getSomeData;
@end
// A æ¨¡å—, åªä¾èµ–æ¥å£
- (void)getSomeDataFromB {
id b = findService(@protocol(BService));
b.getSomeData;
}
// B æ¨¡å—ï¼Œå®ç°BServiceæ¥å£
@interface B : NSObject &amp;lt;BService&amp;gt;
- (void)getSomeData {
return self.data;
}
@end
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;&lt;strong&gt;è¿™æ ·å°±å¯ä»¥å®ç°äº†å³æ»¡è¶³äº†æ¨¡å—ä¹‹é—´è°ƒç”¨ï¼Œä¹Ÿå®ç°äº†è§£è€¦ã€‚&lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;ä¼˜ç‚¹ï¼š&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
  &lt;li&gt;æ¥å£ç±»ä¼¼ä»£ç ï¼Œå¯ä»¥éå¸¸çµæ´»çš„å®šä¹‰å‡½æ•°å’Œå›è°ƒç­‰ã€‚&lt;/li&gt;
  &lt;li&gt;è§£å†³äº†ç¡¬ç¼–ç çš„é—®é¢˜ã€‚&lt;/li&gt;
  &lt;li&gt;&lt;strong&gt;ç¼ºç‚¹ï¼š&lt;/strong&gt;&lt;/li&gt;
  &lt;li&gt;æ¥å£å®šä¹‰æ–‡ä»¶éœ€è¦æ”¾åœ¨ä¸€ä¸ªæ¨¡å—ä»¥ä¾›ä¾èµ–ï¼Œä½†æ˜¯è¿™ä¸ªæ¨¡å—ä¸å›è´¡çŒ®ä»£ç ï¼Œæ‰€ä»¥è¿˜å¥½ã€‚&lt;/li&gt;
  &lt;li&gt;ä½¿ç”¨è¾ƒä¸ºéº»çƒ¦ï¼Œæ¯å„è°ƒç”¨éƒ½éœ€è¦å®šä¹‰ä¸€ä¸ªserviceï¼Œå¹¶å®ç°, å¯¹äºä¸€äº›å…·æœ‰æ™®é€‚æ€§è§„å¾‹çš„åœºæ™¯ä¸å¤ªåˆé€‚ï¼Œæ¯”å¦‚é¡µé¢ç»Ÿä¸€è·³è½¬ã€‚&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;&lt;strong&gt;BeeHiveæ¡†æ¶&lt;/strong&gt;&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;Moduleè´Ÿè´£ç®¡ç†æ¨¡å—çš„æ³¨å†Œå’Œé‡Šæ”¾&lt;/li&gt;
  &lt;li&gt;Protocolè´Ÿè´£å…¬å¼€ç»„ä»¶å¼€æ”¾çš„æ¥å£&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;&lt;img src=&quot;/images/posts/module/2.2.jpg&quot; alt=&quot;BeeHiveæ¡†æ¶&quot; /&gt;&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;ä¼˜åŠ¿ï¼šæ‰©å±•ç»„ä»¶çš„ç”Ÿå‘½å‘¨æœŸï¼Œå¤§å‚å¼€æº
æ³¨æ„ï¼šBeeHiveé‡‡ç”¨GPLå¼€æºåè®®ï¼Œè‹¥æœ‰ä¿®æ”¹ï¼Œä¸å…è®¸ç§æœ‰åŒ–ï¼Œå¿…é¡»å¼€æºåˆ†äº«ã€‚&lt;/strong&gt;&lt;/p&gt;

&lt;h3 id=&quot;-23target-actionæ–¹æ¡ˆcasatwyç»„ä»¶åŒ–æ–¹æ¡ˆ&quot;&gt;&lt;a id=&quot;2_3&quot;&gt;&lt;/a&gt; 2.3ã€Target-Actionæ–¹æ¡ˆ(casatwyç»„ä»¶åŒ–æ–¹æ¡ˆ)&lt;/h3&gt;

&lt;h4 id=&quot;231è°ƒç”¨æ–¹å¼&quot;&gt;2.3.1ã€è°ƒç”¨æ–¹å¼&lt;/h4&gt;

&lt;ul&gt;
  &lt;li&gt;
    &lt;p&gt;æ•´ä½“æ¶æ„casatwyç»„ä»¶åŒ–æ–¹æ¡ˆåˆ†ä¸ºä¸¤ç§è°ƒç”¨æ–¹å¼ï¼Œè¿œç¨‹è°ƒç”¨å’Œæœ¬åœ°è°ƒç”¨ï¼Œå¯¹äºä¸¤ä¸ªä¸åŒçš„è°ƒç”¨æ–¹å¼åˆ†åˆ«å¯¹åº”ä¸¤ä¸ªæ¥å£ã€‚&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;è¿œç¨‹è°ƒç”¨é€šè¿‡AppDelegateä»£ç†æ–¹æ³•ä¼ é€’åˆ°å½“å‰åº”ç”¨åï¼Œè°ƒç”¨è¿œç¨‹æ¥å£å¹¶åœ¨å†…éƒ¨åšä¸€äº›å¤„ç†ï¼Œå¤„ç†å®Œæˆåä¼šåœ¨è¿œç¨‹æ¥å£å†…éƒ¨è°ƒç”¨æœ¬åœ°æ¥å£ï¼Œä»¥å®ç°æœ¬åœ°è°ƒç”¨ä¸ºè¿œç¨‹è°ƒç”¨æœåŠ¡ã€‚&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;æœ¬åœ°è°ƒç”¨ç”±performTarget:action:params:æ–¹æ³•è´Ÿè´£ï¼Œä½†è°ƒç”¨æ–¹ä¸€èˆ¬ä¸ç›´æ¥è°ƒç”¨performTarget:æ–¹æ³•ã€‚CTMediatorä¼šå¯¹å¤–æä¾›æ˜ç¡®å‚æ•°å’Œæ–¹æ³•åçš„æ–¹æ³•ï¼Œåœ¨æ–¹æ³•å†…éƒ¨è°ƒç”¨performTarget:æ–¹æ³•å’Œå‚æ•°çš„è½¬æ¢ã€‚&lt;/p&gt;
  &lt;/li&gt;
&lt;/ul&gt;

&lt;h4 id=&quot;232æ¶æ„è®¾è®¡æ€è·¯&quot;&gt;2.3.2ã€æ¶æ„è®¾è®¡æ€è·¯&lt;/h4&gt;

&lt;ul&gt;
  &lt;li&gt;casatwyæ˜¯é€šè¿‡CTMediatorç±»å®ç°ç»„ä»¶åŒ–çš„ï¼Œåœ¨æ­¤ç±»ä¸­å¯¹å¤–æä¾›æ˜ç¡®å‚æ•°ç±»å‹çš„æ¥å£ï¼Œæ¥å£å†…éƒ¨é€šè¿‡performTargetæ–¹æ³•è°ƒç”¨æœåŠ¡æ–¹ç»„ä»¶çš„Targetã€Actionã€‚&lt;/li&gt;
  &lt;li&gt;ç”±äºCTMediatorç±»çš„è°ƒç”¨æ˜¯é€šè¿‡runtimeä¸»åŠ¨å‘ç°æœåŠ¡çš„ï¼Œæ‰€ä»¥æœåŠ¡æ–¹å¯¹æ­¤ç±»æ˜¯å®Œå…¨è§£è€¦çš„ã€‚&lt;/li&gt;
  &lt;li&gt;ä½†å¦‚æœCTMediatorç±»å¯¹å¤–æä¾›çš„æ–¹æ³•éƒ½æ”¾åœ¨æ­¤ç±»ä¸­ï¼Œå°†ä¼šå¯¹CTMediatoré€ æˆæå¤§çš„è´Ÿæ‹…å’Œä»£ç é‡ã€‚&lt;/li&gt;
  &lt;li&gt;è§£å†³æ–¹æ³•å°±æ˜¯å¯¹æ¯ä¸ªæœåŠ¡æ–¹ç»„ä»¶åˆ›å»ºä¸€ä¸ªCTMediatorçš„Categoryï¼Œå¹¶å°†å¯¹æœåŠ¡æ–¹çš„performTargetè°ƒç”¨æ”¾åœ¨å¯¹åº”çš„Categoryä¸­ï¼Œè¿™äº›Categoryéƒ½å±äºCTMediatorä¸­é—´ä»¶ï¼Œä»è€Œå®ç°äº†æ„Ÿå®˜ä¸Šçš„æ¥å£åˆ†ç¦»ã€‚&lt;/li&gt;
&lt;/ul&gt;

&lt;h4 id=&quot;233casatwyç»„ä»¶åŒ–å®ç°ç»†èŠ‚&quot;&gt;2.3.3ã€casatwyç»„ä»¶åŒ–å®ç°ç»†èŠ‚&lt;/h4&gt;

&lt;ul&gt;
  &lt;li&gt;å¯¹äºæœåŠ¡æ–¹çš„ç»„ä»¶æ¥è¯´ï¼Œæ¯ä¸ªç»„ä»¶éƒ½æä¾›ä¸€ä¸ªæˆ–å¤šä¸ªTargetç±»ï¼Œåœ¨Targetç±»ä¸­å£°æ˜Actionæ–¹æ³•ã€‚&lt;/li&gt;
  &lt;li&gt;Targetç±»æ˜¯å½“å‰ç»„ä»¶å¯¹å¤–æä¾›çš„ä¸€ä¸ªâ€œæœåŠ¡ç±»â€ï¼ŒTargetå°†å½“å‰ç»„ä»¶ä¸­æ‰€æœ‰çš„æœåŠ¡éƒ½å®šä¹‰åœ¨é‡Œé¢ï¼ŒCTMediatoré€šè¿‡runtimeä¸»åŠ¨å‘ç°æœåŠ¡ã€‚&lt;/li&gt;
  &lt;li&gt;åœ¨Targetä¸­çš„æ‰€æœ‰Actionæ–¹æ³•ï¼Œéƒ½åªæœ‰ä¸€ä¸ªå­—å…¸å‚æ•°ï¼Œæ‰€ä»¥å¯ä»¥ä¼ é€’çš„å‚æ•°å¾ˆçµæ´»ï¼Œè¿™ä¹Ÿæ˜¯casatwyæå‡ºçš„å»ModelåŒ–çš„æ¦‚å¿µã€‚&lt;/li&gt;
  &lt;li&gt;åœ¨Actionçš„æ–¹æ³•å®ç°ä¸­ï¼Œå¯¹ä¼ è¿›æ¥çš„å­—å…¸å‚æ•°è¿›è¡Œè§£æï¼Œå†è°ƒç”¨ç»„ä»¶å†…éƒ¨çš„ç±»å’Œæ–¹æ³•ã€‚&lt;/li&gt;
&lt;/ul&gt;

&lt;h2 id=&quot;-ä¸‰ç»„ä»¶åŒ–æ–¹æ¡ˆå¯¹æ¯”&quot;&gt;&lt;a id=&quot;3_0&quot;&gt;&lt;/a&gt; ä¸‰ã€ç»„ä»¶åŒ–æ–¹æ¡ˆå¯¹æ¯”&lt;/h2&gt;

&lt;h3 id=&quot;-31url-blockæ–¹å¼&quot;&gt;&lt;a id=&quot;3_1&quot;&gt;&lt;/a&gt; 3.1ã€url-blockæ–¹å¼&lt;/h3&gt;

&lt;ul&gt;
  &lt;li&gt;ç¡¬ç¼–ç é—®é¢˜ï¼Œæ¯ä¸ªç»„ä»¶å‚æ•°è°ƒç”¨éƒ½éœ€è¦æŸ¥æ‰¾å¯¹åº”ã€‚è˜‘è‡è¡—ä¸ºæ­¤å¼€å‘äº†ä¸€ä¸ªwebé¡µé¢ï¼Œè¿™ä¸ªwebé¡µé¢ç»Ÿä¸€æ¥ç®¡ç†æ‰€æœ‰çš„URLå’Œå‚æ•°ã€‚&lt;/li&gt;
  &lt;li&gt;éœ€è¦åœ¨å†…å­˜ä¸­ç»´æŠ¤url-blockçš„è¡¨ï¼Œç»„ä»¶å¤šäº†å¯èƒ½ä¼šæœ‰å†…å­˜é—®é¢˜ã€‚&lt;/li&gt;
  &lt;li&gt;urlçš„å‚æ•°ä¼ é€’å—åˆ°é™åˆ¶ï¼Œåªèƒ½ä¼ é€’å¸¸è§„çš„å­—ç¬¦ä¸²å‚æ•°ï¼Œæ— æ³•ä¼ é€’éå¸¸è§„å‚æ•°ï¼Œå¦‚UIImageã€NSDataç­‰ç±»å‹ã€‚&lt;/li&gt;
  &lt;li&gt;æ²¡æœ‰åŒºåˆ†æœ¬åœ°è°ƒç”¨å’Œè¿œç¨‹è°ƒç”¨çš„æƒ…å†µï¼Œå°¤å…¶æ˜¯è¿œç¨‹è°ƒç”¨ï¼Œä¼šå› ä¸ºurlå‚æ•°å—é™ï¼Œå¯¼è‡´ä¸€äº›åŠŸèƒ½å—é™ã€‚&lt;/li&gt;
  &lt;li&gt;ç»„ä»¶æœ¬èº«ä¾èµ–äº†ä¸­é—´ä»¶ï¼Œä¸”åˆ†æ•£æ³¨å†Œä½¿çš„è€¦åˆè¾ƒå¤šã€‚&lt;/li&gt;
&lt;/ul&gt;

&lt;h3 id=&quot;-32protocolæ–¹æ¡ˆ&quot;&gt;&lt;a id=&quot;3_2&quot;&gt;&lt;/a&gt; 3.2ã€Protocolæ–¹æ¡ˆ&lt;/h3&gt;
&lt;ul&gt;
  &lt;li&gt;0ç¡¬ç¼–ç ï¼Œä»£ç å¯è¯»æ€§é«˜;&lt;/li&gt;
  &lt;li&gt;Protocolæ–¹æ¡ˆéœ€è¦åœ¨å¯åŠ¨çš„æ—¶å€™å‘ProtocolManageræ³¨å†Œï¼Œä¾µå…¥è¾ƒå¤§ã€‚&lt;/li&gt;
&lt;/ul&gt;

&lt;h3 id=&quot;-33target_actionæ–¹æ¡ˆ&quot;&gt;&lt;a id=&quot;3_3&quot;&gt;&lt;/a&gt; 3.3ã€Target_Actionæ–¹æ¡ˆ&lt;/h3&gt;
&lt;ul&gt;
  &lt;li&gt;ä¾µå…¥æœ€å°ï¼Œä½†ç¡¬ç¼–ç è¾ƒå¤šã€‚&lt;/li&gt;
  &lt;li&gt;runtimeç¼–è¯‘é˜¶æ®µä¸æ£€æŸ¥,è¿è¡Œæ—¶æ‰æ£€æŸ¥å¯¹åº”ç±»æˆ–è€…æ–¹æ³•æ˜¯å¦å­˜åœ¨ï¼Œå¯¹å¼€å‘è¦æ±‚è¾ƒé«˜ã€‚&lt;/li&gt;
&lt;/ul&gt;

&lt;h2 id=&quot;-å››ç»„ä»¶åŒ–å®ç°åŸåˆ™&quot;&gt;&lt;a id=&quot;4_0&quot;&gt;&lt;/a&gt; å››ã€ç»„ä»¶åŒ–å®ç°åŸåˆ™&lt;/h2&gt;

&lt;h3 id=&quot;-41æŠ½è±¡åŒ–åŸåˆ™&quot;&gt;&lt;a id=&quot;4_1&quot;&gt;&lt;/a&gt; 4.1ã€æŠ½è±¡åŒ–åŸåˆ™&lt;/h3&gt;

&lt;ul&gt;
  &lt;li&gt;è¶Šåº•å±‚çš„æ¨¡å—ï¼Œåº”è¯¥è¶Šç¨³å®šï¼Œè¶ŠæŠ½è±¡ï¼Œè¶Šå…·æœ‰é«˜å¤ç”¨åº¦ã€‚&lt;/li&gt;
  &lt;li&gt;ç¨³å®šçš„æœ€ç›´è§‚è¡¨ç°å°±æ˜¯APIå¾ˆä¹…éƒ½ä¸ç”¨å˜åŒ–ï¼Œæ‰€æœ‰çš„å˜åŒ–å› å­ä¸è¦æš´éœ²å‡ºæ¥ï¼Œé¿å…ä¼ é€’ç»™ä¾èµ–å®ƒçš„æ¨¡å—ã€‚&lt;/li&gt;
  &lt;li&gt;ä½†æ˜¯è¦åšåˆ°è®¾è®¡ä¸€å¥—APIå¾ˆä¹…éƒ½ä¸ç”¨æ”¹å˜ï¼Œé‚£ä¹ˆå°±éœ€è¦è®¾è®¡çš„æ—¶å€™èƒ½è¶ŠæŠ½è±¡, å³éœ€è¦æˆ‘ä»¬æŠ½è±¡æ€»ç»“çš„èƒ½åŠ›ã€‚&lt;/li&gt;
&lt;/ul&gt;

&lt;h3 id=&quot;-42ç¨³å®šæ€§åŸåˆ™&quot;&gt;&lt;a id=&quot;4_2&quot;&gt;&lt;/a&gt; 4.2ã€ç¨³å®šæ€§åŸåˆ™&lt;/h3&gt;

&lt;p&gt;ä¸è¦è®©ç¨³å®šçš„æ¨¡å—ä¾èµ–ä¸ç¨³å®šçš„æ¨¡å—ï¼Œ å‡å°‘ä¾èµ–ï¼Œç¨³å®šæ€§ è¿˜æœ‰ä¸€ä¸ªç‰¹ç‚¹å°±æ˜¯ä¼šä¼ é€’ï¼Œæ¯”å¦‚ B æ¨¡å—ä¾èµ–äº† A æ¨¡å—ï¼Œå¦‚æœ B æ¨¡å—å¾ˆç¨³å®šï¼Œä½†æ˜¯ A æ¨¡å—ä¸ç¨³å®šï¼Œé‚£ä¹ˆBæ¨¡å—ä¹Ÿä¼šå˜çš„ä¸ç¨³å®šäº†ã€‚&lt;/p&gt;

&lt;h3 id=&quot;-43è‡ªå¤‡æ€§å®Œæ•´&quot;&gt;&lt;a id=&quot;4_3&quot;&gt;&lt;/a&gt; 4.3ã€è‡ªå¤‡æ€§å®Œæ•´&lt;/h3&gt;

&lt;p&gt;æå‡æ¨¡å—çš„å¤ç”¨åº¦ï¼Œè‡ªå®Œå¤‡æ€§æœ‰æ—¶å€™è¦ä¼˜äºä»£ç å¤ç”¨ï¼›ä»€ä¹ˆæ˜¯è‡ªå®Œå¤‡æ€§ï¼Œå°±æ˜¯å°½å¯èƒ½çš„ä¾èµ–å°‘çš„æ¨¡å—æ¥è¾¾åˆ°ä»£ç å¯å¤ç”¨ï¼›æˆ‘æœ‰ä¸ªæ¨¡å— Utils é‡Œé¢æ”¾äº†å¤§é‡çš„categoryå·¥å…·æ–¹æ³•ç­‰ï¼Œåœ¨æ—¥å¸¸UIäº§å“å¼€å‘ä¸­ï¼Œä¾èµ–è¿™ä¸ªUtilsä¼šå¾ˆæ–¹ä¾¿ï¼Œä½†æ˜¯æˆ‘ç°åœ¨è¦å†™ä¸€ä¸ªæ¯”è¾ƒåŸºç¡€çš„æ¨¡å—ï¼Œåº”è¯¥å°±è¦æ±‚å¤ç”¨åº¦æ›´é«˜ä¸€äº›ï¼Œè¿™ä¸ªæ—¶å€™éœ€è¦ç”¨åˆ°Utilsé‡Œé¢çš„å‡ ä¸ªæ–¹æ³•ï¼Œé‚£è¿™ä¸ªæ—¶å€™è¿˜é€‚åˆç›´æ¥ä¾èµ–Utilså—ï¼Œå½“ç„¶ä¸åˆé€‚äº†ï¼Œè¿™ä¸æˆ‘ä»¬ä¸Šé¢çš„è®¾è®¡åŸåˆ™ç›¸æ‚–äº†å•Šï¼Œå› æ­¤æˆ‘ä»¬è¿™æ—¶å€™ä¸ºäº†è¿™ä¸ªæ¨¡å—çš„è‡ªå®Œå¤‡æ€§ï¼Œå°±å¯ä»¥é‡æ–°å®ç°ä¸‹è¿™å‡ ä¸ªæ–¹æ³•ï¼Œè€Œä¸æ˜¯ä¾èµ–Utilsæ¨¡å—ã€‚&lt;/p&gt;

&lt;h3 id=&quot;-44ä¸è¦è®©commonå‡ºç°&quot;&gt;&lt;a id=&quot;4_4&quot;&gt;&lt;/a&gt; 4.4ã€ä¸è¦è®©Commonå‡ºç°&lt;/h3&gt;

&lt;p&gt;æ¯ä¸ªæ¨¡å—åªåšå¥½ä¸€ä»¶äº‹æƒ…ï¼Œä¸è¦è®©Commonå‡ºç°ï¼ŒæŒ‰ç…§ä½ æ¶æ„çš„å±‚æ•°ä»ä¸Šåˆ°ä¸‹ä¾èµ–ï¼Œä¸è¦å‡ºç°ä¸‹å±‚æ¨¡å—ä¾èµ–ä¸Šå±‚æ¨¡å—çš„ç°è±¡ï¼Œä¸šåŠ¡æ¨¡å—ä¹‹é—´ä¹Ÿå°½é‡ä¸è¦è€¦åˆã€‚&lt;/p&gt;

&lt;h3 id=&quot;-45ä¸šåŠ¡æ¨¡å—çœŸæ­£è§£è€¦&quot;&gt;&lt;a id=&quot;4_5&quot;&gt;&lt;/a&gt; 4.5ã€ä¸šåŠ¡æ¨¡å—çœŸæ­£è§£è€¦&lt;/h3&gt;

&lt;p&gt;ä¸ºä»€ä¹ˆè¦è§£è€¦å§ï¼Œæ¨¡å—åŒ–å¹¶ä¸æ˜¯è¯´ä½ æŠŠå·¥ç¨‹çš„ä»£ç æ‹†åˆ†æˆ 50 ä¸ª pod æˆ–è€…frameworkå°±ç®—å®Œäº‹äº†ï¼Œè¦å®ç°æ¨¡å—ä¹‹é—´çœŸæ­£çš„è§£è€¦æ‰ç®—çœŸæ­£çš„æ¨¡å—åŒ–ï¼Œå¦åˆ™å¦‚æœæ¨¡å—ä¹‹é—´è¿˜éƒ½æ˜¯äº’ç›¸è°ƒç”¨ä»£ç ï¼Œå¾ªç¯ä¾èµ–ï¼Œé‚£ä¹ˆå’ŒåŸæœ¬æ”¾æ–‡ä»¶å¤¹é‡Œé¢æ²¡å•¥ä¸¤æ ·ã€‚é‚£ä¹ˆä»€ä¹ˆæ˜¯æ¨¡å—é—´çš„è§£è€¦å‘¢ï¼Ÿæ¨¡å—è§£è€¦çš„ç›®æ ‡å°±æ˜¯, åœ¨åŸºäºæ¨¡å—è®¾è®¡åŸåˆ™ä¸Š, è®©æ¨¡å—ä¹‹é—´æ²¡æœ‰å¾ªç¯ä¾èµ–, è®©ä¸šåŠ¡æ¨¡å—ä¹‹é—´è§£é™¤ä¾èµ–ã€‚&lt;/p&gt;

&lt;h3 id=&quot;-46å•å‘ä¾èµ–&quot;&gt;&lt;a id=&quot;4_6&quot;&gt;&lt;/a&gt; 4.6ã€å•å‘ä¾èµ–&lt;/h3&gt;

&lt;p&gt;åŸºç¡€æ¨¡å—ä¸‹æ²‰ï¼Œè¿™å—å…¶å®è¿˜æ˜¯è®²çš„æ¨¡å—è®¾è®¡ï¼Œä¸€ä¸ªå·¥ç¨‹çš„æ¶æ„å¯èƒ½ä¼šåˆ†ä¸ºå¾ˆå¤šå±‚ï¼Œç„¶è€Œåœ¨å¼€å‘çš„è¿‡ç¨‹ä¸­ï¼Œå¾ˆå®¹æ˜“æœ‰äººä¸æ³¨æ„è®©åº”è¯¥å¤„äºè¾ƒåº•å±‚çš„æ¨¡å—ä¾èµ–äº†ä¸Šå±‚çš„æ¨¡å—ï¼Œè¿™ç§æƒ…å†µä¸‹åº”è¯¥å¯¹æ¨¡å—çš„è®¾è®¡è¿›è¡Œæ”¹é€ å®ç°å•å‘ä¾èµ–ã€‚&lt;/p&gt;

&lt;h2 id=&quot;-äº”ç»„ä»¶åŒ–å…·ä½“å®æ–½æ­¥éª¤&quot;&gt;&lt;a id=&quot;5_0&quot;&gt;&lt;/a&gt; äº”ã€ç»„ä»¶åŒ–å…·ä½“å®æ–½æ­¥éª¤&lt;/h2&gt;

&lt;h3 id=&quot;-51ç»„ä»¶åŒ–ç¬¬ä¸€æ­¥å‰¥ç¦»äº§å“å…¬å…±åº“å’ŒåŸºç¡€åº“&quot;&gt;&lt;a id=&quot;5_1&quot;&gt;&lt;/a&gt; 5.1ã€ç»„ä»¶åŒ–ç¬¬ä¸€æ­¥ï¼Œå‰¥ç¦»äº§å“å…¬å…±åº“å’ŒåŸºç¡€åº“&lt;/h3&gt;

&lt;p&gt;åŒ…æ‹¬ç»„ä»¶ä¸­é—´ä»¶ï¼Œç½‘ç»œè¯·æ±‚ï¼Œç¬¬ä¸‰æ–¹SDKç®¡ç†å°è£…ï¼ŒWebView(å°è£…jsï¼Œä¸”ä»¥æœåŠ¡å½¢å¼æä¾›)ï¼Œè‡ªå®šä¹‰é”®ç›˜ï¼ŒUIåŸºç¡€ç»„ä»¶ï¼Œåˆ†ç±»ã€‚ç„¶ååœ¨é¡¹ç›®é‡Œç”¨podè¿›è¡Œç®¡ç†ã€‚å…¶ä¸­ï¼Œé’ˆå¯¹ä¸‰æ–¹åº“ï¼Œæœ€å¥½å†å°è£…ä¸€å±‚ï¼Œä½¿æˆ‘ä»¬çš„é¡¹ç›®ä¸ç›´æ¥ä¾èµ–ä¸‰æ–¹åº“ï¼Œæ–¹ä¾¿åç»­å¼€å‘è¿‡ç¨‹ä¸­çš„æ›´æ¢ã€‚&lt;/p&gt;

&lt;h3 id=&quot;-52ç»„ä»¶åŒ–ç¬¬äºŒæ­¥ç‹¬ç«‹ä¸šåŠ¡æ¨¡å—å•ç‹¬æˆåº“&quot;&gt;&lt;a id=&quot;5_2&quot;&gt;&lt;/a&gt; 5.2ã€ç»„ä»¶åŒ–ç¬¬äºŒæ­¥ï¼Œç‹¬ç«‹ä¸šåŠ¡æ¨¡å—å•ç‹¬æˆåº“&lt;/h3&gt;

&lt;p&gt;æ‹†åˆ†ç²’åº¦å¯ä»¥å…ˆç²—åç»†ï¼Œå°†ç›¸å¯¹ç‹¬ç«‹çš„ç»„ä»¶æ‹†åˆ†å‡ºæ¥ã€‚åœ¨å¼€å‘è¿‡ç¨‹ä¸­ï¼Œå¯¹ä¸€äº›ç‹¬ç«‹çš„æ¨¡å—ï¼Œå¦‚ï¼šç™»å½•æ¨¡å—ã€è´¦æˆ·æ¨¡å—ç­‰ç­‰ï¼Œä¹Ÿå¯ä»¥å°è£…æˆç»„ä»¶ï¼Œå› ä¸ºè¿™äº›ç»„ä»¶æ˜¯é¡¹ç›®å¼ºä¾èµ–çš„ï¼Œè°ƒç”¨çš„é¢‘æ¬¡æ¯”è¾ƒå¤šã€‚å¦å¤–ï¼Œåœ¨æ‹†åˆ†ç»„ä»¶åŒ–çš„è¿‡ç¨‹ä¸­ï¼Œæ‹†åˆ†çš„ç²’åº¦è¦åˆé€‚ï¼Œå°½é‡åšåˆ°ç»„ä»¶çš„ç‹¬ç«‹æ€§ã€‚åŒæ—¶ï¼Œç»„ä»¶åŒ–æ˜¯ä¸€ä¸ªæ¸è¿›çš„è¿‡ç¨‹ï¼Œä¸å¯èƒ½æŠŠä¸€ä¸ªå®Œæ•´çš„å·¥ç¨‹ä¸€ä¸‹å­å…¨éƒ¨ç»„ä»¶åŒ–ï¼Œè¦åˆ†æ­¥è¿›è¡Œï¼Œé€šè¿‡ä¸åœçš„è¿­ä»£ï¼Œæ¥æœ€ç»ˆå®ç°é¡¹ç›®çš„ç»„ä»¶åŒ–ã€‚&lt;/p&gt;
&lt;h3 id=&quot;-53ç»„ä»¶åŒ–ç¬¬ä¸‰æ­¥å¯¹å¤–æœåŠ¡æœ€å°åŒ–&quot;&gt;&lt;a id=&quot;5_3&quot;&gt;&lt;/a&gt; 5.3ã€ç»„ä»¶åŒ–ç¬¬ä¸‰æ­¥ï¼Œå¯¹å¤–æœåŠ¡æœ€å°åŒ–&lt;/h3&gt;

&lt;p&gt;åœ¨å‰ä¸¤æ­¥éƒ½å®Œæˆçš„æƒ…å†µä¸‹ï¼Œæˆ‘ä»¬å¯ä»¥æ ¹æ®ç»„ä»¶è¢«è°ƒç”¨çš„éœ€æ±‚æ¥æŠ½è±¡å‡ºç»„ä»¶å¯¹å¤–çš„æœ€å°åŒ–æ¥å£ã€‚&lt;/p&gt;

&lt;h2 id=&quot;-å…­æ€»ç»“&quot;&gt;&lt;a id=&quot;6_0&quot;&gt;&lt;/a&gt; å…­ã€æ€»ç»“&lt;/h2&gt;

&lt;p&gt;ç»„ä»¶åŒ–æ–¹æ¡ˆé€‰å‹åˆ°æ­¤ç»“æŸï¼Œä½†å®é™…å®æ–½èµ·æ¥ä¼°è®¡åˆä¼šé‡åˆ°å„ç§è›‹ç–¼çš„äº‹ï¼Œå°¤å…¶æ˜¯ä¸€äº›æ—§é¡¹ç›®ï¼Œä¸€å †ä¸€å †æ— æ³¨é‡Šçš„æ—§ä»£ç æ—§é€»è¾‘ï¼Œçœ‹èµ·æ¥æ²¡ç”¨ï¼Œä½†åˆä¸æ•¢è´¸ç„¶åˆ é™¤ï¼Œæ¯åˆ é™¤ä¸€æ®µä»£ç å°±éœ€è¦æŠŠåƒç²‘ç²‘ä¸€æ ·çš„ä»£ç é€»è¾‘æ‹ä¸€éï¼Œä¸ªä¸­æ»‹å‘³ä¸ä¾¿äºäººç»†è¯´ï¼&lt;/p&gt;

&lt;p&gt;å¦‚æœæ‚¨è§‰å¾—æœ‰æ‰€å¸®åŠ©ï¼Œè¯·åœ¨&lt;a href=&quot;https://github.com/muzipiao&quot;&gt;GitHub&lt;/a&gt;ä¸Šèµä¸ªStar â­ï¸ï¼Œæ‚¨çš„é¼“åŠ±æ˜¯æˆ‘å‰è¿›çš„åŠ¨åŠ›&lt;/p&gt;

&lt;h2 id=&quot;-ä¸ƒå‚è€ƒ&quot;&gt;&lt;a id=&quot;7_0&quot;&gt;&lt;/a&gt; ä¸ƒã€å‚è€ƒ&lt;/h2&gt;

&lt;ul&gt;
  &lt;li&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;http://limboy.me/tech/2016/03/10/mgj-components.html&lt;/code&gt;&lt;/li&gt;
  &lt;li&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;http://limboy.me/tech/2016/03/10/mgj-components.html&lt;/code&gt;&lt;/li&gt;
  &lt;li&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;http://www.open-open.com/lib/view/open1487318191631.html&lt;/code&gt;&lt;/li&gt;
  &lt;li&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;http://blog.cnbang.net/tech/3080/&lt;/code&gt;&lt;/li&gt;
  &lt;li&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;http://limboy.me/tech/2016/03/10/mgj-components.html&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;
</description>
        <pubDate>Tue, 05 Jun 2018 00:00:00 +0800</pubDate>
        <link>http://localhost:4000/2018/06/iOS-%E7%BB%84%E4%BB%B6%E5%8C%96%E6%96%B9%E6%A1%88%E9%80%89%E5%9E%8B/</link>
        <guid isPermaLink="true">http://localhost:4000/2018/06/iOS-%E7%BB%84%E4%BB%B6%E5%8C%96%E6%96%B9%E6%A1%88%E9%80%89%E5%9E%8B/</guid>
        
        <category>ç»„ä»¶åŒ–</category>
        
        
      </item>
    
  </channel>
</rss>
